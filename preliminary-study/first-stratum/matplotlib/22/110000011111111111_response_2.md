```python
def hist(self, x, bins=None, range=None, density=False, weights=None,
         cumulative=False, bottom=None, histtype='bar', align='mid',
         orientation='vertical', rwidth=None, log=False,
         color=None, label=None, stacked=False, **kwargs):
    ...
    
    if isinstance(bins, (datetime.datetime, datetime.date)):
        bins = mpl.dates.date2num(bins)

    m, bins = np.histogram(x[i], bins, weights=w[i], **hist_kwargs)

    ...
```