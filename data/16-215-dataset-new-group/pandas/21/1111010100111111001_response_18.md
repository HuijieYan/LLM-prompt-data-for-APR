The issue seems to be with the identification of the key type and the subsequent handling of the key.

The key type is being inferred as "string" in all cases, which is incorrect.

Looking at the code, it seems that the logic for inferring the key type is incorrect, leading to the wrong handling of the key.

It is suggested to add a check for the key type before proceeding with the logic of handling it, ensuring that the correct type is identified.

Here's a corrected version of the `_get_with` function:

```python
def _get_with(self, key):
    # other: fancy integer or otherwise
    if isinstance(key, slice):
        # _convert_slice_indexer to determin if this slice is positional
        #  or label based, and if the latter, convert to positional
        slobj = self.index._convert_slice_indexer(key, kind="getitem")
        return self._slice(slobj)
    elif isinstance(key, ABCDataFrame):
        raise TypeError(
            "Indexing a Series with DataFrame is not "
            "supported, use the appropriate DataFrame column"
        )
    elif isinstance(key, tuple):
        return self._get_values_tuple(key)

    if is_scalar(key):
        return self.loc[key]
    elif is_list_like(key):
        if isinstance(key, Index):
            key_type = key.inferred_type
        else:
            key_type = lib.infer_dtype(key, skipna=False)

        if key_type in ["integer", "bool"]:
            return self._get_values_tuple(key)
        elif key_type in ["list", "array", "extension_array"]:
            return self.loc[key]
        else:
            return self.reindex(key)
    else:
        raise TypeError("Unsupported key type.")
```

This modified version first checks if the key is a scalar (single value) and directly returns `self.loc[key]`. Then, it categorizes the handling of the key based on its type:

- If the key type is "integer" or "bool", it calls `_get_values_tuple(key)`.
- If the key type is "list", "array", or "extension_array", it returns `self.loc[key]`.
- If the key type is different, it returns `self.reindex(key)`.
- If the type of the key is not recognized, it raises a `TypeError`.

This approach should correctly handle different types of keys and address the issue.