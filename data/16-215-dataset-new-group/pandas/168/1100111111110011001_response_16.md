The issue occurs in the `_get_grouper` function, where it raises a `KeyError` on input `gpr`.

The problem seems to be that the input `group_name` parameter is a list, so it needs to be unwrapped before being passed into the `_get_grouper` function.

To fix this bug, we can modify the input parameter `group_name` by adding an `if` statement to unwrap the list if necessary. Then, we can call `_get_grouper` with the modified `group_name` parameter.

Here's the corrected version of the `_get_grouper` function:

```python
def _get_grouper(
    obj,
    key=None,
    axis=0,
    level=None,
    sort=True,
    observed=False,
    mutated=False,
    validate=True,
):
    # ... (existing code)

    # Correct group_name parameter if it's a list
    if isinstance(key, list):
        key = key[0]

    # call _get_grouper with the updated group_name
    group_axis = obj._get_axis(axis)
    
    # ... (rest of the function remains unchanged)

    return grouper, exclusions, obj
```

This will correctly handle the `group_name` parameter when it's passed in as a list, allowing the function to work as expected.