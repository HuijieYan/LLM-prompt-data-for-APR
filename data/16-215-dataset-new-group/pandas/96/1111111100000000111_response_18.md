The issue seems to be related to the `CustomBusinessHour` class in the `pandas` library, specifically when using periods and adding holidays. The `apply` method within the `CustomBusinessHour` class is the root cause of this issue, likely due to its logic for adjusting dates based on business hours.

To fix the bug, we can modify the logic in the `apply` method to properly account for holidays and adjust the dates accordingly. The logic should be updated to correctly handle the adjustment of dates when holidays are specified, and ensure that the output adheres to the expected behavior.

Here's the corrected version of the `apply` method:

```python
# other imports...

class CustomBusinessHour:

    # other methods...

    @apply_wraps
    def apply(self, other):
        if isinstance(other, datetime):
            # existing logic...
            # adjust other to reduce number of cases to handle
            if n >= 0:
                if other.time() in self.end or not self._is_on_offset(other):
                    # handle holiday adjustment
                    if other.date() in self.holidays:
                        other = self._next_opening_time(other, sign=1)
                    else:
                        other = self._next_opening_time(other)
            else:
                if other.time() in self.start:
                    # handle holiday adjustment
                    if other.date() in self.holidays:
                        other = other - timedelta(seconds=1)
                    else:
                        other = other
                if not self._is_on_offset(other):
                    other = self._next_opening_time(other)
                    other = self._get_closing_time(other)

            # remaining logic...

            return other
        else:
            raise ApplyTypeError("Only know how to combine business hour with datetime")
```

In this corrected version, the logic for adjusting the `other` datetime object has been updated to consider holidays. When adjusting dates based on business hours, the function now checks if the date falls on a holiday and makes the necessary adjustments accordingly.

This should address the issue reported on GitHub related to using periods and adding holidays with the `CustomBusinessHour` class.