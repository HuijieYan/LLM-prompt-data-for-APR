The buggy function `_clone_functional_model` seems to be encountering an assertion error, specifically it is failing to compute an output tensor. The error message indicates that the function is unable to compute an output tensor for the `swap_layer_1/Identity:0`.

The potential error is occurring at the point where the function is iterating over the nodes in the model and trying to call the new layer, as well as updating the `tensor_map`. It seems like there might be an issue with computing the output tensors and updating the `tensor_map`.

To fix this bug, we need to ensure that the output tensors are correctly computed and added to the `tensor_map`.

Here's the corrected version of the function:

```python
def _clone_functional_model(model, input_tensors=None):
    # ... (rest of the function remains the same)

    # Check that we did compute the model outputs,
    # then instantiate a new model from inputs and outputs.
    output_tensors = []
    for x in model.outputs:
        if x not in tensor_map:
            raise ValueError('Could not compute output: ', x)
        tensor, _ = tensor_map[x]
        output_tensors.append(tensor)
    return Model(input_tensors, output_tensors, name=model.name)
```

The corrected version adds a check after the loop to ensure that all output tensors were computed. If any output tensor is not found in the `tensor_map`, it raises a `ValueError` indicating the specific tensor that could not be computed.