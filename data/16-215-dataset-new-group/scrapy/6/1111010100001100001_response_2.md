The bug in the `convert_image` function is that it does not handle the case when the input image format is not 'PNG' and the mode is not 'RGBA' correctly. It should always convert the input image to a new mode, and if a `size` is given, then create a thumbnail with the specified size.

To fix this bug, we need to modify the `convert_image` function by always creating a new background image when the input image mode is not 'RGB', and convert it to 'RGB' mode. Then, if a size is given, create a thumbnail with the specified size.

Here's the corrected version of the `convert_image` function:

```python
def convert_image(self, image, size=None):
    if image.format == 'PNG' and image.mode == 'RGBA':
        background = Image.new('RGBA', image.size, (255, 255, 255))
        background.paste(image, (0, 0), image)
        image = background.convert('RGB')
    else:
        image = image.convert('RGB')

    if size:
        image = image.copy()
        image.thumbnail(size, Image.ANTIALIAS)

    buf = BytesIO()
    image.save(buf, 'JPEG')
    return image, buf
```