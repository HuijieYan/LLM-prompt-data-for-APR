The bug in the function is that when an image is of format 'PNG' and mode 'RGBA', the function is creating a new background image to paste the original image onto and then converting it to 'RGB', which caused the test to fail.

To fix the bug, we need to check if the image format is 'PNG' and the mode is 'RGBA', and then convert it directly to 'RGB', without creating a new background image.

Here is the corrected version of the function:

```python
def convert_image(self, image, size=None):
    if image.format == 'PNG' and image.mode == 'RGBA':
        image = image.convert('RGB')
    elif image.mode != 'RGB':
        image = image.convert('RGB')

    if size:
        image = image.copy()
        image.thumbnail(size, Image.ANTIALIAS)

    buf = BytesIO()
    image.save(buf, 'JPEG')
    return image, buf
```