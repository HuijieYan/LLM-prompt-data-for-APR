## The problem:

The `match` function fails to work correctly when the `command.script` is just "git" without any options or subcommands and the error message contains "usage:". This results in an `IndexError` when attempting to split the script by whitespace and accessing the second element.

## The solution:

The `match` function should be modified to check if the `command.script` contains either "git" or "git stash" and if the `command.stderr` contains "usage:". This will prevent the `IndexError` when the `command.script` is just "git".

## The corrected version:

```python
@git_support
def match(command):
    return ('git' in command.script and 'stash' in command.script
            and 'usage:' in command.stderr)
```