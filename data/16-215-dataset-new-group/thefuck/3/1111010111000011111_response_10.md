The buggy function `info()` in the `Fish` class is intended to return the name and version of the current shell by running the command `fish -c 'echo $FISH_VERSION'`. However, the buggy function is using `fish --version` instead of `echo $FISH_VERSION`, leading to incorrect output and causing a recursive loop in some cases.

To fix this bug, the function should be modified to use the correct command to get the version of the Fish shell. Additionally, the test function should be updated to reflect the correct expected behavior, using the `echo $FISH_VERSION` command instead of `fish --version`.

Here's the corrected version of the function:

```python
class Fish(Generic):

    def info(self):
        """Returns the name and version of the current shell"""
        proc = Popen(['fish', '-c', 'echo $FISH_VERSION'],
                     stdout=PIPE, stderr=DEVNULL)
        version = proc.stdout.read().decode('utf-8').strip()
        return u'Fish Shell {}'.format(version)
```

And the corrected test function:

```python
def test_info(self, shell, Popen):
    Popen.return_value.stdout.read.return_value = b'3.5.9\n'
    assert shell.info() == 'Fish Shell 3.5.9'
    assert Popen.call_args[0][0] == ['fish', '-c', 'echo $FISH_VERSION']
```

With these changes, the function should now return the correct version information for the Fish shell and the test should pass.

This fix addresses the bug reported in the GitHub issue by using the correct command to obtain the Fish shell's version and ensuring that the test reflects the expected behavior.