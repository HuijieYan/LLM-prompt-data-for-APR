The bug in the provided function is that when extracting the version from the output of the fish shell, it includes the text "fish, version" in the version value. This causes the assertion to fail because the returned value contains the extra text.

To fix this bug, we need to modify the function to only extract the version number from the output.

Here's the corrected version of the function:

```python
def info(self):
    """Returns the name and version of the current shell"""
    proc = Popen(['fish', '-c', 'echo $FISH_VERSION'],
                 stdout=PIPE, stderr=DEVNULL)
    version = proc.stdout.read().decode('utf-8').strip()
    version = version.split(', version ')[1]  # Extract the version number
    return u'Fish Shell {}'.format(version)
```

This corrected version splits the `version` string by the ", version " substring and takes the second part, which is the actual version number. This should fix the bug and make the failing test pass.