### Error Location
The issue seems to be related to the recursive loop triggered by the `info` function in `shells/fish.py`. 

### Bug Cause
The `info` function is using the Popen and PIPE to get the version of the Fish shell, but it seems to be causing a recursive loop in certain scenarios, as described in the GitHub issue.

### Strategy for Fixing the Bug
To fix the bug, we should modify the `info` function to avoid the recursive loop caused by the Popen and PIPE usage. Instead, we can directly access the environment variables in a safer way.

### Corrected Version
```python
def info(self):
    """Returns the name and version of the current shell"""
    version = os.environ.get('FISH_VERSION')
    if version:
        return u'Fish Shell {}'.format(version)
    else:
        return "Fish Shell (version unknown)"
```
In the corrected version, we use `os.environ` to directly access the `FISH_VERSION` environment variable, which should help to prevent the recursive loop caused by Popen and PIPE usage.