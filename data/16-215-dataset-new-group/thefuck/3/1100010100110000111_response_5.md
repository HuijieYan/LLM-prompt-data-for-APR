The buggy function `info` is trying to retrieve the version of the Fish shell, but it is not handling the output correctly, causing the version string to be incorrect and triggering an assertion error in the test.

The cause of the bug is that the output of the Popen command is not being read properly, leading to an incorrect version string. Instead of just taking the output of the Popen command, we need to wait for the process to finish and then read the output.

To fix the bug, we need to use the `communicate` method of the Popen object to wait for the process to finish and then read the output. We also need to split the version string and take the actual version number from it.

Here's the corrected version of the function:

```python
def info(self):
    """Returns the name and version of the current shell"""
    proc = Popen(['fish', '-c', 'echo $FISH_VERSION'],
                 stdout=PIPE, stderr=DEVNULL)
    output, _ = proc.communicate()
    version = output.decode('utf-8').strip().split(' ')[-1]
    return u'Fish Shell {}'.format(version)
```

With this correction, the function should now correctly retrieve the version of the Fish shell and pass the failing test. This should also address the issue reported on GitHub related to the recursive loop triggered by the plugin.