The bug in the provided function is causing the assertion to fail because the output string includes the additional text "fish, version" before the actual version number. This extra text is not being handled correctly in the function.

To fix the bug, we need to modify the function to correctly handle the output from the Popen command and extract only the version number. We can achieve this by using the `communicate()` method of the `Popen` object to get both the standard output and standard error streams in a single method call.

Here's the corrected version of the function:

```python
def info(self):
    """Returns the name and version of the current shell"""
    proc = Popen(['fish', '-c', 'echo $FISH_VERSION'],
                 stdout=PIPE, stderr=PIPE)  # Capture both stdout and stderr
    output, _ = proc.communicate()  # Get the output and ignore the error stream
    version = output.decode('utf-8').replace('fish, version ', '').strip()  # Extract version number
    return u'Fish Shell {}'.format(version)
```

With this correction, the function should now correctly extract and return the version number without including the extra text, and the failing test case should pass.