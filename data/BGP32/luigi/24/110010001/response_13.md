### Analysis:
1. The `SparkSubmitTask` class has a method `_dict_arg` that is supposed to create a list of command-line arguments from a dictionary passed as input.
2. The failing test indicates a difference in the command list generated by the `_dict_arg` function, specifically related to how key-value pairs are handled in the list.
3. The function is incorrectly wrapping key-value pairs in quotes, resulting in a mismatch in the expected and actual command lists.
4. To fix the bug, we need to remove the unnecessary quotes around key-value pairs in the command list.
   
### Correction:
```python
class SparkSubmitTask(luigi.Task):
    def _dict_arg(self, name, value):
        command = []
        if value and isinstance(value, dict):
            for prop, value in value.items():
                command += [name, '{0}={1}'.format(prop, value)]  # Remove unnecessary quotes
        return command
```

By removing the quotes around the `{0}={1}` in the `format` function, we ensure that the key-value pairs are added correctly to the command list without extra quotes.