{
    "pandas:101": {
        "github_issue_title": [
            "BUG: Don't cast categorical nan to int\n",
            "Converting from categorical to int ignores NaNs\n"
        ],
        "github_issue_description": [
            " closes Converting from categorical to int ignores NaNs #28406\n passes black pandas\n tests added / passed\n whatsnew entry\nThis raises an error when attempting to cast a Categorical or CategoricalIndex containing nans to an integer dtype. Also had to remove the casting within get_indexer_non_unique since this won't always be possible.\n",
            "Code Sample, a copy-pastable example if possible\nIn [6]: s = pd.Series([1, 0, None], dtype='category')                                                                                                                                                                                            \n\nIn [7]: s                                                                                                                                                                                                                                      \nOut[7]: \n0      1\n1      0\n2    NaN\ndtype: category\nCategories (2, int64): [0, 1]\n\nIn [8]: s.astype(int)                                                                                                                                                                                                                          \nOut[8]: \n0                      1\n1                      0\n2   -9223372036854775808  # <- this is unexpected\ndtype: int64\nProblem description\nWhen converting categorical series back into Int column, it converts NaN to incorect integer negative value.\n\nExpected Output\nI would expect that NaN in category converts to NaN in IntX(nullable integer) or float.\n\nWhen trying to use d.astype('Int8'), I get an error dtype not understood\n\nOutput of pd.show_versions()\nIn [147]: pd.show_versions()                                                                                                                                                                                                                   \n\nINSTALLED VERSIONS\n------------------\ncommit           : None\npython           : 3.7.4.final.0\npython-bits      : 64\nOS               : Linux\nOS-release       : 5.2.13-arch1-1-ARCH\nmachine          : x86_64\nprocessor        : \nbyteorder        : little\nLC_ALL           : None\nLANG             : en_US.UTF-8\nLOCALE           : en_US.UTF-8\n\npandas           : 0.25.1\nnumpy            : 1.17.2\npytz             : 2019.2\ndateutil         : 2.8.0\npip              : 19.2.3\nsetuptools       : 41.2.0\nCython           : None\npytest           : 5.1.2\nhypothesis       : None\nsphinx           : None\nblosc            : None\nfeather          : 0.4.0\nxlsxwriter       : None\nlxml.etree       : None\nhtml5lib         : None\npymysql          : None\npsycopg2         : None\njinja2           : None\nIPython          : 7.8.0\npandas_datareader: None\nbs4              : None\nbottleneck       : None\nfastparquet      : None\ngcsfs            : None\nlxml.etree       : None\nmatplotlib       : None\nnumexpr          : 2.7.0\nodfpy            : None\nopenpyxl         : None\npandas_gbq       : None\npyarrow          : 0.14.1\npytables         : None\ns3fs             : None\nscipy            : None\nsqlalchemy       : None\ntables           : 3.5.2\nxarray           : None\nxlrd             : None\nxlwt             : None\nxlsxwriter       : None\n"
        ]
    }
}