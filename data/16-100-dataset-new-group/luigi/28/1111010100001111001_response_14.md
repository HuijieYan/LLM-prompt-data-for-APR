The bug in the given function `table_exists` is due to the if-else condition checking that leads to different commands being assigned to the `stdout` variable in different branches. This makes the return value inconsistent.

The strategy to fix the bug is to ensure that the value of `stdout` is consistent across both branches and that the return value is based on the result of the command execution.

Here is the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        command = 'use {0}; show tables like "{1}";'.format(database, table)
    else:
        command = """use {0}; show partitions {1} partition
                            ({2})""".format(database, table, self.partition_spec(partition))
    
    stdout = run_hive_cmd(command)
    return stdout and table in stdout
```

This way, the `stdout` variable is consistently assigned the result of the command execution and the return value is based on the result of the command. This should fix the bug and satisfy all the expected input/output values.