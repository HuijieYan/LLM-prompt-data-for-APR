Here's the corrected version of the function:

```python
# The relative path of the corrected file: luigi/contrib/hive.py

# this is the corrected function
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return stdout and table.lower() in stdout.lower()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))
        return bool(stdout)
```

### Explanation

The bug was caused by a case-sensitivity issue when checking for the existence of a table in Hive. The failing tests were due to the mismatch between the case of the table name in the function and the actual case of the table name in Hive. This issue was described in GitHub issue #896, where the suggested fix was to make the `table_exists` function case-insensitive by checking the table name against the output of `run_hive_cmd` in lowercase.

The corrected version of the function addresses this issue by converting both the table name and the output of `run_hive_cmd` to lowercase before comparison. This ensures that the function is case-insensitive and will return the correct result regardless of the case of the table name in Hive.

By making this change, the corrected function should pass the failing tests and satisfy the expected input/output values, resolving the issue posted in GitHub.