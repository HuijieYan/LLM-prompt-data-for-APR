## Potential Errors
1. Incorrect string formatting in the `else` branch with `run_hive_cmd` function.
2. Missing space in the `else` branch before the `show partitions` command.

## Bug Explanation
The buggy function has incorrect string formatting in the `else` branch and a missing space before the `show partitions` command. This can lead to incorrect commands being sent to the `run_hive_cmd` function, leading to unexpected behavior or errors.

## Strategy for Fixing the Bug
1. Use proper string formatting in the `else` branch to ensure the `run_hive_cmd` function receives the correct command.
2. Add a space before the `show partitions` command in the `else` branch to ensure the command is formed correctly.

## Corrected Version
```python
# The relative path of the corrected file: luigi/contrib/hive.py

# the corrected function
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table in stdout
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                                (%s)""" % (database, table, self.partition_spec(partition)))  # corrected string formatting
        if stdout:
            return True
        else:
            return False
```