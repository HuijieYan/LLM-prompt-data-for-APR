# Buggy Function Analysis:
The function `table_exists` is designed to check if a table exists in a given database, with an optional partition. The function uses the `run_hive_cmd` method to execute Hive commands.

# Potential Error Locations:
1. The `run_hive_cmd` method might not be functioning as expected, leading to incorrect outputs.
2. There might be a formatting error in the Hive commands being executed.

# Explanation of the Bug:
The bug in the current function is that when checking for the existence of a table with a specific partition, the Hive command is not correctly using the partition information.

# Strategy for Fixing the Bug:
1. Ensure that the `run_hive_cmd` method is functioning as expected and returning the output in the desired format.
2. Verify that the Hive commands being executed are correctly formatted, especially when dealing with partitions.

# Corrected Version of the Function:
```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables in {1} like "{2}"'.format(database, database, table))
        return stdout and table in stdout
    else:
        partition_str = self.partition_spec(partition)
        stdout = run_hive_cmd('use {0}; show partitions {1} partition ({2})'.format(database, table, partition_str))
        return bool(stdout)
```