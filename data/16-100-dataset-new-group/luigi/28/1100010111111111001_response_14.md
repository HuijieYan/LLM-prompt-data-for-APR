Here is the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return table in stdout.split("\n")
    else:
        stdout = run_hive_cmd("""use {0}; show partitions {1} partition ({2})""".format(database, table, self.partition_spec(partition)))
        return bool(stdout)
```

The bug in the original function was caused by incorrect handling of the `stdout` variable and not properly checking if the table existed in the given `stdout`. The corrected version properly handles the `stdout` by splitting it into lines, and then checking if the table exists in the output. Additionally, the corrected version uses the `bool` function to directly convert the `stdout` value to a boolean, removing the need for an explicit `if-else` statement.