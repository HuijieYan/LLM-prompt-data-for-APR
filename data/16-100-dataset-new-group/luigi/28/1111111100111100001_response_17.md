The bug in the `table_exists` function arises from the fact that it doesn't properly handle the case when the table name is found in the output of the `run_hive_cmd` function. Instead of returning `True`, it returns the truthiness of the string, which leads to incorrect comparisons.

To fix this, instead of returning the truthiness of the string, the function should check if the table name is present in the stdout and return `True` in that case, and `False` otherwise.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return table in stdout.splitlines()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))

        return bool(stdout)  # Return True if stdout is not empty, False otherwise
```