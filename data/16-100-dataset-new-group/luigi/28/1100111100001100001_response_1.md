The bug in the provided function is that when a specific partition is provided, the `run_hive_cmd` function is not being called correctly. 

The value of `self.partition_spec(partition)` is not being formatted into the command string properly.

To fix this bug, we need to ensure that the `self.partition_spec(partition)` is interpolated correctly into the command string when a specific partition is provided.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table in stdout
    else:
        partition_str = ' and '.join(['{0} = "{1}"'.format(k, v) for k, v in partition.items()])
        stdout = run_hive_cmd('use {0}; show partitions {1} partition ({2});'.format(database, table, partition_str))

        return stdout is not None
```