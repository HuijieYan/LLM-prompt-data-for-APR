The bug in the `table_exists` function is that it does not handle the case where the table name is case-insensitive. The function should return `True` if the table exists and `False` if it does not, regardless of the case of the input table name.

To fix this bug, we can modify the function to convert both the table name and the output from the `run_hive_cmd` function to lowercase and then check for the presence of the table.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        
        return stdout and table.lower() in stdout.lower().split('\n')
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                        (%s)""" % (database, table, self.partition_spec(partition)))

        return bool(stdout)
```

With this correction, the function will correctly handle case-insensitive table name comparisons and should pass the failing test cases.