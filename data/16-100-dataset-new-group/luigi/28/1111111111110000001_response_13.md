The bug in the `table_exists` function is caused by the incorrect use of the `partition_spec` method. In the `table_exists` function, when a partition is specified, the `run_hive_cmd` method is called with a string formatted based on the result of `self.partition_spec(partition)`. However, the `partition_spec` method does not accept the `self` parameter.

The suggested strategy for fixing the bug is to remove the `self` parameter from the `partition_spec` method. Since the `partition_spec` is a standalone function in the same file, it should not be treated as a method of the class `HiveCommandClient`. 

Here's the corrected version of the `table_exists` function:

```python
class HiveCommandClient(HiveClient):
    # Other methods...

    def table_exists(self, table, database='default', partition=None):
        if partition is None:
            stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

            return stdout and table in stdout
        else:
            # Call the standalone function directly, without using self
            partition_str = partition_spec(partition)  
            stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, partition_str))

            return bool(stdout)  # Return directly without using if/else
```

By using `partition_spec` directly as a standalone function without `self`, the function will behave as intended and the error should be fixed.