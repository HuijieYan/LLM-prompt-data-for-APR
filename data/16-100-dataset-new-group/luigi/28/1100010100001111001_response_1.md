The bug in the provided `table_exists` function is that it does not correctly distinguish between the cases where the table exists in the database and where the table does not exist.

In the first and third cases, the function returns `True` when it should not, as the table does not exist.

In the second and fourth cases, the function should return `True` but it doesn't, instead returning `False`.

To fix the bug, we need to modify the conditional checks for `stdout` and the returned values.

Here's a corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return table in stdout.split()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                        (%s)""" % (database, table, self.partition_spec(partition)))
        return table in stdout.split()
```

In this corrected version, we split the `stdout` by whitespace and directly return whether the `table` exists in the result. This modification will correctly handle both cases where the table exists and where it doesn't exist in the database.