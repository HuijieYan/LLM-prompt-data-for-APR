The bug in the provided function is that it always returns False when the stdout is not empty, instead of returning True. This causes the test cases to fail.

The bug is in the following section of the code:
```python
if stdout:
    return True
else:
    return False
```

This code should return True if stdout is not empty; however, it is currently returning False in the else block.

To fix this bug, the function should return True if stdout is not empty and False otherwise.

Here is the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return table in stdout
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))
        return bool(stdout)  # returns True if stdout is not empty, False otherwise
```