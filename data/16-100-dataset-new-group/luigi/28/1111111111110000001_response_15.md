The cause of the bug is that the `table_exists` function is not using the provided `database` and `table` variables to run the hive command properly, causing it to always return False. It's also not handling the partition argument properly.

To fix the bug, we need to modify the `table_exists` function to use the `database` and `table` variables to construct the SQL query, and handle the partition argument properly. We also need to make sure the `run_hive_cmd` function is being called correctly.

Here's the corrected version of the `table_exists` function:

```python
class HiveCommandClient(HiveClient):
    """
    Uses `hive` invocations to find information.
    """

    def table_exists(self, table, database='default', partition=None):
        if partition is None:
            stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
            return stdout and table in stdout
        else:
            if isinstance(partition, dict):
                partition_list = ', '.join(["{0}='{1}'".format(k, v) for k, v in partition.items()])
                partition_query = "partition ({0})".format(partition_list)
            else:
                partition_query = "partition ({0})".format(partition)

            stdout = run_hive_cmd("use {0}; show partitions {1} {2} {3}".format(
                database, table, partition_query, self.partition_spec(partition)))
            
            return bool(stdout)
```

In this corrected version, we have fixed the query construction to use the `database` and `table` variables properly, and also handled the `partition` argument properly. This version should pass the failing test cases.