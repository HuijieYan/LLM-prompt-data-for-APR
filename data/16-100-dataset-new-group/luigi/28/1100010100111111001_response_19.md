The cause of the bug is that the function is not correctly checking for the existence of the specified table. In the first two cases, the function returns the opposite of what is expected. In the third and fourth cases, the function does not handle partitions correctly, returning the opposite of the expected result.

To fix the bug, the function should correctly parse and handle the output of the `run_hive_cmd` function to determine if the specified table exists.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}"'.format(database, table))
        return table in stdout.split()
    else:
        stdout = run_hive_cmd("use {0}; show partitions {1} partition ({2})".format(database, table, self.partition_spec(partition)))
        return bool(stdout)
```