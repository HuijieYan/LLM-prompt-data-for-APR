The bug in the provided function is that the 'table_exists' function is not correctly checking if a table exists in the given database and partition using run_hive_cmd. It is also not handling the case when the table name is case-sensitive, as in the second test case.

The strategy to fix the bug is to modify the condition to check if the table exists by considering the case-insensitive matching and also handle the partition case correctly.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables;'.format(database))

        return any(t.lower() == table.lower() for t in stdout.split())
    else:
        stdout = run_hive_cmd('use {0}; show partitions {1} partition ({2})'.format(database, table, self.partition_spec(partition)))

        return bool(stdout)
```

In this corrected version, I have used `t.lower() == table.lower()` to perform case-insensitive matching for the table name. For the partition case, I have used a similar approach to check if stdout is not empty to determine if the partition exists. This function now should satisfy all the expected input/output values for the given test cases.