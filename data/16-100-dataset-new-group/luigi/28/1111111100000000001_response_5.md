The bug in the `table_exists` function seems to be related to how the `run_hive_cmd` function is being called and the formatting of the command being passed to it. 

The `run_hive_cmd` function is being called within the `table_exists` function to execute Hive commands. However, the formatting of the commands being passed to `run_hive_cmd` seems to be incorrect in the case where `partition` is not `None`. 

The `stdout` assignment for the command when `partition` is not `None` is missing the proper formatting with the `self.partition_spec(partition)` method. It should be formatted similarly to the first `stdout` assignment.

To correct the bug, the `stdout` assignment for the command when `partition` is not `None` should be formatted correctly with `self.partition_spec(partition)`.

Here is the corrected version of the `table_exists` function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table in stdout
    else:
        partition_clause = 'partition (%s)' % self.partition_spec(partition)
        stdout = run_hive_cmd('use {0}; show partitions {1} {2}'.format(database, table, partition_clause))

        return bool(stdout)
```