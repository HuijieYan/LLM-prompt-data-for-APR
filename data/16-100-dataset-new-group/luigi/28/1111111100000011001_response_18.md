The bug in the provided function is that the `run_hive_cmd` function is called without the proper object reference, which means it won't work correctly in the context of the class. Additionally, the string formatting in the second part of the function appears to be incorrect.

To fix the bug, the `run_hive_cmd` function should be called using the `self` reference to belong to the class, and the string formatting should be fixed to ensure the correct command is passed to the function.

Here's the corrected version of the function:

```python
class HiveCommandClient(HiveClient):
    """
    Uses `hive` invocations to find information.
    """

    def table_exists(self, table, database='default', partition=None):
        if partition is None:
            stdout = self.run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
            return stdout and table in stdout
        else:
            stdout = self.run_hive_cmd("use {0}; show partitions {1} partition ({2})".format(database, table, partition))
            return bool(stdout)
```