The bug in the function `table_exists` is that it returns the opposite boolean value than expected. When the function should return `True`, it returns `False`, and vice versa.

The cause of the bug is that the function is returning the opposite boolean value because of the conditional statements.

To fix the bug, we should update the function to return the correct boolean value for both cases when `partition` is `None` and when it's not. We can use the `if...else` statement to check for the presence of `table` in `stdout`, and return `True` if found, and `False` otherwise.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return table in stdout
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))

        return bool(stdout)
```

This corrected version ensures that the function returns the correct boolean value based on the existence of the table or partition.