The bug in the `table_exists` function is that it does not handle case insensitivity correctly when checking if a table exists in the Hive database. This causes the failing tests to produce incorrect results when checking for table existence.

The cause of the bug is that the function directly compares the table name with the output of a Hive command without considering case sensitivity.

To fix the bug, the function should convert both the table name and the output of the Hive command to lowercase (or uppercase) before comparing them.

Here is the corrected version of the `table_exists` function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table.lower() in stdout.lower()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))

        if stdout:
            return True
        else:
            return False
```

By converting both the table name and the output of the Hive command to lowercase before comparison, the function will now handle case insensitivity correctly and pass the failing tests.

This fix also addresses the GitHub issue #896, which requests making the `table_exists` function case insensitive.