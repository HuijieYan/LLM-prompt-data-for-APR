The bug in the function `table_exists` arises from an incorrect condition that checks if `stdout` is truthy. In the first part of the function, it checks if `stdout` is not empty, and in the second part, it checks if `stdout` exists. These two checks are inconsistent and do not accurately determine if the table exists in the database or not.

To fix the bug, the function should consistently check for the presence of the table in the output of the hive command.

Here's the corrected function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return table in stdout
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))
        return stdout is not None and table in stdout
```

In this corrected version, the function consistently checks if the `table` is present in the `stdout`, whether or not a partition is specified. This resolves the inconsistency in the original function and should now return the correct result for the given input cases.