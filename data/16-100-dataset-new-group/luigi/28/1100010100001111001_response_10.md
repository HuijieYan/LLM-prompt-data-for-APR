The cause of the bug is that the function is not properly handling the output from the `run_hive_cmd` function. It checks for the presence of the table name in the output, but the comparison is case-sensitive, and it does not account for potentially mixed case table names. Additionally, the partition check is not handling the stdout output correctly.

To fix the bug, the function should convert the table name to lowercase before comparing it with the stdout output. For the partition check, the function should properly check for the presence of the partition in the stdout.

Here's the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table.lower() in stdout.lower()
    else:
        partition_output = run_hive_cmd("""use {0}; show partitions {1} partition
                            ({2})""".format(database, table, self.partition_spec(partition)))

        return bool(partition_output)
```