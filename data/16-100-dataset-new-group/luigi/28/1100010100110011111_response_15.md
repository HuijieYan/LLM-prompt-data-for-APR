The bug in the `table_exists` function is that it is not handling case insensitivity correctly when checking if a table exists in the database. This is causing the test cases to fail.

The expected behavior is that when checking if a table exists, the function should be case insensitive, so it should return `True` if the table exists in any case.

To fix this bug, we need to modify the function to make it case insensitive. We can achieve this by converting both the table name and the output from `run_hive_cmd` to lowercase before performing the comparison.

Here is the corrected version of the function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table.lower() in stdout.lower()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                        (%s)""" % (database, table, self.partition_spec(partition)))

        if stdout:
            return True
        else:
            return False
```

With this correction, the function should now handle case insensitivity correctly and pass all the failing test cases. It also resolves the GitHub issue #896.