The bug in the provided function `table_exists` is that it calls a non-existent method `run_hive_cmd` in a non-existent class `HiveClient`.

To fix the bug, we need to import the necessary modules and define the missing class and method or use the correct class and method that has the functionality we need.

Here is the corrected version of the code:

```python
class HiveClient:
    def run_hive_cmd(self, hivecmd, check_return_code=True):
        # implementation of the run_hive_cmd method

class HiveCommandClient(HiveClient):
    """
    Uses `hive` invocations to find information.
    """
    # implementation of partition_spec method
    ...

    def table_exists(self, table, database='default', partition=None):
        if partition is None:
            stdout = self.run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
    
            return stdout and table in stdout
        else:
            stdout = self.run_hive_cmd("""use %s; show partitions %s partition
                                (%s)""" % (database, table, self.partition_spec(partition)))
    
            if stdout:
                return True
            else:
                return False
```

In this corrected version, we have defined the `HiveClient` class and its method `run_hive_cmd`. We also corrected the call to `run_hive_cmd` by using `self.run_hive_cmd` to ensure that the method is called on an instance of the class and not as a standalone function.