The bug in the `table_exists` function is that it doesn't handle case insensitivity when comparing the table name with the output from the command run by `run_hive_cmd`. This causes the tests to fail when the table name is in a different case.

To fix this bug, we need to modify the `table_exists` function to convert the table name to lowercase before comparing it with the output from `run_hive_cmd`.

Here's the corrected version of the `table_exists` function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))
        return stdout and table.lower() in stdout.lower()
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                        (%s)""" % (database, table, self.partition_spec(partition)))
        if stdout:
            return True
        else:
            return False
```

With this change, the function will convert both the table name and the output to lowercase before performing the comparison. This will make the comparison case insensitive and fix the failing test.

This change also addresses the GitHub issue #896, which suggests making `table_exists` case insensitive.