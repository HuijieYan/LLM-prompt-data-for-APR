The problematic function `_convert_key` in the file `pandas/core/indexing.py` is causing the issue. The function is responsible for converting the key to a specific type based on the index. The error message indicates that there is a problem with `At based indexing on a non-integer index can only have non-integer indexers`.

The failing test from `pandas/tests/indexes/test_numeric.py` is trying to test lookups for datetime-like values with a Float64Index and the error is occurring during the `ser.at[4]` operation.

The GitHub issue title for this bug is "BUG: corner cases in DTI.get_value, Float64Index.get_value" and it describes that series lookups are affected for the Float64Index case.

To fix the bug, the _convert_key function needs to be modified to handle the given corner cases for the Float64Index. It seems that the issue is with the type checking and handling of integer and non-integer indexes. The conditional statements in the function need to be reviewed and updated to correctly handle the specific cases.

Here's the corrected code for the problematic function:

```python
def _convert_key(self, key, is_setter: bool = False):
    """
    Require they keys to be the same type as the index. (so we don't
    fallback)
    """
    # allow arbitrary setting
    if is_setter:
        return list(key)

    for ax, i in zip(self.obj.axes, key):
        if isinstance(ax, pd.Float64Index):
            if isinstance(i, int):
                i = float(i)
            elif not isinstance(i, float):
                raise ValueError(
                    "At based indexing on a non-integer index can only have non-integer indexers"
                )
        elif ax.is_integer():
            if not pd.api.types.is_integer(i):
                raise ValueError(
                    "At based indexing on an integer index can only have integer indexers"
                )
        else:
            if pd.api.types.is_integer(i) and not ax.holds_integer():
                raise ValueError(
                    "At based indexing on a non-integer index can only have non-integer indexers"
                )
    return key
```

This corrected function handles the specific cases for Float64Index and integer/non-integer types more accurately. It should resolve the issue reported in the failing test and GitHub issue.