The buggy function `_convert_key` is part of the `_AtIndexer` class. This function is used to convert keys to be the same type as the index. The failing test function `test_lookups_datetimelike_values` is trying to call the `_convert_key` function and is raising a `ValueError` because it is not handling non-integer indexes properly.

The cause of the bug is that when the key is non-integer, the function does not handle it correctly. It checks if the index axis is an integer, but it does not check if the key itself is an integer.

To fix the bug, the `_convert_key` function needs to properly handle the case when the key is non-integer.

The corrected code for the `_convert_key` function is as follows:

```python
class _AtIndexer(_ScalarAccessIndexer):
    def _convert_key(self, key, is_setter: bool = False):
        if is_setter:
            return list(key)

        for ax, i in zip(self.obj.axes, key):
            if ax.is_integer():
                if not is_integer(i):
                    raise ValueError(
                        "At based indexing on an integer index "
                        "can only have integer indexers"
                    )
            elif not is_integer(i):  # check if the key is non-integer
                raise ValueError(
                    "At based indexing on a non-integer "
                    "index can only have non-integer "
                    "indexers"
                )
        return key
```

With this correction, the `_convert_key` function will properly handle non-integer indexes and pass the failing test.