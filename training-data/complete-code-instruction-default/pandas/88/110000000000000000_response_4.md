```python
from pandas import DataFrame, Series, MultiIndex
from typing import Union, List, Tuple, Dict, Any

@Substitution("\ndata : DataFrame")
@Appender(_shared_docs["pivot_table"], indents=1)
def pivot_table(
    data: DataFrame,
    values: Union[str, List[str]] = None,
    index: Union[str, List[str]] = None,
    columns: Union[str, List[str]] = None,
    aggfunc: Union[str, List[str]] = "mean",
    fill_value: Any = None,
    margins: bool = False,
    dropna: bool = True,
    margins_name: str = "All",
    observed: bool = False,
) -> DataFrame:
    # Rest of the function remains the same
```