The bug in the given function is that it does not handle case sensitivity when checking for the existence of a table in the Hive database. The function only compares the table name with the output from the Hive command, without considering the case of the table name.

The GitHub issue titled "hive table_exists should be case insensitive" provides a clear description of the problem and suggests a possible solution: checking the lowercase version of the table name against the lowercase version of the stdout.

To fix the bug, we can modify the `table_exists` function to convert both the table name and the stdout to lowercase before comparing them.

Here's the corrected code for the `table_exists` function:

```python
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table.lower() in stdout.lower()
    else:
        partition_spec = self.partition_spec(partition)
        stdout = run_hive_cmd('use {0}; show partitions {1} partition ({2})'.format(database, table, partition_spec))

        return bool(stdout)
```

In this corrected code:
- We convert the `table` variable and the `stdout` to lowercase using the `lower()` function before comparing them.
- We also call the `self.partition_spec` function to retrieve the partition specification for the specified partition.

With these modifications, the function should now handle case insensitivity when checking for the existence of a table in the Hive database.

The GitHub issue titled "Fix #896: make table_exists case insensitive" can be closed once this fix is implemented.