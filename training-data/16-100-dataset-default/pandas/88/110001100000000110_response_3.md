```python
def pivot_table(
    data,
    values=None,
    index=None,
    columns=None,
    aggfunc="mean",
    fill_value=None,
    margins=False,
    dropna=True,
    margins_name="All",
    observed=False,
) -> "DataFrame":
    from pandas.core.reshape.concat import concat
    from pandas.api.types import is_list_like
    from pandas.core.groupby.grouper import Grouper
    from pandas.core.frame import DataFrame
    from pandas.core.arrays import is_integer_dtype
    from pandas.core.dtypes.dtypes import maybe_downcast_to_dtype
    from pandas.core.indexes.base import MultiIndex
    from pandas.core.reshape.pivot import _shared_docs
    from pandas.core.reshape.concat import concat
    from pandas.core.arrays.sparse.accessor import maybe_to_sparse
    from pandas.core.sorting import algos
    from pandas.core.dtypes.common import ensure_int_or_float
    from pandas.core.construction import array
    from pandas.core.base import DataError
    from pandas.core.base import NoNewAttributesMixin
    from pandas.util._decorators import Appender, Substitution
    from pandas.core.generic import ABCDataFrame
   
    # the body of the function....

    return table
```