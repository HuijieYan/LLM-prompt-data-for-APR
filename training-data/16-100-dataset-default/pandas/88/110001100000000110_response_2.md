```python
import pandas as pd

def pivot_table(
    data,
    values=None,
    index=None,
    columns=None,
    aggfunc="mean",
    fill_value=None,
    margins=False,
    dropna=True,
    margins_name="All",
    observed=False,
    values_multi=None
) -> "DataFrame":
    # fixed buggy section
    if values_passed and not values_multi and not table.empty and table.index.nlevels > 1:
        table = table[values[0]]

    if len(values_multi) == 0 and len(columns) > 0:
        table = table.T

    if isinstance(table, pd.DataFrame) and dropna:
        table = table.dropna(how="all", axis=1)

    return table
```