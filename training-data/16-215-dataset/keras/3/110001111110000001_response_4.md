The error seems to be occurring in the `_clone_functional_model` function, specifically when checking if all the output tensors have been computed. The error message states that it could not compute the output tensor with the name "swap_layer_1/Identity:0".

The cause of the bug seems to be related to how the function is treating the multiple outputs from the layers. The model in the failing test has multiple output tensors, and the function is not handling them correctly.

One possible approach to fixing the bug is to ensure that all the output tensors are computed and mapped correctly to the new model. This may require modifying how the function handles layers with multiple outputs.

Here's a corrected version of the `_clone_functional_model` function:

```python
def _clone_functional_model(model, input_tensors=None):
    if not isinstance(model, Model):
        raise ValueError('Expected `model` argument to be a `Model` instance, got ', model)
    if isinstance(model, Sequential):
        raise ValueError('Expected `model` argument to be a functional `Model` instance, got a `Sequential` instance instead:', model)

    # Clone the layers and nodes of the model
    copied_layers = {}
    for layer in model.layers:
        copied_layers[layer.name] = layer.__class__.from_config(layer.get_config())

    # Recreate the model with new input_tensors and output_tensors
    if input_tensors is None:
        input_tensors = [Input(batch_shape=layer.batch_input_shape, dtype=layer.dtype, sparse=layer.sparse, name=layer.name) for layer in model._input_layers]

    output_tensors = []
    for node in model._nodes_by_depth[0]:  # Assuming input nodes are at depth 0
        layer_name = node.outbound_layer.name
        if layer_name in copied_layers:
            output_tensors.append(copied_layers[layer_name](input_tensors))

    new_model = Model(input_tensors, output_tensors, name=model.name)
    return new_model
```

In this corrected version, we directly clone the layers and recreate the model with the new input and output tensors, handling multiple outputs and ensuring that all output tensors are computed. This should pass the failing test.