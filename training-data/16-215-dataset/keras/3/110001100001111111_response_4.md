The bug in the `_clone_functional_model` function seems to be related to the handling of output masks for layers that do not support masks, particularly in the context of the `clone_model` function being used with `cpu_relocation=True`. This is consistent with the GitHub issue provided, where the user encounters an error related to the inability to compute the output tensor when using the `clone_model` function.

The issue seems to arise from the fact that the `output_masks` variable is always set to `None` due to layer.compute_mask(...) always returning `None` for layers that do not support masks. This causes an AssertionError when trying to compute the output tensor.

To fix this issue, the `_clone_functional_model` function needs to be modified to properly handle the case where layers do not support masks.

The correction involves updating the code to properly handle layers that do not support masks and to ensure that the `output_masks` variable is properly handled in these cases.

Here's the corrected code for the problematic function:

```python
def _clone_functional_model(model, input_tensors=None):
    # ... (other parts of the function remain unchanged)

    for x, y in zip(model.inputs, input_tensors):
        tensor_map[x] = (y, None)  # tensor, mask

    # Iterated over every node in the reference model, in depth order.
    depth_keys = list(model._nodes_by_depth.keys())
    depth_keys.sort(reverse=True)
    for depth in depth_keys:
        nodes = model._nodes_by_depth[depth]
        for node in nodes:
            # ... (existing code)

            # Call layer.
            if node.arguments:
                kwargs = node.arguments
            else:
                kwargs = {}

            # Update tensor_map.
            for x, y in zip(reference_output_tensors, output_tensors):
                tensor_map[x] = (y, None)  # we don't need output masks

    # Check that we did compute the model outputs,
    # then instantiate a new model from inputs and outputs.
    output_tensors = [tensor_map[x][0] for x in model.outputs]
    return Model(input_tensors, output_tensors, name=model.name)
```

With this correction, the function ensures that output masks are handled properly, especially for layers that do not support masks. This should resolve the issue reported in the GitHub post and provide the expected output for the given input parameters.

Please note that this correction assumes that the rest of the function and related code operates as expected and does not introduce any new issues.