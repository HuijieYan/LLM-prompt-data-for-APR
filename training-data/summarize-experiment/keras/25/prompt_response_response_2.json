{
    "keras": [
        {
            "bugID": 25,
            "start_line": 21,
            "file_name": "keras/applications/imagenet_utils.py",
            "replace_code": "def _preprocess_numpy_input(x, data_format, mode):\n    if mode == 'tf':\n        # Scale pixels between -1 and 1, sample-wise\n        x = x / 127.5 - 1.0\n        return x\n\n    if mode == 'torch':\n        # Scale pixels between 0 and 1\n        x = x / 255.0\n        mean = [0.485, 0.456, 0.406]\n        std = [0.229, 0.224, 0.225]\n        for i in range(x.shape[-1]):\n            x[..., i] -= mean[i]\n            x[..., i] /= std[i] if std is not None else 1.0\n        return x\n\n    # Preprocess for 'caffe' mode\n    if data_format == 'channels_first':\n        if x.ndim == 3:\n            # 'RGB' -> 'BGR'\n            x = x[::-1, ...]\n        else:\n            x = x[:, ::-1, ...]\n    else:\n        # 'RGB' -> 'BGR'\n        x = x[..., ::-1]\n    mean = np.array([103.939, 116.779, 123.68])\n    x = x - mean\n    return x",
            "import_list": [
                "import numpy as np"
            ]
        }
    ]
}