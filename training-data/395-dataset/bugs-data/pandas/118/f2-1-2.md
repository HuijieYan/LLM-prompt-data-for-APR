# Error stack trace

```json
[
    [
        "self = <pandas.tests.reshape.test_melt.TestMelt object at 0x11cee1610>\n\n    def test_melt_mixed_int_str_id_vars(self):\n        # GH 29718\n        df = DataFrame({0: [\"foo\"], \"a\": [\"bar\"], \"b\": [1], \"d\": [2]})\n>       result = melt(df, id_vars=[0, \"a\"], value_vars=[\"b\", \"d\"])\n\npandas/tests/reshape/test_melt.py:323: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nframe =      0    a  b  d\n0  foo  bar  1  2, id_vars = [0, 'a']\nvalue_vars = ['b', 'd'], var_name = None, value_name = 'value', col_level = None\n\n    @Appender(\n        _shared_docs[\"melt\"]\n        % dict(caller=\"pd.melt(df, \", versionadded=\"\", other=\"DataFrame.melt\")\n    )\n    def melt(\n        frame: DataFrame,\n        id_vars=None,\n        value_vars=None,\n        var_name=None,\n        value_name=\"value\",\n        col_level=None,\n    ) -> DataFrame:\n        # TODO: what about the existing index?\n        # If multiindex, gather names of columns on all level for checking presence\n        # of `id_vars` and `value_vars`\n        if isinstance(frame.columns, ABCMultiIndex):\n            cols = [x for c in frame.columns for x in c]\n        else:\n            cols = list(frame.columns)\n    \n        if id_vars is not None:\n            if not is_list_like(id_vars):\n                id_vars = [id_vars]\n            elif isinstance(frame.columns, ABCMultiIndex) and not isinstance(id_vars, list):\n                raise ValueError(\n                    \"id_vars must be a list of tuples when columns are a MultiIndex\"\n                )\n            else:\n                # Check that `id_vars` are in frame\n                id_vars = list(id_vars)\n                missing = Index(np.ravel(id_vars)).difference(cols)\n                if not missing.empty:\n>                   raise KeyError(\n                        \"The following 'id_vars' are not present\"\n                        \" in the DataFrame: {missing}\"\n                        \"\".format(missing=list(missing))\n                    )",
        "\npandas/core/reshape/melt.py:52: KeyError"
    ],
    [
        "self = <pandas.tests.reshape.test_melt.TestMelt object at 0x11cfc2b50>\n\n    def test_melt_mixed_int_str_value_vars(self):\n        # GH 29718\n        df = DataFrame({0: [\"foo\"], \"a\": [\"bar\"]})\n>       result = melt(df, value_vars=[0, \"a\"])\n\npandas/tests/reshape/test_melt.py:332: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nframe =      0    a\n0  foo  bar, id_vars = [], value_vars = [0, 'a']\nvar_name = None, value_name = 'value', col_level = None\n\n    @Appender(\n        _shared_docs[\"melt\"]\n        % dict(caller=\"pd.melt(df, \", versionadded=\"\", other=\"DataFrame.melt\")\n    )\n    def melt(\n        frame: DataFrame,\n        id_vars=None,\n        value_vars=None,\n        var_name=None,\n        value_name=\"value\",\n        col_level=None,\n    ) -> DataFrame:\n        # TODO: what about the existing index?\n        # If multiindex, gather names of columns on all level for checking presence\n        # of `id_vars` and `value_vars`\n        if isinstance(frame.columns, ABCMultiIndex):\n            cols = [x for c in frame.columns for x in c]\n        else:\n            cols = list(frame.columns)\n    \n        if id_vars is not None:\n            if not is_list_like(id_vars):\n                id_vars = [id_vars]\n            elif isinstance(frame.columns, ABCMultiIndex) and not isinstance(id_vars, list):\n                raise ValueError(\n                    \"id_vars must be a list of tuples when columns are a MultiIndex\"\n                )\n            else:\n                # Check that `id_vars` are in frame\n                id_vars = list(id_vars)\n                missing = Index(np.ravel(id_vars)).difference(cols)\n                if not missing.empty:\n                    raise KeyError(\n                        \"The following 'id_vars' are not present\"\n                        \" in the DataFrame: {missing}\"\n                        \"\".format(missing=list(missing))\n                    )\n        else:\n            id_vars = []\n    \n        if value_vars is not None:\n            if not is_list_like(value_vars):\n                value_vars = [value_vars]\n            elif isinstance(frame.columns, ABCMultiIndex) and not isinstance(\n                value_vars, list\n            ):\n                raise ValueError(\n                    \"value_vars must be a list of tuples when columns are a MultiIndex\"\n                )\n            else:\n                value_vars = list(value_vars)\n                # Check that `value_vars` are in frame\n                missing = Index(np.ravel(value_vars)).difference(cols)\n                if not missing.empty:\n>                   raise KeyError(\n                        \"The following 'value_vars' are not present in\"\n                        \" the DataFrame: {missing}\"\n                        \"\".format(missing=list(missing))\n                    )",
        "\npandas/core/reshape/melt.py:74: KeyError"
    ]
]
```
