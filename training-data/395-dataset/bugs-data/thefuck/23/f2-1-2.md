# Error stack trace

```json
[
    [
        "self = <tests.test_utils.TestCache object at 0x109d0b390>\nshelve = {'tests.test_utils.<function TestCache.fn.<locals>.fn ': {'etag': '-1', 'value': 'old-value'}}\nfn = <function TestCache.fn.<locals>.fn at 0x109f8add0>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_when_etag_changed(self, shelve, fn, key):\n        shelve.update({key: {'etag': '-1', 'value': 'old-value'}})\n>       assert fn() == 'test'\n\ntests/test_utils.py:181: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-4>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x109f8ab90>, args = (), kwargs = {}\ncache_path = '/var/folders/ng/72llsm517x12c2p18htksyjc0000gn/T/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ],
    [
        "self = <tests.test_utils.TestCache object at 0x109fe2d10>\nshelve = {'tests.test_utils.<function TestCache.fn.<locals>.fn ': {'etag': '0', 'value': 'new-value'}}\nfn = <function TestCache.fn.<locals>.fn at 0x109fbb7a0>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_with_filled_cache(self, shelve, fn, key):\n        cache_value = {key: {'etag': '0', 'value': 'new-value'}}\n        shelve.update(cache_value)\n>       assert fn() == 'new-value'\n\ntests/test_utils.py:176: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-6>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x109fbb560>, args = (), kwargs = {}\ncache_path = '/var/folders/ng/72llsm517x12c2p18htksyjc0000gn/T/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ],
    [
        "self = <tests.test_utils.TestCache object at 0x109d9d4d0>, shelve = {}\nfn = <function TestCache.fn.<locals>.fn at 0x109fbb4d0>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_with_blank_cache(self, shelve, fn, key):\n        assert shelve == {}\n>       assert fn() == 'test'\n\ntests/test_utils.py:170: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-8>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x109fbb950>, args = (), kwargs = {}\ncache_path = '/var/folders/ng/72llsm517x12c2p18htksyjc0000gn/T/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ]
]
```
