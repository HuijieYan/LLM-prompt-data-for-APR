The issue description is:

```text
When a command outputs a sequence with non-ascii characters, no fucks are given with a dirty UnicodeEncodeError followed by a grep --compact not recognized option.

Example :

~$ aptget blah
La commande « aptget » est introuvable, vouliez-vous dire :
 La commande « apt-get » du paquet « apt » (main)
aptget : commande introuvable
~$ fuck
apt-get blah [enter/ctrl+c]
E: L'opération blah n'est pas valable
~$ fuck
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/main.py", line 100, in get_matched_rule
    if rule.match(command, settings):
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/rules/history.py", line 28, in match
    _history_of_exists_without_current(command)))
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/utils.py", line 109, in wrapper
    memo[key] = fn(*args, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/rules/history.py", line 19, in _history_of_exists_without_current
    history = get_history()
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/utils.py", line 109, in wrapper
    memo[key] = fn(*args, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/shells.py", line 267, in get_history
    return list(_get_shell().get_history())
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/shells.py", line 67, in get_history
    prepared = self._script_from_history(line)\
  File "/usr/local/lib/python2.7/dist-packages/thefuck-2.1-py2.7.egg/thefuck/shells.py", line 103, in _script_from_history
    print(line)
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe9' in position 4: ordinal not in range(128)
----------------------------

No fuck given
grep : option non reconnue « --compact »
Utilisation : grep [OPTION]... MOTIF [FICHIER]...
Exécutez « grep --help » pour obtenir des renseignements complémentaires.
sync: ignorer tous les arguments
```
