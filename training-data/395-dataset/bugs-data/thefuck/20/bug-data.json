{
    "thefuck:20": {
        "/Volumes/SSD2T/bgp_envs/repos/thefuck_20/thefuck/rules/dirty_unzip.py": {
            "buggy_functions": [
                {
                    "function_name": "_zip_file",
                    "function_code": "def _zip_file(command):\n    # unzip works that way:\n    # unzip [-flags] file[.zip] [file(s) ...] [-x file(s) ...]\n    #                ^          ^ files to unzip from the archive\n    #                archive to unzip\n    for c in command.script.split()[1:]:\n        if not c.startswith('-'):\n            if c.endswith('.zip'):\n                return c\n            else:\n                return '{}.zip'.format(c)\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 11,
                    "end_line": 21,
                    "variables": {
                        "c": [
                            16,
                            17,
                            18,
                            19,
                            21
                        ],
                        "command.script.split": [
                            16
                        ],
                        "command.script": [
                            16
                        ],
                        "command": [
                            16
                        ],
                        "c.startswith": [
                            17
                        ],
                        "c.endswith": [
                            18
                        ],
                        "format": [
                            21
                        ]
                    },
                    "filtered_variables": {
                        "c": [
                            16,
                            17,
                            18,
                            19,
                            21
                        ],
                        "command.script.split": [
                            16
                        ],
                        "command.script": [
                            16
                        ],
                        "command": [
                            16
                        ],
                        "c.startswith": [
                            17
                        ],
                        "c.endswith": [
                            18
                        ]
                    },
                    "diff_line_number": 16,
                    "class_data": null,
                    "variable_values": [
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo'",
                                    "variable_type": "str",
                                    "variable_shape": "3"
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x10620a3f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x10620a3f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo\\\\'",
                                    "variable_type": "str",
                                    "variable_shape": "4"
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x106217730>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x106217730>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "\"'foo\"",
                                    "variable_type": "str",
                                    "variable_shape": "4"
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x10620a4f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x10620a4f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "command.script.split": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x106248370>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x106248370>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo'",
                                    "variable_type": "str",
                                    "variable_shape": "3"
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x103b43e30>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x103b43e30>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo bar.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "11"
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo bar.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x103b50130>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x103b50130>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo bar.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "11"
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo bar.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x103b61eb0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x103b61eb0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "c": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "c": {
                                    "variable_value": "'foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "command.split_script": {
                                    "variable_value": "['unzip', 'foo.zip']",
                                    "variable_type": "list",
                                    "variable_shape": "2"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "c.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x103b669f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "c.endswith": {
                                    "variable_value": "<built-in method endswith of str object at 0x103b669f0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                },
                {
                    "function_name": "get_new_command",
                    "function_code": "def get_new_command(command):\n    return '{} -d {}'.format(command.script, _zip_file(command)[:-4])\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 30,
                    "end_line": 31,
                    "variables": {
                        "format": [
                            31
                        ],
                        "command.script": [
                            31
                        ],
                        "command": [
                            31
                        ],
                        "_zip_file": [
                            31
                        ]
                    },
                    "filtered_variables": {
                        "command.script": [
                            31
                        ],
                        "command": [
                            31
                        ],
                        "_zip_file": [
                            31
                        ]
                    },
                    "diff_line_number": 31,
                    "class_data": null,
                    "variable_values": [
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo\\\\ bar.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "18"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo\\ bar.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "\"unzip 'foo bar.zip'\"",
                                    "variable_type": "str",
                                    "variable_shape": "19"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip 'foo bar.zip', stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "command.script": {
                                    "variable_value": "'unzip foo.zip'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "command": {
                                    "variable_value": "Command(script=unzip foo.zip, stdout=, stderr=)",
                                    "variable_type": "Command",
                                    "variable_shape": null
                                },
                                "quote": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "_zip_file": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                }
            ],
            "snippets": [
                {
                    "snippet_code": "from thefuck.utils import for_app",
                    "start_line": 3,
                    "end_line": 4
                }
            ],
            "inscope_functions": [
                "def _is_bad_zip(file):\n    with zipfile.ZipFile(file, 'r') as archive:\n        return len(archive.namelist()) > 1",
                "def _zip_file(command):\n    # unzip works that way:\n    # unzip [-flags] file[.zip] [file(s) ...] [-x file(s) ...]\n    #                ^          ^ files to unzip from the archive\n    #                archive to unzip\n    for c in command.script.split()[1:]:\n        if not c.startswith('-'):\n            if c.endswith('.zip'):\n                return c\n            else:\n                return '{}.zip'.format(c)",
                "@for_app('unzip')\ndef match(command):\n    return ('-d' not in command.script\n            and _is_bad_zip(_zip_file(command)))",
                "def get_new_command(command):\n    return '{} -d {}'.format(command.script, _zip_file(command)[:-4])",
                "def side_effect(old_cmd, command):\n    with zipfile.ZipFile(_zip_file(old_cmd), 'r') as archive:\n        for file in archive.namelist():\n            try:\n                os.remove(file)\n            except OSError:\n                # does not try to remove directories as we cannot know if they\n                # already existed before\n                pass"
            ],
            "inscope_function_signatures": [
                "_is_bad_zip(file)",
                "_zip_file(command)",
                "match(command)",
                "get_new_command(command)",
                "side_effect(old_cmd, command)"
            ],
            "variables_in_file": {
                "zipfile.ZipFile": [
                    35,
                    7
                ],
                "zipfile": [
                    35,
                    7
                ],
                "file": [
                    36,
                    38,
                    7
                ],
                "archive": [
                    8,
                    35,
                    36,
                    7
                ],
                "len": [
                    8
                ],
                "archive.namelist": [
                    8,
                    36
                ],
                "c": [
                    16,
                    17,
                    18,
                    19,
                    21
                ],
                "command.script.split": [
                    16
                ],
                "command.script": [
                    16,
                    26,
                    31
                ],
                "command": [
                    16,
                    26,
                    27,
                    31
                ],
                "c.startswith": [
                    17
                ],
                "c.endswith": [
                    18
                ],
                "format": [
                    21,
                    31
                ],
                "_is_bad_zip": [
                    27
                ],
                "_zip_file": [
                    35,
                    27,
                    31
                ],
                "for_app": [
                    24
                ],
                "old_cmd": [
                    35
                ],
                "os.remove": [
                    38
                ],
                "os": [
                    38
                ],
                "OSError": [
                    39
                ],
                "requires_output": [
                    45
                ]
            },
            "filtered_variables_in_file": {
                "zipfile.ZipFile": [
                    35,
                    7
                ],
                "zipfile": [
                    35,
                    7
                ],
                "file": [
                    36,
                    38,
                    7
                ],
                "archive": [
                    8,
                    35,
                    36,
                    7
                ],
                "archive.namelist": [
                    8,
                    36
                ],
                "c": [
                    16,
                    17,
                    18,
                    19,
                    21
                ],
                "command.script.split": [
                    16
                ],
                "command.script": [
                    16,
                    26,
                    31
                ],
                "command": [
                    16,
                    26,
                    27,
                    31
                ],
                "c.startswith": [
                    17
                ],
                "c.endswith": [
                    18
                ],
                "_is_bad_zip": [
                    27
                ],
                "_zip_file": [
                    35,
                    27,
                    31
                ],
                "for_app": [
                    24
                ],
                "old_cmd": [
                    35
                ],
                "os.remove": [
                    38
                ],
                "os": [
                    38
                ],
                "requires_output": [
                    45
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/Volumes/SSD2T/bgp_envs/repos/thefuck_20/tests/rules/test_dirty_unzip.py",
                "test_function": "test_get_new_command",
                "test_function_code": "@pytest.mark.parametrize('script,fixed', [\n    ('unzip foo', 'unzip foo -d foo'),\n    (R\"unzip foo\\ bar.zip\", R\"unzip foo\\ bar.zip -d 'foo bar'\"),\n    (R\"unzip 'foo bar.zip'\", R\"unzip 'foo bar.zip' -d 'foo bar'\"),\n    ('unzip foo.zip', 'unzip foo.zip -d foo')])\ndef test_get_new_command(zip_error, script, fixed):\n    assert get_new_command(Command(script=script)) == fixed",
                "test_error": "assert 'unzip foo\\\\ bar.zip -d foo\\\\' == \"unzip foo\\\\ b... -d 'foo bar'\"   - unzip foo\\ bar.zip -d foo\\   ?                          ^   + unzip foo\\ bar.zip -d 'foo bar'   ?                       +   ^^^^^",
                "full_test_error": "zip_error = None, script = 'unzip foo\\\\ bar.zip'\nfixed = \"unzip foo\\\\ bar.zip -d 'foo bar'\"\n\n    @pytest.mark.parametrize('script,fixed', [\n        ('unzip foo', 'unzip foo -d foo'),\n        (R\"unzip foo\\ bar.zip\", R\"unzip foo\\ bar.zip -d 'foo bar'\"),\n        (R\"unzip 'foo bar.zip'\", R\"unzip 'foo bar.zip' -d 'foo bar'\"),\n        ('unzip foo.zip', 'unzip foo.zip -d foo')])\n    def test_get_new_command(zip_error, script, fixed):\n>       assert get_new_command(Command(script=script)) == fixed\nE       assert 'unzip foo\\\\ bar.zip -d foo\\\\' == \"unzip foo\\\\ b... -d 'foo bar'\"\nE         - unzip foo\\ bar.zip -d foo\\\nE         ?                          ^\nE         + unzip foo\\ bar.zip -d 'foo bar'\nE         ?                       +   ^^^^^\n\n/Volumes/SSD2T/bgp_envs/repos/thefuck_20/tests/rules/test_dirty_unzip.py:50: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": [
                    "pytest.mark.parametrize('script,fixed', [('unzip foo', 'unzip foo -d foo'), ('unzip foo\\\\ bar.zip', \"unzip foo\\\\ bar.zip -d 'foo bar'\"), (\"unzip 'foo bar.zip'\", \"unzip 'foo bar.zip' -d 'foo bar'\"), ('unzip foo.zip', 'unzip foo.zip -d foo')])"
                ]
            },
            {
                "test_path": "/Volumes/SSD2T/bgp_envs/repos/thefuck_20/tests/rules/test_dirty_unzip.py",
                "test_function": "test_get_new_command",
                "test_function_code": "@pytest.mark.parametrize('script,fixed', [\n    ('unzip foo', 'unzip foo -d foo'),\n    (R\"unzip foo\\ bar.zip\", R\"unzip foo\\ bar.zip -d 'foo bar'\"),\n    (R\"unzip 'foo bar.zip'\", R\"unzip 'foo bar.zip' -d 'foo bar'\"),\n    ('unzip foo.zip', 'unzip foo.zip -d foo')])\ndef test_get_new_command(zip_error, script, fixed):\n    assert get_new_command(Command(script=script)) == fixed",
                "test_error": "assert \"unzip 'foo bar.zip' -d 'foo\" == \"unzip 'foo ba...' -d 'foo bar'\"   - unzip 'foo bar.zip' -d 'foo   + unzip 'foo bar.zip' -d 'foo bar'   ?                            +++++",
                "full_test_error": "zip_error = None, script = \"unzip 'foo bar.zip'\"\nfixed = \"unzip 'foo bar.zip' -d 'foo bar'\"\n\n    @pytest.mark.parametrize('script,fixed', [\n        ('unzip foo', 'unzip foo -d foo'),\n        (R\"unzip foo\\ bar.zip\", R\"unzip foo\\ bar.zip -d 'foo bar'\"),\n        (R\"unzip 'foo bar.zip'\", R\"unzip 'foo bar.zip' -d 'foo bar'\"),\n        ('unzip foo.zip', 'unzip foo.zip -d foo')])\n    def test_get_new_command(zip_error, script, fixed):\n>       assert get_new_command(Command(script=script)) == fixed\nE       assert \"unzip 'foo bar.zip' -d 'foo\" == \"unzip 'foo ba...' -d 'foo bar'\"\nE         - unzip 'foo bar.zip' -d 'foo\nE         + unzip 'foo bar.zip' -d 'foo bar'\nE         ?                            +++++\n\n/Volumes/SSD2T/bgp_envs/repos/thefuck_20/tests/rules/test_dirty_unzip.py:50: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": [
                    "pytest.mark.parametrize('script,fixed', [('unzip foo', 'unzip foo -d foo'), ('unzip foo\\\\ bar.zip', \"unzip foo\\\\ bar.zip -d 'foo bar'\"), (\"unzip 'foo bar.zip'\", \"unzip 'foo bar.zip' -d 'foo bar'\"), ('unzip foo.zip', 'unzip foo.zip -d foo')])"
                ]
            }
        ]
    }
}