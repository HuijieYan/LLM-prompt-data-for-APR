{
    "ansible:17": {
        "/Volumes/SSD2T/bgp_envs_non_pandas/repos/ansible_17/lib/ansible/module_utils/facts/hardware/linux.py": {
            "buggy_functions": [
                {
                    "function_name": "populate",
                    "function_code": "def populate(self, collected_facts=None):\n    hardware_facts = {}\n    self.module.run_command_environ_update = {'LANG': 'C', 'LC_ALL': 'C', 'LC_NUMERIC': 'C'}\n\n    cpu_facts = self.get_cpu_facts(collected_facts=collected_facts)\n    memory_facts = self.get_memory_facts()\n    dmi_facts = self.get_dmi_facts()\n    device_facts = self.get_device_facts()\n    uptime_facts = self.get_uptime_facts()\n    lvm_facts = self.get_lvm_facts()\n\n    mount_facts = {}\n    try:\n        mount_facts = self.get_mount_facts()\n    except timeout.TimeoutError:\n        pass\n\n    hardware_facts.update(cpu_facts)\n    hardware_facts.update(memory_facts)\n    hardware_facts.update(dmi_facts)\n    hardware_facts.update(device_facts)\n    hardware_facts.update(uptime_facts)\n    hardware_facts.update(lvm_facts)\n    hardware_facts.update(mount_facts)\n\n    return hardware_facts\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 82,
                    "end_line": 107,
                    "variables": {
                        "hardware_facts": [
                            99,
                            100,
                            101,
                            102,
                            103,
                            104,
                            105,
                            107,
                            83
                        ],
                        "self.module.run_command_environ_update": [
                            84
                        ],
                        "self.module": [
                            84
                        ],
                        "self": [
                            84,
                            86,
                            87,
                            88,
                            89,
                            90,
                            91,
                            95
                        ],
                        "cpu_facts": [
                            99,
                            86
                        ],
                        "self.get_cpu_facts": [
                            86
                        ],
                        "collected_facts": [
                            86
                        ],
                        "memory_facts": [
                            100,
                            87
                        ],
                        "self.get_memory_facts": [
                            87
                        ],
                        "dmi_facts": [
                            88,
                            101
                        ],
                        "self.get_dmi_facts": [
                            88
                        ],
                        "device_facts": [
                            89,
                            102
                        ],
                        "self.get_device_facts": [
                            89
                        ],
                        "uptime_facts": [
                            90,
                            103
                        ],
                        "self.get_uptime_facts": [
                            90
                        ],
                        "lvm_facts": [
                            104,
                            91
                        ],
                        "self.get_lvm_facts": [
                            91
                        ],
                        "mount_facts": [
                            105,
                            93,
                            95
                        ],
                        "self.get_mount_facts": [
                            95
                        ],
                        "timeout.TimeoutError": [
                            96
                        ],
                        "timeout": [
                            96
                        ],
                        "hardware_facts.update": [
                            99,
                            100,
                            101,
                            102,
                            103,
                            104,
                            105
                        ]
                    },
                    "filtered_variables": {
                        "hardware_facts": [
                            99,
                            100,
                            101,
                            102,
                            103,
                            104,
                            105,
                            107,
                            83
                        ],
                        "self.module.run_command_environ_update": [
                            84
                        ],
                        "self.module": [
                            84
                        ],
                        "self": [
                            84,
                            86,
                            87,
                            88,
                            89,
                            90,
                            91,
                            95
                        ],
                        "cpu_facts": [
                            99,
                            86
                        ],
                        "self.get_cpu_facts": [
                            86
                        ],
                        "collected_facts": [
                            86
                        ],
                        "memory_facts": [
                            100,
                            87
                        ],
                        "self.get_memory_facts": [
                            87
                        ],
                        "dmi_facts": [
                            88,
                            101
                        ],
                        "self.get_dmi_facts": [
                            88
                        ],
                        "device_facts": [
                            89,
                            102
                        ],
                        "self.get_device_facts": [
                            89
                        ],
                        "uptime_facts": [
                            90,
                            103
                        ],
                        "self.get_uptime_facts": [
                            90
                        ],
                        "lvm_facts": [
                            104,
                            91
                        ],
                        "self.get_lvm_facts": [
                            91
                        ],
                        "mount_facts": [
                            105,
                            93,
                            95
                        ],
                        "self.get_mount_facts": [
                            95
                        ],
                        "timeout.TimeoutError": [
                            96
                        ],
                        "timeout": [
                            96
                        ],
                        "hardware_facts.update": [
                            99,
                            100,
                            101,
                            102,
                            103,
                            104,
                            105
                        ]
                    },
                    "diff_line_number": 82,
                    "class_data": {
                        "signature": "class LinuxHardware(Hardware)",
                        "docstring": "Linux-specific subclass of Hardware.  Defines memory and CPU facts:\n- memfree_mb\n- memtotal_mb\n- swapfree_mb\n- swaptotal_mb\n- processor (a list)\n- processor_cores\n- processor_count\n\nIn addition, it also defines number of DMI facts and device facts.",
                        "constructor_docstring": null,
                        "functions": [
                            "def populate(self, collected_facts=None):\n    hardware_facts = {}\n    self.module.run_command_environ_update = {'LANG': 'C', 'LC_ALL': 'C', 'LC_NUMERIC': 'C'}\n    cpu_facts = self.get_cpu_facts(collected_facts=collected_facts)\n    memory_facts = self.get_memory_facts()\n    dmi_facts = self.get_dmi_facts()\n    device_facts = self.get_device_facts()\n    uptime_facts = self.get_uptime_facts()\n    lvm_facts = self.get_lvm_facts()\n    mount_facts = {}\n    try:\n        mount_facts = self.get_mount_facts()\n    except timeout.TimeoutError:\n        pass\n    hardware_facts.update(cpu_facts)\n    hardware_facts.update(memory_facts)\n    hardware_facts.update(dmi_facts)\n    hardware_facts.update(device_facts)\n    hardware_facts.update(uptime_facts)\n    hardware_facts.update(lvm_facts)\n    hardware_facts.update(mount_facts)\n    return hardware_facts",
                            "def get_memory_facts(self):\n    memory_facts = {}\n    if not os.access('/proc/meminfo', os.R_OK):\n        return memory_facts\n    memstats = {}\n    for line in get_file_lines('/proc/meminfo'):\n        data = line.split(':', 1)\n        key = data[0]\n        if key in self.ORIGINAL_MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memory_facts['%s_mb' % key.lower()] = int(val) // 1024\n        if key in self.MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memstats[key.lower()] = int(val) // 1024\n    if None not in (memstats.get('memtotal'), memstats.get('memfree')):\n        memstats['real:used'] = memstats['memtotal'] - memstats['memfree']\n    if None not in (memstats.get('cached'), memstats.get('memfree'), memstats.get('buffers')):\n        memstats['nocache:free'] = memstats['cached'] + memstats['memfree'] + memstats['buffers']\n    if None not in (memstats.get('memtotal'), memstats.get('nocache:free')):\n        memstats['nocache:used'] = memstats['memtotal'] - memstats['nocache:free']\n    if None not in (memstats.get('swaptotal'), memstats.get('swapfree')):\n        memstats['swap:used'] = memstats['swaptotal'] - memstats['swapfree']\n    memory_facts['memory_mb'] = {'real': {'total': memstats.get('memtotal'), 'used': memstats.get('real:used'), 'free': memstats.get('memfree')}, 'nocache': {'free': memstats.get('nocache:free'), 'used': memstats.get('nocache:used')}, 'swap': {'total': memstats.get('swaptotal'), 'free': memstats.get('swapfree'), 'used': memstats.get('swap:used'), 'cached': memstats.get('swapcached')}}\n    return memory_facts",
                            "def get_cpu_facts(self, collected_facts=None):\n    cpu_facts = {}\n    collected_facts = collected_facts or {}\n    i = 0\n    vendor_id_occurrence = 0\n    model_name_occurrence = 0\n    processor_occurence = 0\n    physid = 0\n    coreid = 0\n    sockets = {}\n    cores = {}\n    xen = False\n    xen_paravirt = False\n    try:\n        if os.path.exists('/proc/xen'):\n            xen = True\n        else:\n            for line in get_file_lines('/sys/hypervisor/type'):\n                if line.strip() == 'xen':\n                    xen = True\n                break\n    except IOError:\n        pass\n    if not os.access('/proc/cpuinfo', os.R_OK):\n        return cpu_facts\n    cpu_facts['processor'] = []\n    for line in get_file_lines('/proc/cpuinfo'):\n        data = line.split(':', 1)\n        key = data[0].strip()\n        try:\n            val = data[1].strip()\n        except IndexError:\n            val = ''\n        if xen:\n            if key == 'flags':\n                if 'vme' not in val:\n                    xen_paravirt = True\n        if key in ['model name', 'Processor', 'vendor_id', 'cpu', 'Vendor', 'processor']:\n            if 'processor' not in cpu_facts:\n                cpu_facts['processor'] = []\n            cpu_facts['processor'].append(val)\n            if key == 'vendor_id':\n                vendor_id_occurrence += 1\n            if key == 'model name':\n                model_name_occurrence += 1\n            if key == 'processor':\n                processor_occurence += 1\n            i += 1\n        elif key == 'physical id':\n            physid = val\n            if physid not in sockets:\n                sockets[physid] = 1\n        elif key == 'core id':\n            coreid = val\n            if coreid not in sockets:\n                cores[coreid] = 1\n        elif key == 'cpu cores':\n            sockets[physid] = int(val)\n        elif key == 'siblings':\n            cores[coreid] = int(val)\n        elif key == '# processors':\n            cpu_facts['processor_cores'] = int(val)\n        elif key == 'ncpus active':\n            i = int(val)\n    if vendor_id_occurrence > 0:\n        if vendor_id_occurrence == model_name_occurrence:\n            i = vendor_id_occurrence\n    if collected_facts.get('ansible_architecture', '').startswith(('armv', 'aarch')):\n        i = processor_occurence\n    if collected_facts.get('ansible_architecture') != 's390x':\n        if xen_paravirt:\n            cpu_facts['processor_count'] = i\n            cpu_facts['processor_cores'] = i\n            cpu_facts['processor_threads_per_core'] = 1\n            cpu_facts['processor_vcpus'] = i\n        else:\n            if sockets:\n                cpu_facts['processor_count'] = len(sockets)\n            else:\n                cpu_facts['processor_count'] = i\n            socket_values = list(sockets.values())\n            if socket_values and socket_values[0]:\n                cpu_facts['processor_cores'] = socket_values[0]\n            else:\n                cpu_facts['processor_cores'] = 1\n            core_values = list(cores.values())\n            if core_values:\n                cpu_facts['processor_threads_per_core'] = core_values[0] // cpu_facts['processor_cores']\n            else:\n                cpu_facts['processor_threads_per_core'] = 1 // cpu_facts['processor_cores']\n            cpu_facts['processor_vcpus'] = cpu_facts['processor_threads_per_core'] * cpu_facts['processor_count'] * cpu_facts['processor_cores']\n    return cpu_facts",
                            "def get_dmi_facts(self):\n    \"\"\" learn dmi facts from system\n\n    Try /sys first for dmi related facts.\n    If that is not available, fall back to dmidecode executable \"\"\"\n    dmi_facts = {}\n    if os.path.exists('/sys/devices/virtual/dmi/id/product_name'):\n        FORM_FACTOR = ['Unknown', 'Other', 'Unknown', 'Desktop', 'Low Profile Desktop', 'Pizza Box', 'Mini Tower', 'Tower', 'Portable', 'Laptop', 'Notebook', 'Hand Held', 'Docking Station', 'All In One', 'Sub Notebook', 'Space-saving', 'Lunch Box', 'Main Server Chassis', 'Expansion Chassis', 'Sub Chassis', 'Bus Expansion Chassis', 'Peripheral Chassis', 'RAID Chassis', 'Rack Mount Chassis', 'Sealed-case PC', 'Multi-system', 'CompactPCI', 'AdvancedTCA', 'Blade', 'Blade Enclosure', 'Tablet', 'Convertible', 'Detachable', 'IoT Gateway', 'Embedded PC', 'Mini PC', 'Stick PC']\n        DMI_DICT = {'bios_date': '/sys/devices/virtual/dmi/id/bios_date', 'bios_version': '/sys/devices/virtual/dmi/id/bios_version', 'form_factor': '/sys/devices/virtual/dmi/id/chassis_type', 'product_name': '/sys/devices/virtual/dmi/id/product_name', 'product_serial': '/sys/devices/virtual/dmi/id/product_serial', 'product_uuid': '/sys/devices/virtual/dmi/id/product_uuid', 'product_version': '/sys/devices/virtual/dmi/id/product_version', 'system_vendor': '/sys/devices/virtual/dmi/id/sys_vendor'}\n        for key, path in DMI_DICT.items():\n            data = get_file_content(path)\n            if data is not None:\n                if key == 'form_factor':\n                    try:\n                        dmi_facts['form_factor'] = FORM_FACTOR[int(data)]\n                    except IndexError:\n                        dmi_facts['form_factor'] = 'unknown (%s)' % data\n                else:\n                    dmi_facts[key] = data\n            else:\n                dmi_facts[key] = 'NA'\n    else:\n        dmi_bin = self.module.get_bin_path('dmidecode')\n        DMI_DICT = {'bios_date': 'bios-release-date', 'bios_version': 'bios-version', 'form_factor': 'chassis-type', 'product_name': 'system-product-name', 'product_serial': 'system-serial-number', 'product_uuid': 'system-uuid', 'product_version': 'system-version', 'system_vendor': 'system-manufacturer'}\n        for k, v in DMI_DICT.items():\n            if dmi_bin is not None:\n                rc, out, err = self.module.run_command('%s -s %s' % (dmi_bin, v))\n                if rc == 0:\n                    thisvalue = ''.join([line for line in out.splitlines() if not line.startswith('#')])\n                    try:\n                        json.dumps(thisvalue)\n                    except UnicodeDecodeError:\n                        thisvalue = 'NA'\n                    dmi_facts[k] = thisvalue\n                else:\n                    dmi_facts[k] = 'NA'\n            else:\n                dmi_facts[k] = 'NA'\n    return dmi_facts",
                            "def _run_lsblk(self, lsblk_path):\n    args = ['--list', '--noheadings', '--paths', '--output', 'NAME,UUID', '--exclude', '2']\n    cmd = [lsblk_path] + args\n    rc, out, err = self.module.run_command(cmd)\n    return (rc, out, err)",
                            "def _lsblk_uuid(self):\n    uuids = {}\n    lsblk_path = self.module.get_bin_path('lsblk')\n    if not lsblk_path:\n        return uuids\n    rc, out, err = self._run_lsblk(lsblk_path)\n    if rc != 0:\n        return uuids\n    for lsblk_line in out.splitlines():\n        if not lsblk_line:\n            continue\n        line = lsblk_line.strip()\n        fields = line.rsplit(None, 1)\n        if len(fields) < 2:\n            continue\n        device_name, uuid = (fields[0].strip(), fields[1].strip())\n        if device_name in uuids:\n            continue\n        uuids[device_name] = uuid\n    return uuids",
                            "def _udevadm_uuid(self, device):\n    uuid = 'N/A'\n    udevadm_path = self.module.get_bin_path('udevadm')\n    if not udevadm_path:\n        return uuid\n    cmd = [udevadm_path, 'info', '--query', 'property', '--name', device]\n    rc, out, err = self.module.run_command(cmd)\n    if rc != 0:\n        return uuid\n    m = re.search('ID_FS_UUID=(.*)\\n', out)\n    if m:\n        uuid = m.group(1)\n    return uuid",
                            "def _run_findmnt(self, findmnt_path):\n    args = ['--list', '--noheadings', '--notruncate']\n    cmd = [findmnt_path] + args\n    rc, out, err = self.module.run_command(cmd, errors='surrogate_then_replace')\n    return (rc, out, err)",
                            "def _find_bind_mounts(self):\n    bind_mounts = set()\n    findmnt_path = self.module.get_bin_path('findmnt')\n    if not findmnt_path:\n        return bind_mounts\n    rc, out, err = self._run_findmnt(findmnt_path)\n    if rc != 0:\n        return bind_mounts\n    for line in out.splitlines():\n        fields = line.split()\n        if len(fields) < 2:\n            continue\n        if self.BIND_MOUNT_RE.match(fields[1]):\n            bind_mounts.add(fields[0])\n    return bind_mounts",
                            "def _mtab_entries(self):\n    mtab_file = '/etc/mtab'\n    if not os.path.exists(mtab_file):\n        mtab_file = '/proc/mounts'\n    mtab = get_file_content(mtab_file, '')\n    mtab_entries = []\n    for line in mtab.splitlines():\n        fields = line.split()\n        if len(fields) < 4:\n            continue\n        mtab_entries.append(fields)\n    return mtab_entries",
                            "def get_mount_info(self, mount, device, uuids):\n    mount_size = get_mount_size(mount)\n    uuid = uuids.get(device, self._udevadm_uuid(device))\n    return (mount_size, uuid)",
                            "def get_mount_facts(self):\n    mounts = []\n    bind_mounts = self._find_bind_mounts()\n    uuids = self._lsblk_uuid()\n    mtab_entries = self._mtab_entries()\n    results = {}\n    pool = ThreadPool(processes=min(len(mtab_entries), cpu_count()))\n    maxtime = globals().get('GATHER_TIMEOUT') or timeout.DEFAULT_GATHER_TIMEOUT\n    for fields in mtab_entries:\n        device, mount, fstype, options = (fields[0], fields[1], fields[2], fields[3])\n        if not device.startswith('/') and ':/' not in device or fstype == 'none':\n            continue\n        mount_info = {'mount': mount, 'device': device, 'fstype': fstype, 'options': options}\n        if mount in bind_mounts:\n            if not self.MTAB_BIND_MOUNT_RE.match(options):\n                mount_info['options'] += ',bind'\n        results[mount] = {'info': mount_info, 'extra': pool.apply_async(self.get_mount_info, (mount, device, uuids)), 'timelimit': time.time() + maxtime}\n    pool.close()\n    while results:\n        for mount in results:\n            res = results[mount]['extra']\n            if res.ready():\n                if res.successful():\n                    mount_size, uuid = res.get()\n                    if mount_size:\n                        results[mount]['info'].update(mount_size)\n                    results[mount]['info']['uuid'] = uuid or 'N/A'\n                else:\n                    errmsg = to_text(res.get())\n                    self.module.warn('Error prevented getting extra info for mount %s: %s.' % (mount, errmsg))\n                    results[mount]['info']['note'] = 'Could not get extra information: %s.' % errmsg\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n            elif time.time() > results[mount]['timelimit']:\n                results[mount]['info']['note'] = 'Timed out while attempting to get extra information.'\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n        else:\n            time.sleep(0.1)\n    return {'mounts': mounts}",
                            "def get_device_links(self, link_dir):\n    if not os.path.exists(link_dir):\n        return {}\n    try:\n        retval = collections.defaultdict(set)\n        for entry in os.listdir(link_dir):\n            try:\n                target = os.path.basename(os.readlink(os.path.join(link_dir, entry)))\n                retval[target].add(entry)\n            except OSError:\n                continue\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_owners(self):\n    try:\n        retval = collections.defaultdict(set)\n        for path in glob.glob('/sys/block/*/slaves/*'):\n            elements = path.split('/')\n            device = elements[3]\n            target = elements[5]\n            retval[target].add(device)\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_links(self):\n    return {'ids': self.get_device_links('/dev/disk/by-id'), 'uuids': self.get_device_links('/dev/disk/by-uuid'), 'labels': self.get_device_links('/dev/disk/by-label'), 'masters': self.get_all_device_owners()}",
                            "def get_holders(self, block_dev_dict, sysdir):\n    block_dev_dict['holders'] = []\n    if os.path.isdir(sysdir + '/holders'):\n        for folder in os.listdir(sysdir + '/holders'):\n            if not folder.startswith('dm-'):\n                continue\n            name = get_file_content(sysdir + '/holders/' + folder + '/dm/name')\n            if name:\n                block_dev_dict['holders'].append(name)\n            else:\n                block_dev_dict['holders'].append(folder)",
                            "def get_device_facts(self):\n    device_facts = {}\n    device_facts['devices'] = {}\n    lspci = self.module.get_bin_path('lspci')\n    if lspci:\n        rc, pcidata, err = self.module.run_command([lspci, '-D'], errors='surrogate_then_replace')\n    else:\n        pcidata = None\n    try:\n        block_devs = os.listdir('/sys/block')\n    except OSError:\n        return device_facts\n    devs_wwn = {}\n    try:\n        devs_by_id = os.listdir('/dev/disk/by-id')\n    except OSError:\n        pass\n    else:\n        for link_name in devs_by_id:\n            if link_name.startswith('wwn-'):\n                try:\n                    wwn_link = os.readlink(os.path.join('/dev/disk/by-id', link_name))\n                except OSError:\n                    continue\n                devs_wwn[os.path.basename(wwn_link)] = link_name[4:]\n    links = self.get_all_device_links()\n    device_facts['device_links'] = links\n    for block in block_devs:\n        virtual = 1\n        sysfs_no_links = 0\n        try:\n            path = os.readlink(os.path.join('/sys/block/', block))\n        except OSError:\n            e = sys.exc_info()[1]\n            if e.errno == errno.EINVAL:\n                path = block\n                sysfs_no_links = 1\n            else:\n                continue\n        sysdir = os.path.join('/sys/block', path)\n        if sysfs_no_links == 1:\n            for folder in os.listdir(sysdir):\n                if 'device' in folder:\n                    virtual = 0\n                    break\n        d = {}\n        d['virtual'] = virtual\n        d['links'] = {}\n        for link_type, link_values in iteritems(links):\n            d['links'][link_type] = link_values.get(block, [])\n        diskname = os.path.basename(sysdir)\n        for key in ['vendor', 'model', 'sas_address', 'sas_device_handle']:\n            d[key] = get_file_content(sysdir + '/device/' + key)\n        sg_inq = self.module.get_bin_path('sg_inq')\n        if sg_inq:\n            device = '/dev/%s' % block\n            rc, drivedata, err = self.module.run_command([sg_inq, device])\n            if rc == 0:\n                serial = re.search('Unit serial number:\\\\s+(\\\\w+)', drivedata)\n                if serial:\n                    d['serial'] = serial.group(1)\n        for key, test in [('removable', '/removable'), ('support_discard', '/queue/discard_granularity')]:\n            d[key] = get_file_content(sysdir + test)\n        if diskname in devs_wwn:\n            d['wwn'] = devs_wwn[diskname]\n        d['partitions'] = {}\n        for folder in os.listdir(sysdir):\n            m = re.search('(' + diskname + '[p]?\\\\d+)', folder)\n            if m:\n                part = {}\n                partname = m.group(1)\n                part_sysdir = sysdir + '/' + partname\n                part['links'] = {}\n                for link_type, link_values in iteritems(links):\n                    part['links'][link_type] = link_values.get(partname, [])\n                part['start'] = get_file_content(part_sysdir + '/start', 0)\n                part['sectors'] = get_file_content(part_sysdir + '/size', 0)\n                part['sectorsize'] = get_file_content(part_sysdir + '/queue/logical_block_size')\n                if not part['sectorsize']:\n                    part['sectorsize'] = get_file_content(part_sysdir + '/queue/hw_sector_size', 512)\n                part['size'] = bytes_to_human(float(part['sectors']) * 512.0)\n                part['uuid'] = get_partition_uuid(partname)\n                self.get_holders(part, part_sysdir)\n                d['partitions'][partname] = part\n        d['rotational'] = get_file_content(sysdir + '/queue/rotational')\n        d['scheduler_mode'] = ''\n        scheduler = get_file_content(sysdir + '/queue/scheduler')\n        if scheduler is not None:\n            m = re.match('.*?(\\\\[(.*)\\\\])', scheduler)\n            if m:\n                d['scheduler_mode'] = m.group(2)\n        d['sectors'] = get_file_content(sysdir + '/size')\n        if not d['sectors']:\n            d['sectors'] = 0\n        d['sectorsize'] = get_file_content(sysdir + '/queue/logical_block_size')\n        if not d['sectorsize']:\n            d['sectorsize'] = get_file_content(sysdir + '/queue/hw_sector_size', 512)\n        d['size'] = bytes_to_human(float(d['sectors']) * 512.0)\n        d['host'] = ''\n        m = re.match('.+/([a-f0-9]{4}:[a-f0-9]{2}:[0|1][a-f0-9]\\\\.[0-7])/', sysdir)\n        if m and pcidata:\n            pciid = m.group(1)\n            did = re.escape(pciid)\n            m = re.search('^' + did + '\\\\s(.*)$', pcidata, re.MULTILINE)\n            if m:\n                d['host'] = m.group(1)\n        self.get_holders(d, sysdir)\n        device_facts['devices'][diskname] = d\n    return device_facts",
                            "def get_uptime_facts(self):\n    uptime_facts = {}\n    uptime_file_content = get_file_content('/proc/uptime')\n    if uptime_file_content:\n        uptime_seconds_string = uptime_file_content.split(' ')[0]\n        uptime_facts['uptime_seconds'] = int(float(uptime_seconds_string))\n    return uptime_facts",
                            "def _find_mapper_device_name(self, dm_device):\n    dm_prefix = '/dev/dm-'\n    mapper_device = dm_device\n    if dm_device.startswith(dm_prefix):\n        dmsetup_cmd = self.module.get_bin_path('dmsetup', True)\n        mapper_prefix = '/dev/mapper/'\n        rc, dm_name, err = self.module.run_command('%s info -C --noheadings -o name %s' % (dmsetup_cmd, dm_device))\n        if rc == 0:\n            mapper_device = mapper_prefix + dm_name.rstrip()\n    return mapper_device",
                            "def get_lvm_facts(self):\n    \"\"\" Get LVM Facts if running as root and lvm utils are available \"\"\"\n    lvm_facts = {}\n    if os.getuid() == 0 and self.module.get_bin_path('vgs'):\n        lvm_util_options = '--noheadings --nosuffix --units g --separator ,'\n        vgs_path = self.module.get_bin_path('vgs')\n        vgs = {}\n        if vgs_path:\n            rc, vg_lines, err = self.module.run_command('%s %s' % (vgs_path, lvm_util_options))\n            for vg_line in vg_lines.splitlines():\n                items = vg_line.strip().split(',')\n                vgs[items[0]] = {'size_g': items[-2], 'free_g': items[-1], 'num_lvs': items[2], 'num_pvs': items[1]}\n        lvs_path = self.module.get_bin_path('lvs')\n        lvs = {}\n        if lvs_path:\n            rc, lv_lines, err = self.module.run_command('%s %s' % (lvs_path, lvm_util_options))\n            for lv_line in lv_lines.splitlines():\n                items = lv_line.strip().split(',')\n                lvs[items[0]] = {'size_g': items[3], 'vg': items[1]}\n        pvs_path = self.module.get_bin_path('pvs')\n        pvs = {}\n        if pvs_path:\n            rc, pv_lines, err = self.module.run_command('%s %s' % (pvs_path, lvm_util_options))\n            for pv_line in pv_lines.splitlines():\n                items = pv_line.strip().split(',')\n                pvs[self._find_mapper_device_name(items[0])] = {'size_g': items[4], 'free_g': items[5], 'vg': items[1]}\n        lvm_facts['lvm'] = {'lvs': lvs, 'vgs': vgs, 'pvs': pvs}\n    return lvm_facts"
                        ],
                        "constructor_variables": [],
                        "class_level_variables": [
                            "platform",
                            "ORIGINAL_MEMORY_FACTS",
                            "MEMORY_FACTS",
                            "BIND_MOUNT_RE",
                            "MTAB_BIND_MOUNT_RE"
                        ],
                        "class_decorators": [],
                        "function_signatures": [
                            "populate(self, collected_facts=None)",
                            "get_memory_facts(self)",
                            "get_cpu_facts(self, collected_facts=None)",
                            "get_dmi_facts(self)",
                            "_run_lsblk(self, lsblk_path)",
                            "_lsblk_uuid(self)",
                            "_udevadm_uuid(self, device)",
                            "_run_findmnt(self, findmnt_path)",
                            "_find_bind_mounts(self)",
                            "_mtab_entries(self)",
                            "get_mount_info(self, mount, device, uuids)",
                            "get_mount_facts(self)",
                            "get_device_links(self, link_dir)",
                            "get_all_device_owners(self)",
                            "get_all_device_links(self)",
                            "get_holders(self, block_dev_dict, sysdir)",
                            "get_device_facts(self)",
                            "get_uptime_facts(self)",
                            "_find_mapper_device_name(self, dm_device)",
                            "get_lvm_facts(self)"
                        ]
                    },
                    "variable_values": [
                        [
                            {},
                            {}
                        ]
                    ]
                },
                {
                    "function_name": "get_mount_info",
                    "function_code": "def get_mount_info(self, mount, device, uuids):\n\n    mount_size = get_mount_size(mount)\n\n    # _udevadm_uuid is a fallback for versions of lsblk <= 2.23 that don't have --paths\n    # see _run_lsblk() above\n    # https://github.com/ansible/ansible/issues/36077\n    uuid = uuids.get(device, self._udevadm_uuid(device))\n\n    return mount_size, uuid\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 463,
                    "end_line": 472,
                    "variables": {
                        "mount_size": [
                            472,
                            465
                        ],
                        "get_mount_size": [
                            465
                        ],
                        "mount": [
                            465
                        ],
                        "uuid": [
                            472,
                            470
                        ],
                        "uuids.get": [
                            470
                        ],
                        "uuids": [
                            470
                        ],
                        "device": [
                            470
                        ],
                        "self._udevadm_uuid": [
                            470
                        ],
                        "self": [
                            470
                        ]
                    },
                    "filtered_variables": {
                        "mount_size": [
                            472,
                            465
                        ],
                        "get_mount_size": [
                            465
                        ],
                        "mount": [
                            465
                        ],
                        "uuid": [
                            472,
                            470
                        ],
                        "uuids.get": [
                            470
                        ],
                        "uuids": [
                            470
                        ],
                        "device": [
                            470
                        ],
                        "self._udevadm_uuid": [
                            470
                        ],
                        "self": [
                            470
                        ]
                    },
                    "diff_line_number": 463,
                    "class_data": {
                        "signature": "class LinuxHardware(Hardware)",
                        "docstring": "Linux-specific subclass of Hardware.  Defines memory and CPU facts:\n- memfree_mb\n- memtotal_mb\n- swapfree_mb\n- swaptotal_mb\n- processor (a list)\n- processor_cores\n- processor_count\n\nIn addition, it also defines number of DMI facts and device facts.",
                        "constructor_docstring": null,
                        "functions": [
                            "def populate(self, collected_facts=None):\n    hardware_facts = {}\n    self.module.run_command_environ_update = {'LANG': 'C', 'LC_ALL': 'C', 'LC_NUMERIC': 'C'}\n    cpu_facts = self.get_cpu_facts(collected_facts=collected_facts)\n    memory_facts = self.get_memory_facts()\n    dmi_facts = self.get_dmi_facts()\n    device_facts = self.get_device_facts()\n    uptime_facts = self.get_uptime_facts()\n    lvm_facts = self.get_lvm_facts()\n    mount_facts = {}\n    try:\n        mount_facts = self.get_mount_facts()\n    except timeout.TimeoutError:\n        pass\n    hardware_facts.update(cpu_facts)\n    hardware_facts.update(memory_facts)\n    hardware_facts.update(dmi_facts)\n    hardware_facts.update(device_facts)\n    hardware_facts.update(uptime_facts)\n    hardware_facts.update(lvm_facts)\n    hardware_facts.update(mount_facts)\n    return hardware_facts",
                            "def get_memory_facts(self):\n    memory_facts = {}\n    if not os.access('/proc/meminfo', os.R_OK):\n        return memory_facts\n    memstats = {}\n    for line in get_file_lines('/proc/meminfo'):\n        data = line.split(':', 1)\n        key = data[0]\n        if key in self.ORIGINAL_MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memory_facts['%s_mb' % key.lower()] = int(val) // 1024\n        if key in self.MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memstats[key.lower()] = int(val) // 1024\n    if None not in (memstats.get('memtotal'), memstats.get('memfree')):\n        memstats['real:used'] = memstats['memtotal'] - memstats['memfree']\n    if None not in (memstats.get('cached'), memstats.get('memfree'), memstats.get('buffers')):\n        memstats['nocache:free'] = memstats['cached'] + memstats['memfree'] + memstats['buffers']\n    if None not in (memstats.get('memtotal'), memstats.get('nocache:free')):\n        memstats['nocache:used'] = memstats['memtotal'] - memstats['nocache:free']\n    if None not in (memstats.get('swaptotal'), memstats.get('swapfree')):\n        memstats['swap:used'] = memstats['swaptotal'] - memstats['swapfree']\n    memory_facts['memory_mb'] = {'real': {'total': memstats.get('memtotal'), 'used': memstats.get('real:used'), 'free': memstats.get('memfree')}, 'nocache': {'free': memstats.get('nocache:free'), 'used': memstats.get('nocache:used')}, 'swap': {'total': memstats.get('swaptotal'), 'free': memstats.get('swapfree'), 'used': memstats.get('swap:used'), 'cached': memstats.get('swapcached')}}\n    return memory_facts",
                            "def get_cpu_facts(self, collected_facts=None):\n    cpu_facts = {}\n    collected_facts = collected_facts or {}\n    i = 0\n    vendor_id_occurrence = 0\n    model_name_occurrence = 0\n    processor_occurence = 0\n    physid = 0\n    coreid = 0\n    sockets = {}\n    cores = {}\n    xen = False\n    xen_paravirt = False\n    try:\n        if os.path.exists('/proc/xen'):\n            xen = True\n        else:\n            for line in get_file_lines('/sys/hypervisor/type'):\n                if line.strip() == 'xen':\n                    xen = True\n                break\n    except IOError:\n        pass\n    if not os.access('/proc/cpuinfo', os.R_OK):\n        return cpu_facts\n    cpu_facts['processor'] = []\n    for line in get_file_lines('/proc/cpuinfo'):\n        data = line.split(':', 1)\n        key = data[0].strip()\n        try:\n            val = data[1].strip()\n        except IndexError:\n            val = ''\n        if xen:\n            if key == 'flags':\n                if 'vme' not in val:\n                    xen_paravirt = True\n        if key in ['model name', 'Processor', 'vendor_id', 'cpu', 'Vendor', 'processor']:\n            if 'processor' not in cpu_facts:\n                cpu_facts['processor'] = []\n            cpu_facts['processor'].append(val)\n            if key == 'vendor_id':\n                vendor_id_occurrence += 1\n            if key == 'model name':\n                model_name_occurrence += 1\n            if key == 'processor':\n                processor_occurence += 1\n            i += 1\n        elif key == 'physical id':\n            physid = val\n            if physid not in sockets:\n                sockets[physid] = 1\n        elif key == 'core id':\n            coreid = val\n            if coreid not in sockets:\n                cores[coreid] = 1\n        elif key == 'cpu cores':\n            sockets[physid] = int(val)\n        elif key == 'siblings':\n            cores[coreid] = int(val)\n        elif key == '# processors':\n            cpu_facts['processor_cores'] = int(val)\n        elif key == 'ncpus active':\n            i = int(val)\n    if vendor_id_occurrence > 0:\n        if vendor_id_occurrence == model_name_occurrence:\n            i = vendor_id_occurrence\n    if collected_facts.get('ansible_architecture', '').startswith(('armv', 'aarch')):\n        i = processor_occurence\n    if collected_facts.get('ansible_architecture') != 's390x':\n        if xen_paravirt:\n            cpu_facts['processor_count'] = i\n            cpu_facts['processor_cores'] = i\n            cpu_facts['processor_threads_per_core'] = 1\n            cpu_facts['processor_vcpus'] = i\n        else:\n            if sockets:\n                cpu_facts['processor_count'] = len(sockets)\n            else:\n                cpu_facts['processor_count'] = i\n            socket_values = list(sockets.values())\n            if socket_values and socket_values[0]:\n                cpu_facts['processor_cores'] = socket_values[0]\n            else:\n                cpu_facts['processor_cores'] = 1\n            core_values = list(cores.values())\n            if core_values:\n                cpu_facts['processor_threads_per_core'] = core_values[0] // cpu_facts['processor_cores']\n            else:\n                cpu_facts['processor_threads_per_core'] = 1 // cpu_facts['processor_cores']\n            cpu_facts['processor_vcpus'] = cpu_facts['processor_threads_per_core'] * cpu_facts['processor_count'] * cpu_facts['processor_cores']\n    return cpu_facts",
                            "def get_dmi_facts(self):\n    \"\"\" learn dmi facts from system\n\n    Try /sys first for dmi related facts.\n    If that is not available, fall back to dmidecode executable \"\"\"\n    dmi_facts = {}\n    if os.path.exists('/sys/devices/virtual/dmi/id/product_name'):\n        FORM_FACTOR = ['Unknown', 'Other', 'Unknown', 'Desktop', 'Low Profile Desktop', 'Pizza Box', 'Mini Tower', 'Tower', 'Portable', 'Laptop', 'Notebook', 'Hand Held', 'Docking Station', 'All In One', 'Sub Notebook', 'Space-saving', 'Lunch Box', 'Main Server Chassis', 'Expansion Chassis', 'Sub Chassis', 'Bus Expansion Chassis', 'Peripheral Chassis', 'RAID Chassis', 'Rack Mount Chassis', 'Sealed-case PC', 'Multi-system', 'CompactPCI', 'AdvancedTCA', 'Blade', 'Blade Enclosure', 'Tablet', 'Convertible', 'Detachable', 'IoT Gateway', 'Embedded PC', 'Mini PC', 'Stick PC']\n        DMI_DICT = {'bios_date': '/sys/devices/virtual/dmi/id/bios_date', 'bios_version': '/sys/devices/virtual/dmi/id/bios_version', 'form_factor': '/sys/devices/virtual/dmi/id/chassis_type', 'product_name': '/sys/devices/virtual/dmi/id/product_name', 'product_serial': '/sys/devices/virtual/dmi/id/product_serial', 'product_uuid': '/sys/devices/virtual/dmi/id/product_uuid', 'product_version': '/sys/devices/virtual/dmi/id/product_version', 'system_vendor': '/sys/devices/virtual/dmi/id/sys_vendor'}\n        for key, path in DMI_DICT.items():\n            data = get_file_content(path)\n            if data is not None:\n                if key == 'form_factor':\n                    try:\n                        dmi_facts['form_factor'] = FORM_FACTOR[int(data)]\n                    except IndexError:\n                        dmi_facts['form_factor'] = 'unknown (%s)' % data\n                else:\n                    dmi_facts[key] = data\n            else:\n                dmi_facts[key] = 'NA'\n    else:\n        dmi_bin = self.module.get_bin_path('dmidecode')\n        DMI_DICT = {'bios_date': 'bios-release-date', 'bios_version': 'bios-version', 'form_factor': 'chassis-type', 'product_name': 'system-product-name', 'product_serial': 'system-serial-number', 'product_uuid': 'system-uuid', 'product_version': 'system-version', 'system_vendor': 'system-manufacturer'}\n        for k, v in DMI_DICT.items():\n            if dmi_bin is not None:\n                rc, out, err = self.module.run_command('%s -s %s' % (dmi_bin, v))\n                if rc == 0:\n                    thisvalue = ''.join([line for line in out.splitlines() if not line.startswith('#')])\n                    try:\n                        json.dumps(thisvalue)\n                    except UnicodeDecodeError:\n                        thisvalue = 'NA'\n                    dmi_facts[k] = thisvalue\n                else:\n                    dmi_facts[k] = 'NA'\n            else:\n                dmi_facts[k] = 'NA'\n    return dmi_facts",
                            "def _run_lsblk(self, lsblk_path):\n    args = ['--list', '--noheadings', '--paths', '--output', 'NAME,UUID', '--exclude', '2']\n    cmd = [lsblk_path] + args\n    rc, out, err = self.module.run_command(cmd)\n    return (rc, out, err)",
                            "def _lsblk_uuid(self):\n    uuids = {}\n    lsblk_path = self.module.get_bin_path('lsblk')\n    if not lsblk_path:\n        return uuids\n    rc, out, err = self._run_lsblk(lsblk_path)\n    if rc != 0:\n        return uuids\n    for lsblk_line in out.splitlines():\n        if not lsblk_line:\n            continue\n        line = lsblk_line.strip()\n        fields = line.rsplit(None, 1)\n        if len(fields) < 2:\n            continue\n        device_name, uuid = (fields[0].strip(), fields[1].strip())\n        if device_name in uuids:\n            continue\n        uuids[device_name] = uuid\n    return uuids",
                            "def _udevadm_uuid(self, device):\n    uuid = 'N/A'\n    udevadm_path = self.module.get_bin_path('udevadm')\n    if not udevadm_path:\n        return uuid\n    cmd = [udevadm_path, 'info', '--query', 'property', '--name', device]\n    rc, out, err = self.module.run_command(cmd)\n    if rc != 0:\n        return uuid\n    m = re.search('ID_FS_UUID=(.*)\\n', out)\n    if m:\n        uuid = m.group(1)\n    return uuid",
                            "def _run_findmnt(self, findmnt_path):\n    args = ['--list', '--noheadings', '--notruncate']\n    cmd = [findmnt_path] + args\n    rc, out, err = self.module.run_command(cmd, errors='surrogate_then_replace')\n    return (rc, out, err)",
                            "def _find_bind_mounts(self):\n    bind_mounts = set()\n    findmnt_path = self.module.get_bin_path('findmnt')\n    if not findmnt_path:\n        return bind_mounts\n    rc, out, err = self._run_findmnt(findmnt_path)\n    if rc != 0:\n        return bind_mounts\n    for line in out.splitlines():\n        fields = line.split()\n        if len(fields) < 2:\n            continue\n        if self.BIND_MOUNT_RE.match(fields[1]):\n            bind_mounts.add(fields[0])\n    return bind_mounts",
                            "def _mtab_entries(self):\n    mtab_file = '/etc/mtab'\n    if not os.path.exists(mtab_file):\n        mtab_file = '/proc/mounts'\n    mtab = get_file_content(mtab_file, '')\n    mtab_entries = []\n    for line in mtab.splitlines():\n        fields = line.split()\n        if len(fields) < 4:\n            continue\n        mtab_entries.append(fields)\n    return mtab_entries",
                            "def get_mount_info(self, mount, device, uuids):\n    mount_size = get_mount_size(mount)\n    uuid = uuids.get(device, self._udevadm_uuid(device))\n    return (mount_size, uuid)",
                            "def get_mount_facts(self):\n    mounts = []\n    bind_mounts = self._find_bind_mounts()\n    uuids = self._lsblk_uuid()\n    mtab_entries = self._mtab_entries()\n    results = {}\n    pool = ThreadPool(processes=min(len(mtab_entries), cpu_count()))\n    maxtime = globals().get('GATHER_TIMEOUT') or timeout.DEFAULT_GATHER_TIMEOUT\n    for fields in mtab_entries:\n        device, mount, fstype, options = (fields[0], fields[1], fields[2], fields[3])\n        if not device.startswith('/') and ':/' not in device or fstype == 'none':\n            continue\n        mount_info = {'mount': mount, 'device': device, 'fstype': fstype, 'options': options}\n        if mount in bind_mounts:\n            if not self.MTAB_BIND_MOUNT_RE.match(options):\n                mount_info['options'] += ',bind'\n        results[mount] = {'info': mount_info, 'extra': pool.apply_async(self.get_mount_info, (mount, device, uuids)), 'timelimit': time.time() + maxtime}\n    pool.close()\n    while results:\n        for mount in results:\n            res = results[mount]['extra']\n            if res.ready():\n                if res.successful():\n                    mount_size, uuid = res.get()\n                    if mount_size:\n                        results[mount]['info'].update(mount_size)\n                    results[mount]['info']['uuid'] = uuid or 'N/A'\n                else:\n                    errmsg = to_text(res.get())\n                    self.module.warn('Error prevented getting extra info for mount %s: %s.' % (mount, errmsg))\n                    results[mount]['info']['note'] = 'Could not get extra information: %s.' % errmsg\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n            elif time.time() > results[mount]['timelimit']:\n                results[mount]['info']['note'] = 'Timed out while attempting to get extra information.'\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n        else:\n            time.sleep(0.1)\n    return {'mounts': mounts}",
                            "def get_device_links(self, link_dir):\n    if not os.path.exists(link_dir):\n        return {}\n    try:\n        retval = collections.defaultdict(set)\n        for entry in os.listdir(link_dir):\n            try:\n                target = os.path.basename(os.readlink(os.path.join(link_dir, entry)))\n                retval[target].add(entry)\n            except OSError:\n                continue\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_owners(self):\n    try:\n        retval = collections.defaultdict(set)\n        for path in glob.glob('/sys/block/*/slaves/*'):\n            elements = path.split('/')\n            device = elements[3]\n            target = elements[5]\n            retval[target].add(device)\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_links(self):\n    return {'ids': self.get_device_links('/dev/disk/by-id'), 'uuids': self.get_device_links('/dev/disk/by-uuid'), 'labels': self.get_device_links('/dev/disk/by-label'), 'masters': self.get_all_device_owners()}",
                            "def get_holders(self, block_dev_dict, sysdir):\n    block_dev_dict['holders'] = []\n    if os.path.isdir(sysdir + '/holders'):\n        for folder in os.listdir(sysdir + '/holders'):\n            if not folder.startswith('dm-'):\n                continue\n            name = get_file_content(sysdir + '/holders/' + folder + '/dm/name')\n            if name:\n                block_dev_dict['holders'].append(name)\n            else:\n                block_dev_dict['holders'].append(folder)",
                            "def get_device_facts(self):\n    device_facts = {}\n    device_facts['devices'] = {}\n    lspci = self.module.get_bin_path('lspci')\n    if lspci:\n        rc, pcidata, err = self.module.run_command([lspci, '-D'], errors='surrogate_then_replace')\n    else:\n        pcidata = None\n    try:\n        block_devs = os.listdir('/sys/block')\n    except OSError:\n        return device_facts\n    devs_wwn = {}\n    try:\n        devs_by_id = os.listdir('/dev/disk/by-id')\n    except OSError:\n        pass\n    else:\n        for link_name in devs_by_id:\n            if link_name.startswith('wwn-'):\n                try:\n                    wwn_link = os.readlink(os.path.join('/dev/disk/by-id', link_name))\n                except OSError:\n                    continue\n                devs_wwn[os.path.basename(wwn_link)] = link_name[4:]\n    links = self.get_all_device_links()\n    device_facts['device_links'] = links\n    for block in block_devs:\n        virtual = 1\n        sysfs_no_links = 0\n        try:\n            path = os.readlink(os.path.join('/sys/block/', block))\n        except OSError:\n            e = sys.exc_info()[1]\n            if e.errno == errno.EINVAL:\n                path = block\n                sysfs_no_links = 1\n            else:\n                continue\n        sysdir = os.path.join('/sys/block', path)\n        if sysfs_no_links == 1:\n            for folder in os.listdir(sysdir):\n                if 'device' in folder:\n                    virtual = 0\n                    break\n        d = {}\n        d['virtual'] = virtual\n        d['links'] = {}\n        for link_type, link_values in iteritems(links):\n            d['links'][link_type] = link_values.get(block, [])\n        diskname = os.path.basename(sysdir)\n        for key in ['vendor', 'model', 'sas_address', 'sas_device_handle']:\n            d[key] = get_file_content(sysdir + '/device/' + key)\n        sg_inq = self.module.get_bin_path('sg_inq')\n        if sg_inq:\n            device = '/dev/%s' % block\n            rc, drivedata, err = self.module.run_command([sg_inq, device])\n            if rc == 0:\n                serial = re.search('Unit serial number:\\\\s+(\\\\w+)', drivedata)\n                if serial:\n                    d['serial'] = serial.group(1)\n        for key, test in [('removable', '/removable'), ('support_discard', '/queue/discard_granularity')]:\n            d[key] = get_file_content(sysdir + test)\n        if diskname in devs_wwn:\n            d['wwn'] = devs_wwn[diskname]\n        d['partitions'] = {}\n        for folder in os.listdir(sysdir):\n            m = re.search('(' + diskname + '[p]?\\\\d+)', folder)\n            if m:\n                part = {}\n                partname = m.group(1)\n                part_sysdir = sysdir + '/' + partname\n                part['links'] = {}\n                for link_type, link_values in iteritems(links):\n                    part['links'][link_type] = link_values.get(partname, [])\n                part['start'] = get_file_content(part_sysdir + '/start', 0)\n                part['sectors'] = get_file_content(part_sysdir + '/size', 0)\n                part['sectorsize'] = get_file_content(part_sysdir + '/queue/logical_block_size')\n                if not part['sectorsize']:\n                    part['sectorsize'] = get_file_content(part_sysdir + '/queue/hw_sector_size', 512)\n                part['size'] = bytes_to_human(float(part['sectors']) * 512.0)\n                part['uuid'] = get_partition_uuid(partname)\n                self.get_holders(part, part_sysdir)\n                d['partitions'][partname] = part\n        d['rotational'] = get_file_content(sysdir + '/queue/rotational')\n        d['scheduler_mode'] = ''\n        scheduler = get_file_content(sysdir + '/queue/scheduler')\n        if scheduler is not None:\n            m = re.match('.*?(\\\\[(.*)\\\\])', scheduler)\n            if m:\n                d['scheduler_mode'] = m.group(2)\n        d['sectors'] = get_file_content(sysdir + '/size')\n        if not d['sectors']:\n            d['sectors'] = 0\n        d['sectorsize'] = get_file_content(sysdir + '/queue/logical_block_size')\n        if not d['sectorsize']:\n            d['sectorsize'] = get_file_content(sysdir + '/queue/hw_sector_size', 512)\n        d['size'] = bytes_to_human(float(d['sectors']) * 512.0)\n        d['host'] = ''\n        m = re.match('.+/([a-f0-9]{4}:[a-f0-9]{2}:[0|1][a-f0-9]\\\\.[0-7])/', sysdir)\n        if m and pcidata:\n            pciid = m.group(1)\n            did = re.escape(pciid)\n            m = re.search('^' + did + '\\\\s(.*)$', pcidata, re.MULTILINE)\n            if m:\n                d['host'] = m.group(1)\n        self.get_holders(d, sysdir)\n        device_facts['devices'][diskname] = d\n    return device_facts",
                            "def get_uptime_facts(self):\n    uptime_facts = {}\n    uptime_file_content = get_file_content('/proc/uptime')\n    if uptime_file_content:\n        uptime_seconds_string = uptime_file_content.split(' ')[0]\n        uptime_facts['uptime_seconds'] = int(float(uptime_seconds_string))\n    return uptime_facts",
                            "def _find_mapper_device_name(self, dm_device):\n    dm_prefix = '/dev/dm-'\n    mapper_device = dm_device\n    if dm_device.startswith(dm_prefix):\n        dmsetup_cmd = self.module.get_bin_path('dmsetup', True)\n        mapper_prefix = '/dev/mapper/'\n        rc, dm_name, err = self.module.run_command('%s info -C --noheadings -o name %s' % (dmsetup_cmd, dm_device))\n        if rc == 0:\n            mapper_device = mapper_prefix + dm_name.rstrip()\n    return mapper_device",
                            "def get_lvm_facts(self):\n    \"\"\" Get LVM Facts if running as root and lvm utils are available \"\"\"\n    lvm_facts = {}\n    if os.getuid() == 0 and self.module.get_bin_path('vgs'):\n        lvm_util_options = '--noheadings --nosuffix --units g --separator ,'\n        vgs_path = self.module.get_bin_path('vgs')\n        vgs = {}\n        if vgs_path:\n            rc, vg_lines, err = self.module.run_command('%s %s' % (vgs_path, lvm_util_options))\n            for vg_line in vg_lines.splitlines():\n                items = vg_line.strip().split(',')\n                vgs[items[0]] = {'size_g': items[-2], 'free_g': items[-1], 'num_lvs': items[2], 'num_pvs': items[1]}\n        lvs_path = self.module.get_bin_path('lvs')\n        lvs = {}\n        if lvs_path:\n            rc, lv_lines, err = self.module.run_command('%s %s' % (lvs_path, lvm_util_options))\n            for lv_line in lv_lines.splitlines():\n                items = lv_line.strip().split(',')\n                lvs[items[0]] = {'size_g': items[3], 'vg': items[1]}\n        pvs_path = self.module.get_bin_path('pvs')\n        pvs = {}\n        if pvs_path:\n            rc, pv_lines, err = self.module.run_command('%s %s' % (pvs_path, lvm_util_options))\n            for pv_line in pv_lines.splitlines():\n                items = pv_line.strip().split(',')\n                pvs[self._find_mapper_device_name(items[0])] = {'size_g': items[4], 'free_g': items[5], 'vg': items[1]}\n        lvm_facts['lvm'] = {'lvs': lvs, 'vgs': vgs, 'pvs': pvs}\n    return lvm_facts"
                        ],
                        "constructor_variables": [],
                        "class_level_variables": [
                            "platform",
                            "ORIGINAL_MEMORY_FACTS",
                            "MEMORY_FACTS",
                            "BIND_MOUNT_RE",
                            "MTAB_BIND_MOUNT_RE"
                        ],
                        "class_decorators": [],
                        "function_signatures": [
                            "populate(self, collected_facts=None)",
                            "get_memory_facts(self)",
                            "get_cpu_facts(self, collected_facts=None)",
                            "get_dmi_facts(self)",
                            "_run_lsblk(self, lsblk_path)",
                            "_lsblk_uuid(self)",
                            "_udevadm_uuid(self, device)",
                            "_run_findmnt(self, findmnt_path)",
                            "_find_bind_mounts(self)",
                            "_mtab_entries(self)",
                            "get_mount_info(self, mount, device, uuids)",
                            "get_mount_facts(self)",
                            "get_device_links(self, link_dir)",
                            "get_all_device_owners(self)",
                            "get_all_device_links(self)",
                            "get_holders(self, block_dev_dict, sysdir)",
                            "get_device_facts(self)",
                            "get_uptime_facts(self)",
                            "_find_mapper_device_name(self, dm_device)",
                            "get_lvm_facts(self)"
                        ]
                    },
                    "variable_values": [
                        [
                            {
                                "mount_size": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "get_mount_size": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount": {
                                    "variable_value": "'/var/lib/machines'",
                                    "variable_type": "str",
                                    "variable_shape": "17"
                                },
                                "uuid": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "uuids.get": {
                                    "variable_value": "<built-in method get of dict object at 0x10c0f1b90>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": "{'/dev/sda1': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "device": {
                                    "variable_value": "'/dev/loop0'",
                                    "variable_type": "str",
                                    "variable_shape": "10"
                                },
                                "self._udevadm_uuid": {
                                    "variable_value": "<MagicMock name='_udevadm_uuid' id='4500470288'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10c29aed0>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                }
                            },
                            {
                                "mount_size": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "get_mount_size": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount": {
                                    "variable_value": "'/var/lib/machines'",
                                    "variable_type": "str",
                                    "variable_shape": "17"
                                },
                                "uuid": {
                                    "variable_value": "'N/A'",
                                    "variable_type": "str",
                                    "variable_shape": "3"
                                },
                                "uuids.get": {
                                    "variable_value": "<built-in method get of dict object at 0x10c0f1b90>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": "{'/dev/sda1': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "device": {
                                    "variable_value": "'/dev/loop0'",
                                    "variable_type": "str",
                                    "variable_shape": "10"
                                },
                                "self._udevadm_uuid": {
                                    "variable_value": "<MagicMock name='_udevadm_uuid' id='4500470288'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10c29aed0>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                },
                {
                    "function_name": "get_mount_facts",
                    "function_code": "def get_mount_facts(self):\n\n    mounts = []\n\n    # gather system lists\n    bind_mounts = self._find_bind_mounts()\n    uuids = self._lsblk_uuid()\n    mtab_entries = self._mtab_entries()\n\n    # start threads to query each mount\n    results = {}\n    pool = ThreadPool(processes=min(len(mtab_entries), cpu_count()))\n    maxtime = globals().get('GATHER_TIMEOUT') or timeout.DEFAULT_GATHER_TIMEOUT\n    for fields in mtab_entries:\n\n        device, mount, fstype, options = fields[0], fields[1], fields[2], fields[3]\n\n        if not device.startswith('/') and ':/' not in device or fstype == 'none':\n            continue\n\n        mount_info = {'mount': mount,\n                      'device': device,\n                      'fstype': fstype,\n                      'options': options}\n\n        if mount in bind_mounts:\n            # only add if not already there, we might have a plain /etc/mtab\n            if not self.MTAB_BIND_MOUNT_RE.match(options):\n                mount_info['options'] += \",bind\"\n\n        results[mount] = {'info': mount_info,\n                          'extra': pool.apply_async(self.get_mount_info, (mount, device, uuids)),\n                          'timelimit': time.time() + maxtime}\n\n    pool.close()  # done with new workers, start gc\n\n    # wait for workers and get results\n    while results:\n        for mount in results:\n            res = results[mount]['extra']\n            if res.ready():\n                if res.successful():\n                    mount_size, uuid = res.get()\n                    if mount_size:\n                        results[mount]['info'].update(mount_size)\n                    results[mount]['info']['uuid'] = uuid or 'N/A'\n                else:\n                    # give incomplete data\n                    errmsg = to_text(res.get())\n                    self.module.warn(\"Error prevented getting extra info for mount %s: %s.\" % (mount, errmsg))\n                    results[mount]['info']['note'] = 'Could not get extra information: %s.' % (errmsg)\n\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n            elif time.time() > results[mount]['timelimit']:\n                results[mount]['info']['note'] = 'Timed out while attempting to get extra information.'\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n        else:\n            # avoid cpu churn\n            time.sleep(0.1)\n\n    return {'mounts': mounts}\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 474,
                    "end_line": 538,
                    "variables": {
                        "mounts": [
                            538,
                            531,
                            476,
                            526
                        ],
                        "bind_mounts": [
                            499,
                            479
                        ],
                        "self._find_bind_mounts": [
                            479
                        ],
                        "self": [
                            480,
                            481,
                            523,
                            501,
                            505,
                            479
                        ],
                        "uuids": [
                            480,
                            505
                        ],
                        "self._lsblk_uuid": [
                            480
                        ],
                        "mtab_entries": [
                            481,
                            485,
                            487
                        ],
                        "self._mtab_entries": [
                            481
                        ],
                        "results": [
                            512,
                            513,
                            484,
                            518,
                            519,
                            524,
                            526,
                            527,
                            529,
                            530,
                            531,
                            532,
                            504,
                            511
                        ],
                        "pool": [
                            505,
                            508,
                            485
                        ],
                        "ThreadPool": [
                            485
                        ],
                        "min": [
                            485
                        ],
                        "len": [
                            485
                        ],
                        "cpu_count": [
                            485
                        ],
                        "maxtime": [
                            506,
                            486
                        ],
                        "get": [
                            486
                        ],
                        "globals": [
                            486
                        ],
                        "timeout.DEFAULT_GATHER_TIMEOUT": [
                            486
                        ],
                        "timeout": [
                            486
                        ],
                        "fields": [
                            489,
                            487
                        ],
                        "device": [
                            489,
                            491,
                            505,
                            495
                        ],
                        "mount": [
                            512,
                            513,
                            518,
                            519,
                            489,
                            523,
                            524,
                            494,
                            526,
                            527,
                            529,
                            530,
                            499,
                            531,
                            532,
                            504,
                            505
                        ],
                        "fstype": [
                            496,
                            489,
                            491
                        ],
                        "options": [
                            489,
                            497,
                            501
                        ],
                        "device.startswith": [
                            491
                        ],
                        "mount_info": [
                            504,
                            494,
                            502
                        ],
                        "self.MTAB_BIND_MOUNT_RE.match": [
                            501
                        ],
                        "self.MTAB_BIND_MOUNT_RE": [
                            501
                        ],
                        "pool.apply_async": [
                            505
                        ],
                        "self.get_mount_info": [
                            505
                        ],
                        "time.time": [
                            529,
                            506
                        ],
                        "time": [
                            536,
                            529,
                            506
                        ],
                        "pool.close": [
                            508
                        ],
                        "res": [
                            513,
                            514,
                            515,
                            516,
                            522
                        ],
                        "res.ready": [
                            514
                        ],
                        "res.successful": [
                            515
                        ],
                        "mount_size": [
                            516,
                            517,
                            518
                        ],
                        "uuid": [
                            516,
                            519
                        ],
                        "res.get": [
                            522,
                            516
                        ],
                        "update": [
                            518
                        ],
                        "errmsg": [
                            522,
                            523,
                            524
                        ],
                        "to_text": [
                            522
                        ],
                        "self.module.warn": [
                            523
                        ],
                        "self.module": [
                            523
                        ],
                        "mounts.append": [
                            531,
                            526
                        ],
                        "time.sleep": [
                            536
                        ]
                    },
                    "filtered_variables": {
                        "mounts": [
                            538,
                            531,
                            476,
                            526
                        ],
                        "bind_mounts": [
                            499,
                            479
                        ],
                        "self._find_bind_mounts": [
                            479
                        ],
                        "self": [
                            480,
                            481,
                            523,
                            501,
                            505,
                            479
                        ],
                        "uuids": [
                            480,
                            505
                        ],
                        "self._lsblk_uuid": [
                            480
                        ],
                        "mtab_entries": [
                            481,
                            485,
                            487
                        ],
                        "self._mtab_entries": [
                            481
                        ],
                        "results": [
                            512,
                            513,
                            484,
                            518,
                            519,
                            524,
                            526,
                            527,
                            529,
                            530,
                            531,
                            532,
                            504,
                            511
                        ],
                        "pool": [
                            505,
                            508,
                            485
                        ],
                        "ThreadPool": [
                            485
                        ],
                        "cpu_count": [
                            485
                        ],
                        "maxtime": [
                            506,
                            486
                        ],
                        "get": [
                            486
                        ],
                        "timeout.DEFAULT_GATHER_TIMEOUT": [
                            486
                        ],
                        "timeout": [
                            486
                        ],
                        "fields": [
                            489,
                            487
                        ],
                        "device": [
                            489,
                            491,
                            505,
                            495
                        ],
                        "mount": [
                            512,
                            513,
                            518,
                            519,
                            489,
                            523,
                            524,
                            494,
                            526,
                            527,
                            529,
                            530,
                            499,
                            531,
                            532,
                            504,
                            505
                        ],
                        "fstype": [
                            496,
                            489,
                            491
                        ],
                        "options": [
                            489,
                            497,
                            501
                        ],
                        "device.startswith": [
                            491
                        ],
                        "mount_info": [
                            504,
                            494,
                            502
                        ],
                        "self.MTAB_BIND_MOUNT_RE.match": [
                            501
                        ],
                        "self.MTAB_BIND_MOUNT_RE": [
                            501
                        ],
                        "pool.apply_async": [
                            505
                        ],
                        "self.get_mount_info": [
                            505
                        ],
                        "time.time": [
                            529,
                            506
                        ],
                        "time": [
                            536,
                            529,
                            506
                        ],
                        "pool.close": [
                            508
                        ],
                        "res": [
                            513,
                            514,
                            515,
                            516,
                            522
                        ],
                        "res.ready": [
                            514
                        ],
                        "res.successful": [
                            515
                        ],
                        "mount_size": [
                            516,
                            517,
                            518
                        ],
                        "uuid": [
                            516,
                            519
                        ],
                        "res.get": [
                            522,
                            516
                        ],
                        "update": [
                            518
                        ],
                        "errmsg": [
                            522,
                            523,
                            524
                        ],
                        "to_text": [
                            522
                        ],
                        "self.module.warn": [
                            523
                        ],
                        "self.module": [
                            523
                        ],
                        "mounts.append": [
                            531,
                            526
                        ],
                        "time.sleep": [
                            536
                        ]
                    },
                    "diff_line_number": 487,
                    "class_data": {
                        "signature": "class LinuxHardware(Hardware)",
                        "docstring": "Linux-specific subclass of Hardware.  Defines memory and CPU facts:\n- memfree_mb\n- memtotal_mb\n- swapfree_mb\n- swaptotal_mb\n- processor (a list)\n- processor_cores\n- processor_count\n\nIn addition, it also defines number of DMI facts and device facts.",
                        "constructor_docstring": null,
                        "functions": [
                            "def populate(self, collected_facts=None):\n    hardware_facts = {}\n    self.module.run_command_environ_update = {'LANG': 'C', 'LC_ALL': 'C', 'LC_NUMERIC': 'C'}\n    cpu_facts = self.get_cpu_facts(collected_facts=collected_facts)\n    memory_facts = self.get_memory_facts()\n    dmi_facts = self.get_dmi_facts()\n    device_facts = self.get_device_facts()\n    uptime_facts = self.get_uptime_facts()\n    lvm_facts = self.get_lvm_facts()\n    mount_facts = {}\n    try:\n        mount_facts = self.get_mount_facts()\n    except timeout.TimeoutError:\n        pass\n    hardware_facts.update(cpu_facts)\n    hardware_facts.update(memory_facts)\n    hardware_facts.update(dmi_facts)\n    hardware_facts.update(device_facts)\n    hardware_facts.update(uptime_facts)\n    hardware_facts.update(lvm_facts)\n    hardware_facts.update(mount_facts)\n    return hardware_facts",
                            "def get_memory_facts(self):\n    memory_facts = {}\n    if not os.access('/proc/meminfo', os.R_OK):\n        return memory_facts\n    memstats = {}\n    for line in get_file_lines('/proc/meminfo'):\n        data = line.split(':', 1)\n        key = data[0]\n        if key in self.ORIGINAL_MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memory_facts['%s_mb' % key.lower()] = int(val) // 1024\n        if key in self.MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memstats[key.lower()] = int(val) // 1024\n    if None not in (memstats.get('memtotal'), memstats.get('memfree')):\n        memstats['real:used'] = memstats['memtotal'] - memstats['memfree']\n    if None not in (memstats.get('cached'), memstats.get('memfree'), memstats.get('buffers')):\n        memstats['nocache:free'] = memstats['cached'] + memstats['memfree'] + memstats['buffers']\n    if None not in (memstats.get('memtotal'), memstats.get('nocache:free')):\n        memstats['nocache:used'] = memstats['memtotal'] - memstats['nocache:free']\n    if None not in (memstats.get('swaptotal'), memstats.get('swapfree')):\n        memstats['swap:used'] = memstats['swaptotal'] - memstats['swapfree']\n    memory_facts['memory_mb'] = {'real': {'total': memstats.get('memtotal'), 'used': memstats.get('real:used'), 'free': memstats.get('memfree')}, 'nocache': {'free': memstats.get('nocache:free'), 'used': memstats.get('nocache:used')}, 'swap': {'total': memstats.get('swaptotal'), 'free': memstats.get('swapfree'), 'used': memstats.get('swap:used'), 'cached': memstats.get('swapcached')}}\n    return memory_facts",
                            "def get_cpu_facts(self, collected_facts=None):\n    cpu_facts = {}\n    collected_facts = collected_facts or {}\n    i = 0\n    vendor_id_occurrence = 0\n    model_name_occurrence = 0\n    processor_occurence = 0\n    physid = 0\n    coreid = 0\n    sockets = {}\n    cores = {}\n    xen = False\n    xen_paravirt = False\n    try:\n        if os.path.exists('/proc/xen'):\n            xen = True\n        else:\n            for line in get_file_lines('/sys/hypervisor/type'):\n                if line.strip() == 'xen':\n                    xen = True\n                break\n    except IOError:\n        pass\n    if not os.access('/proc/cpuinfo', os.R_OK):\n        return cpu_facts\n    cpu_facts['processor'] = []\n    for line in get_file_lines('/proc/cpuinfo'):\n        data = line.split(':', 1)\n        key = data[0].strip()\n        try:\n            val = data[1].strip()\n        except IndexError:\n            val = ''\n        if xen:\n            if key == 'flags':\n                if 'vme' not in val:\n                    xen_paravirt = True\n        if key in ['model name', 'Processor', 'vendor_id', 'cpu', 'Vendor', 'processor']:\n            if 'processor' not in cpu_facts:\n                cpu_facts['processor'] = []\n            cpu_facts['processor'].append(val)\n            if key == 'vendor_id':\n                vendor_id_occurrence += 1\n            if key == 'model name':\n                model_name_occurrence += 1\n            if key == 'processor':\n                processor_occurence += 1\n            i += 1\n        elif key == 'physical id':\n            physid = val\n            if physid not in sockets:\n                sockets[physid] = 1\n        elif key == 'core id':\n            coreid = val\n            if coreid not in sockets:\n                cores[coreid] = 1\n        elif key == 'cpu cores':\n            sockets[physid] = int(val)\n        elif key == 'siblings':\n            cores[coreid] = int(val)\n        elif key == '# processors':\n            cpu_facts['processor_cores'] = int(val)\n        elif key == 'ncpus active':\n            i = int(val)\n    if vendor_id_occurrence > 0:\n        if vendor_id_occurrence == model_name_occurrence:\n            i = vendor_id_occurrence\n    if collected_facts.get('ansible_architecture', '').startswith(('armv', 'aarch')):\n        i = processor_occurence\n    if collected_facts.get('ansible_architecture') != 's390x':\n        if xen_paravirt:\n            cpu_facts['processor_count'] = i\n            cpu_facts['processor_cores'] = i\n            cpu_facts['processor_threads_per_core'] = 1\n            cpu_facts['processor_vcpus'] = i\n        else:\n            if sockets:\n                cpu_facts['processor_count'] = len(sockets)\n            else:\n                cpu_facts['processor_count'] = i\n            socket_values = list(sockets.values())\n            if socket_values and socket_values[0]:\n                cpu_facts['processor_cores'] = socket_values[0]\n            else:\n                cpu_facts['processor_cores'] = 1\n            core_values = list(cores.values())\n            if core_values:\n                cpu_facts['processor_threads_per_core'] = core_values[0] // cpu_facts['processor_cores']\n            else:\n                cpu_facts['processor_threads_per_core'] = 1 // cpu_facts['processor_cores']\n            cpu_facts['processor_vcpus'] = cpu_facts['processor_threads_per_core'] * cpu_facts['processor_count'] * cpu_facts['processor_cores']\n    return cpu_facts",
                            "def get_dmi_facts(self):\n    \"\"\" learn dmi facts from system\n\n    Try /sys first for dmi related facts.\n    If that is not available, fall back to dmidecode executable \"\"\"\n    dmi_facts = {}\n    if os.path.exists('/sys/devices/virtual/dmi/id/product_name'):\n        FORM_FACTOR = ['Unknown', 'Other', 'Unknown', 'Desktop', 'Low Profile Desktop', 'Pizza Box', 'Mini Tower', 'Tower', 'Portable', 'Laptop', 'Notebook', 'Hand Held', 'Docking Station', 'All In One', 'Sub Notebook', 'Space-saving', 'Lunch Box', 'Main Server Chassis', 'Expansion Chassis', 'Sub Chassis', 'Bus Expansion Chassis', 'Peripheral Chassis', 'RAID Chassis', 'Rack Mount Chassis', 'Sealed-case PC', 'Multi-system', 'CompactPCI', 'AdvancedTCA', 'Blade', 'Blade Enclosure', 'Tablet', 'Convertible', 'Detachable', 'IoT Gateway', 'Embedded PC', 'Mini PC', 'Stick PC']\n        DMI_DICT = {'bios_date': '/sys/devices/virtual/dmi/id/bios_date', 'bios_version': '/sys/devices/virtual/dmi/id/bios_version', 'form_factor': '/sys/devices/virtual/dmi/id/chassis_type', 'product_name': '/sys/devices/virtual/dmi/id/product_name', 'product_serial': '/sys/devices/virtual/dmi/id/product_serial', 'product_uuid': '/sys/devices/virtual/dmi/id/product_uuid', 'product_version': '/sys/devices/virtual/dmi/id/product_version', 'system_vendor': '/sys/devices/virtual/dmi/id/sys_vendor'}\n        for key, path in DMI_DICT.items():\n            data = get_file_content(path)\n            if data is not None:\n                if key == 'form_factor':\n                    try:\n                        dmi_facts['form_factor'] = FORM_FACTOR[int(data)]\n                    except IndexError:\n                        dmi_facts['form_factor'] = 'unknown (%s)' % data\n                else:\n                    dmi_facts[key] = data\n            else:\n                dmi_facts[key] = 'NA'\n    else:\n        dmi_bin = self.module.get_bin_path('dmidecode')\n        DMI_DICT = {'bios_date': 'bios-release-date', 'bios_version': 'bios-version', 'form_factor': 'chassis-type', 'product_name': 'system-product-name', 'product_serial': 'system-serial-number', 'product_uuid': 'system-uuid', 'product_version': 'system-version', 'system_vendor': 'system-manufacturer'}\n        for k, v in DMI_DICT.items():\n            if dmi_bin is not None:\n                rc, out, err = self.module.run_command('%s -s %s' % (dmi_bin, v))\n                if rc == 0:\n                    thisvalue = ''.join([line for line in out.splitlines() if not line.startswith('#')])\n                    try:\n                        json.dumps(thisvalue)\n                    except UnicodeDecodeError:\n                        thisvalue = 'NA'\n                    dmi_facts[k] = thisvalue\n                else:\n                    dmi_facts[k] = 'NA'\n            else:\n                dmi_facts[k] = 'NA'\n    return dmi_facts",
                            "def _run_lsblk(self, lsblk_path):\n    args = ['--list', '--noheadings', '--paths', '--output', 'NAME,UUID', '--exclude', '2']\n    cmd = [lsblk_path] + args\n    rc, out, err = self.module.run_command(cmd)\n    return (rc, out, err)",
                            "def _lsblk_uuid(self):\n    uuids = {}\n    lsblk_path = self.module.get_bin_path('lsblk')\n    if not lsblk_path:\n        return uuids\n    rc, out, err = self._run_lsblk(lsblk_path)\n    if rc != 0:\n        return uuids\n    for lsblk_line in out.splitlines():\n        if not lsblk_line:\n            continue\n        line = lsblk_line.strip()\n        fields = line.rsplit(None, 1)\n        if len(fields) < 2:\n            continue\n        device_name, uuid = (fields[0].strip(), fields[1].strip())\n        if device_name in uuids:\n            continue\n        uuids[device_name] = uuid\n    return uuids",
                            "def _udevadm_uuid(self, device):\n    uuid = 'N/A'\n    udevadm_path = self.module.get_bin_path('udevadm')\n    if not udevadm_path:\n        return uuid\n    cmd = [udevadm_path, 'info', '--query', 'property', '--name', device]\n    rc, out, err = self.module.run_command(cmd)\n    if rc != 0:\n        return uuid\n    m = re.search('ID_FS_UUID=(.*)\\n', out)\n    if m:\n        uuid = m.group(1)\n    return uuid",
                            "def _run_findmnt(self, findmnt_path):\n    args = ['--list', '--noheadings', '--notruncate']\n    cmd = [findmnt_path] + args\n    rc, out, err = self.module.run_command(cmd, errors='surrogate_then_replace')\n    return (rc, out, err)",
                            "def _find_bind_mounts(self):\n    bind_mounts = set()\n    findmnt_path = self.module.get_bin_path('findmnt')\n    if not findmnt_path:\n        return bind_mounts\n    rc, out, err = self._run_findmnt(findmnt_path)\n    if rc != 0:\n        return bind_mounts\n    for line in out.splitlines():\n        fields = line.split()\n        if len(fields) < 2:\n            continue\n        if self.BIND_MOUNT_RE.match(fields[1]):\n            bind_mounts.add(fields[0])\n    return bind_mounts",
                            "def _mtab_entries(self):\n    mtab_file = '/etc/mtab'\n    if not os.path.exists(mtab_file):\n        mtab_file = '/proc/mounts'\n    mtab = get_file_content(mtab_file, '')\n    mtab_entries = []\n    for line in mtab.splitlines():\n        fields = line.split()\n        if len(fields) < 4:\n            continue\n        mtab_entries.append(fields)\n    return mtab_entries",
                            "def get_mount_info(self, mount, device, uuids):\n    mount_size = get_mount_size(mount)\n    uuid = uuids.get(device, self._udevadm_uuid(device))\n    return (mount_size, uuid)",
                            "def get_mount_facts(self):\n    mounts = []\n    bind_mounts = self._find_bind_mounts()\n    uuids = self._lsblk_uuid()\n    mtab_entries = self._mtab_entries()\n    results = {}\n    pool = ThreadPool(processes=min(len(mtab_entries), cpu_count()))\n    maxtime = globals().get('GATHER_TIMEOUT') or timeout.DEFAULT_GATHER_TIMEOUT\n    for fields in mtab_entries:\n        device, mount, fstype, options = (fields[0], fields[1], fields[2], fields[3])\n        if not device.startswith('/') and ':/' not in device or fstype == 'none':\n            continue\n        mount_info = {'mount': mount, 'device': device, 'fstype': fstype, 'options': options}\n        if mount in bind_mounts:\n            if not self.MTAB_BIND_MOUNT_RE.match(options):\n                mount_info['options'] += ',bind'\n        results[mount] = {'info': mount_info, 'extra': pool.apply_async(self.get_mount_info, (mount, device, uuids)), 'timelimit': time.time() + maxtime}\n    pool.close()\n    while results:\n        for mount in results:\n            res = results[mount]['extra']\n            if res.ready():\n                if res.successful():\n                    mount_size, uuid = res.get()\n                    if mount_size:\n                        results[mount]['info'].update(mount_size)\n                    results[mount]['info']['uuid'] = uuid or 'N/A'\n                else:\n                    errmsg = to_text(res.get())\n                    self.module.warn('Error prevented getting extra info for mount %s: %s.' % (mount, errmsg))\n                    results[mount]['info']['note'] = 'Could not get extra information: %s.' % errmsg\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n            elif time.time() > results[mount]['timelimit']:\n                results[mount]['info']['note'] = 'Timed out while attempting to get extra information.'\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n        else:\n            time.sleep(0.1)\n    return {'mounts': mounts}",
                            "def get_device_links(self, link_dir):\n    if not os.path.exists(link_dir):\n        return {}\n    try:\n        retval = collections.defaultdict(set)\n        for entry in os.listdir(link_dir):\n            try:\n                target = os.path.basename(os.readlink(os.path.join(link_dir, entry)))\n                retval[target].add(entry)\n            except OSError:\n                continue\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_owners(self):\n    try:\n        retval = collections.defaultdict(set)\n        for path in glob.glob('/sys/block/*/slaves/*'):\n            elements = path.split('/')\n            device = elements[3]\n            target = elements[5]\n            retval[target].add(device)\n        return dict(((k, list(sorted(v))) for k, v in iteritems(retval)))\n    except OSError:\n        return {}",
                            "def get_all_device_links(self):\n    return {'ids': self.get_device_links('/dev/disk/by-id'), 'uuids': self.get_device_links('/dev/disk/by-uuid'), 'labels': self.get_device_links('/dev/disk/by-label'), 'masters': self.get_all_device_owners()}",
                            "def get_holders(self, block_dev_dict, sysdir):\n    block_dev_dict['holders'] = []\n    if os.path.isdir(sysdir + '/holders'):\n        for folder in os.listdir(sysdir + '/holders'):\n            if not folder.startswith('dm-'):\n                continue\n            name = get_file_content(sysdir + '/holders/' + folder + '/dm/name')\n            if name:\n                block_dev_dict['holders'].append(name)\n            else:\n                block_dev_dict['holders'].append(folder)",
                            "def get_device_facts(self):\n    device_facts = {}\n    device_facts['devices'] = {}\n    lspci = self.module.get_bin_path('lspci')\n    if lspci:\n        rc, pcidata, err = self.module.run_command([lspci, '-D'], errors='surrogate_then_replace')\n    else:\n        pcidata = None\n    try:\n        block_devs = os.listdir('/sys/block')\n    except OSError:\n        return device_facts\n    devs_wwn = {}\n    try:\n        devs_by_id = os.listdir('/dev/disk/by-id')\n    except OSError:\n        pass\n    else:\n        for link_name in devs_by_id:\n            if link_name.startswith('wwn-'):\n                try:\n                    wwn_link = os.readlink(os.path.join('/dev/disk/by-id', link_name))\n                except OSError:\n                    continue\n                devs_wwn[os.path.basename(wwn_link)] = link_name[4:]\n    links = self.get_all_device_links()\n    device_facts['device_links'] = links\n    for block in block_devs:\n        virtual = 1\n        sysfs_no_links = 0\n        try:\n            path = os.readlink(os.path.join('/sys/block/', block))\n        except OSError:\n            e = sys.exc_info()[1]\n            if e.errno == errno.EINVAL:\n                path = block\n                sysfs_no_links = 1\n            else:\n                continue\n        sysdir = os.path.join('/sys/block', path)\n        if sysfs_no_links == 1:\n            for folder in os.listdir(sysdir):\n                if 'device' in folder:\n                    virtual = 0\n                    break\n        d = {}\n        d['virtual'] = virtual\n        d['links'] = {}\n        for link_type, link_values in iteritems(links):\n            d['links'][link_type] = link_values.get(block, [])\n        diskname = os.path.basename(sysdir)\n        for key in ['vendor', 'model', 'sas_address', 'sas_device_handle']:\n            d[key] = get_file_content(sysdir + '/device/' + key)\n        sg_inq = self.module.get_bin_path('sg_inq')\n        if sg_inq:\n            device = '/dev/%s' % block\n            rc, drivedata, err = self.module.run_command([sg_inq, device])\n            if rc == 0:\n                serial = re.search('Unit serial number:\\\\s+(\\\\w+)', drivedata)\n                if serial:\n                    d['serial'] = serial.group(1)\n        for key, test in [('removable', '/removable'), ('support_discard', '/queue/discard_granularity')]:\n            d[key] = get_file_content(sysdir + test)\n        if diskname in devs_wwn:\n            d['wwn'] = devs_wwn[diskname]\n        d['partitions'] = {}\n        for folder in os.listdir(sysdir):\n            m = re.search('(' + diskname + '[p]?\\\\d+)', folder)\n            if m:\n                part = {}\n                partname = m.group(1)\n                part_sysdir = sysdir + '/' + partname\n                part['links'] = {}\n                for link_type, link_values in iteritems(links):\n                    part['links'][link_type] = link_values.get(partname, [])\n                part['start'] = get_file_content(part_sysdir + '/start', 0)\n                part['sectors'] = get_file_content(part_sysdir + '/size', 0)\n                part['sectorsize'] = get_file_content(part_sysdir + '/queue/logical_block_size')\n                if not part['sectorsize']:\n                    part['sectorsize'] = get_file_content(part_sysdir + '/queue/hw_sector_size', 512)\n                part['size'] = bytes_to_human(float(part['sectors']) * 512.0)\n                part['uuid'] = get_partition_uuid(partname)\n                self.get_holders(part, part_sysdir)\n                d['partitions'][partname] = part\n        d['rotational'] = get_file_content(sysdir + '/queue/rotational')\n        d['scheduler_mode'] = ''\n        scheduler = get_file_content(sysdir + '/queue/scheduler')\n        if scheduler is not None:\n            m = re.match('.*?(\\\\[(.*)\\\\])', scheduler)\n            if m:\n                d['scheduler_mode'] = m.group(2)\n        d['sectors'] = get_file_content(sysdir + '/size')\n        if not d['sectors']:\n            d['sectors'] = 0\n        d['sectorsize'] = get_file_content(sysdir + '/queue/logical_block_size')\n        if not d['sectorsize']:\n            d['sectorsize'] = get_file_content(sysdir + '/queue/hw_sector_size', 512)\n        d['size'] = bytes_to_human(float(d['sectors']) * 512.0)\n        d['host'] = ''\n        m = re.match('.+/([a-f0-9]{4}:[a-f0-9]{2}:[0|1][a-f0-9]\\\\.[0-7])/', sysdir)\n        if m and pcidata:\n            pciid = m.group(1)\n            did = re.escape(pciid)\n            m = re.search('^' + did + '\\\\s(.*)$', pcidata, re.MULTILINE)\n            if m:\n                d['host'] = m.group(1)\n        self.get_holders(d, sysdir)\n        device_facts['devices'][diskname] = d\n    return device_facts",
                            "def get_uptime_facts(self):\n    uptime_facts = {}\n    uptime_file_content = get_file_content('/proc/uptime')\n    if uptime_file_content:\n        uptime_seconds_string = uptime_file_content.split(' ')[0]\n        uptime_facts['uptime_seconds'] = int(float(uptime_seconds_string))\n    return uptime_facts",
                            "def _find_mapper_device_name(self, dm_device):\n    dm_prefix = '/dev/dm-'\n    mapper_device = dm_device\n    if dm_device.startswith(dm_prefix):\n        dmsetup_cmd = self.module.get_bin_path('dmsetup', True)\n        mapper_prefix = '/dev/mapper/'\n        rc, dm_name, err = self.module.run_command('%s info -C --noheadings -o name %s' % (dmsetup_cmd, dm_device))\n        if rc == 0:\n            mapper_device = mapper_prefix + dm_name.rstrip()\n    return mapper_device",
                            "def get_lvm_facts(self):\n    \"\"\" Get LVM Facts if running as root and lvm utils are available \"\"\"\n    lvm_facts = {}\n    if os.getuid() == 0 and self.module.get_bin_path('vgs'):\n        lvm_util_options = '--noheadings --nosuffix --units g --separator ,'\n        vgs_path = self.module.get_bin_path('vgs')\n        vgs = {}\n        if vgs_path:\n            rc, vg_lines, err = self.module.run_command('%s %s' % (vgs_path, lvm_util_options))\n            for vg_line in vg_lines.splitlines():\n                items = vg_line.strip().split(',')\n                vgs[items[0]] = {'size_g': items[-2], 'free_g': items[-1], 'num_lvs': items[2], 'num_pvs': items[1]}\n        lvs_path = self.module.get_bin_path('lvs')\n        lvs = {}\n        if lvs_path:\n            rc, lv_lines, err = self.module.run_command('%s %s' % (lvs_path, lvm_util_options))\n            for lv_line in lv_lines.splitlines():\n                items = lv_line.strip().split(',')\n                lvs[items[0]] = {'size_g': items[3], 'vg': items[1]}\n        pvs_path = self.module.get_bin_path('pvs')\n        pvs = {}\n        if pvs_path:\n            rc, pv_lines, err = self.module.run_command('%s %s' % (pvs_path, lvm_util_options))\n            for pv_line in pv_lines.splitlines():\n                items = pv_line.strip().split(',')\n                pvs[self._find_mapper_device_name(items[0])] = {'size_g': items[4], 'free_g': items[5], 'vg': items[1]}\n        lvm_facts['lvm'] = {'lvs': lvs, 'vgs': vgs, 'pvs': pvs}\n    return lvm_facts"
                        ],
                        "constructor_variables": [],
                        "class_level_variables": [
                            "platform",
                            "ORIGINAL_MEMORY_FACTS",
                            "MEMORY_FACTS",
                            "BIND_MOUNT_RE",
                            "MTAB_BIND_MOUNT_RE"
                        ],
                        "class_decorators": [],
                        "function_signatures": [
                            "populate(self, collected_facts=None)",
                            "get_memory_facts(self)",
                            "get_cpu_facts(self, collected_facts=None)",
                            "get_dmi_facts(self)",
                            "_run_lsblk(self, lsblk_path)",
                            "_lsblk_uuid(self)",
                            "_udevadm_uuid(self, device)",
                            "_run_findmnt(self, findmnt_path)",
                            "_find_bind_mounts(self)",
                            "_mtab_entries(self)",
                            "get_mount_info(self, mount, device, uuids)",
                            "get_mount_facts(self)",
                            "get_device_links(self, link_dir)",
                            "get_all_device_owners(self)",
                            "get_all_device_links(self)",
                            "get_holders(self, block_dev_dict, sysdir)",
                            "get_device_facts(self)",
                            "get_uptime_facts(self)",
                            "_find_mapper_device_name(self, dm_device)",
                            "get_lvm_facts(self)"
                        ]
                    },
                    "variable_values": [
                        [
                            {
                                "mounts": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "bind_mounts": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._find_bind_mounts": {
                                    "variable_value": "<MagicMock name='_find_bind_mounts' id='4463620240'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10a0dd2d0>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._lsblk_uuid": {
                                    "variable_value": "<MagicMock name='_lsblk_uuid' id='4464274448'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "mtab_entries": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._mtab_entries": {
                                    "variable_value": "<MagicMock name='_mtab_entries' id='4463636176'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "results": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "ThreadPool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "cpu_count": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "maxtime": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout.DEFAULT_GATHER_TIMEOUT": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fields": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "device": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fstype": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "options": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "device.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount_info": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE.match": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE": {
                                    "variable_value": "re.compile('.*bind.*\"')",
                                    "variable_type": "Pattern",
                                    "variable_shape": null
                                },
                                "pool.apply_async": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.get_mount_info": {
                                    "variable_value": "<bound method LinuxHardware.get_mount_info of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10a0dd2d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "time.time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool.close": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.ready": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.successful": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount_size": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "uuid": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "update": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "errmsg": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "to_text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.module.warn": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.module": {
                                    "variable_value": "<Mock id='4464273808'>",
                                    "variable_type": "Mock",
                                    "variable_shape": "<Mock name='mock.shape' id='4459325136'>"
                                },
                                "mounts.append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time.sleep": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "mounts": {
                                    "variable_value": "[{'mount': '/', 'device': '/dev/mapper/fedora_dhcp129--186-root', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'size_total': 499963174912, 'size_available': 29161992192, 'block_size': 1048576, 'block_total': 122061322, 'block_available': 7119627, 'block_used': 114941695, 'inode_total': 285175224, 'inode_available': 284785080, 'inode_used': 390144, 'uuid': 'N/A'}, {'mount': '/var/lib/machines', 'device': '/dev/loop0', 'fstype': 'btrfs', 'options': 'rw,seclabel,relatime,space_cache,subvolid=5,subvol=/', 'uuid': 'N/A'}, {'mount': '/boot', 'device': '/dev/sda1', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'uuid': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}, {'mount': '/not/a/real/bind_mount', 'device': '/dev/sdz4', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered,bind', 'uuid': 'N/A'}, {'mount': '/home', 'device': '/dev/mapper/fedora_dhcp129--186-home', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'size_total': 0, 'size_available': 0, 'block_size': 512, 'block_total': 0, 'block_available': 0, 'block_used': 0, 'inode_total': 0, 'inode_available': 0, 'inode_used': 0, 'uuid': 'N/A'}, {'mount': '/mnt/foo\\\\040bar', 'device': '/dev/sdz9', 'fstype': 'ext4', 'options': 'rw,relatime', 'uuid': 'N/A'}]",
                                    "variable_type": "list",
                                    "variable_shape": "6"
                                },
                                "bind_mounts": {
                                    "variable_value": "['/not/a/real/bind_mount']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self._find_bind_mounts": {
                                    "variable_value": "<MagicMock name='_find_bind_mounts' id='4463620240'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10a0dd2d0>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": "{'/dev/sda1': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self._lsblk_uuid": {
                                    "variable_value": "<MagicMock name='_lsblk_uuid' id='4464274448'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "mtab_entries": {
                                    "variable_value": "[['sysfs', '/sys', 'sysfs', 'rw,seclabel,nosuid,nodev,noexec,relatime', '0', '0'], ['proc', '/proc', 'proc', 'rw,nosuid,nodev,noexec,relatime', '0', '0'], ['devtmpfs', '/dev', 'devtmpfs', 'rw,seclabel,nosuid,size=8044400k,nr_inodes=2011100,mode=755', '0', '0'], ['securityfs', '/sys/kernel/security', 'securityfs', 'rw,nosuid,nodev,noexec,relatime', '0', '0'], ['tmpfs', '/dev/shm', 'tmpfs', 'rw,seclabel,nosuid,nodev', '0', '0'], ['devpts', '/dev/pts', 'devpts', 'rw,seclabel,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000', '0', '0'], ['tmpfs', '/run', 'tmpfs', 'rw,seclabel,nosuid,nodev,mode=755', '0', '0'], ['tmpfs', '/sys/fs/cgroup', 'tmpfs', 'ro,seclabel,nosuid,nodev,noexec,mode=755', '0', '0'], ['cgroup', '/sys/fs/cgroup/systemd', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd', '0', '0'], ['pstore', '/sys/fs/pstore', 'pstore', 'rw,seclabel,nosuid,nodev,noexec,relatime', '0', '0'], ['cgroup', '/sys/fs/cgroup/devices', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,devices', '0', '0'], ['cgroup', '/sys/fs/cgroup/freezer', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,freezer', '0', '0'], ['cgroup', '/sys/fs/cgroup/memory', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,memory', '0', '0'], ['cgroup', '/sys/fs/cgroup/pids', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,pids', '0', '0'], ['cgroup', '/sys/fs/cgroup/blkio', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,blkio', '0', '0'], ['cgroup', '/sys/fs/cgroup/cpuset', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,cpuset', '0', '0'], ['cgroup', '/sys/fs/cgroup/cpu,cpuacct', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,cpu,cpuacct', '0', '0'], ['cgroup', '/sys/fs/cgroup/hugetlb', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,hugetlb', '0', '0'], ['cgroup', '/sys/fs/cgroup/perf_event', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,perf_event', '0', '0'], ['cgroup', '/sys/fs/cgroup/net_cls,net_prio', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,net_cls,net_prio', '0', '0'], ['configfs', '/sys/kernel/config', 'configfs', 'rw,relatime', '0', '0'], ['/dev/mapper/fedora_dhcp129--186-root', '/', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['selinuxfs', '/sys/fs/selinux', 'selinuxfs', 'rw,relatime', '0', '0'], ['systemd-1', '/proc/sys/fs/binfmt_misc', 'autofs', 'rw,relatime,fd=24,pgrp=1,timeout=0,minproto=5,maxproto=5,direct', '0', '0'], ['debugfs', '/sys/kernel/debug', 'debugfs', 'rw,seclabel,relatime', '0', '0'], ['hugetlbfs', '/dev/hugepages', 'hugetlbfs', 'rw,seclabel,relatime', '0', '0'], ['tmpfs', '/tmp', 'tmpfs', 'rw,seclabel', '0', '0'], ['mqueue', '/dev/mqueue', 'mqueue', 'rw,seclabel,relatime', '0', '0'], ['/dev/loop0', '/var/lib/machines', 'btrfs', 'rw,seclabel,relatime,space_cache,subvolid=5,subvol=/', '0', '0'], ['/dev/sda1', '/boot', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/sdz3', '/not/a/real/device', 'none', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/sdz4', '/not/a/real/bind_mount', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/mapper/fedora_dhcp129--186-home', '/home', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['tmpfs', '/run/user/1000', 'tmpfs', 'rw,seclabel,nosuid,nodev,relatime,size=1611044k,mode=700,uid=1000,gid=1000', '0', '0'], ['gvfsd-fuse', '/run/user/1000/gvfs', 'fuse.gvfsd-fuse', 'rw,nosuid,nodev,relatime,user_id=1000,group_id=1000', '0', '0'], ['fusectl', '/sys/fs/fuse/connections', 'fusectl', 'rw,relatime', '0', '0'], ['/dev/sdz9', '/mnt/foo\\\\040bar', 'ext4', 'rw,relatime', '0', '0']]",
                                    "variable_type": "list",
                                    "variable_shape": "37"
                                },
                                "self._mtab_entries": {
                                    "variable_value": "<MagicMock name='_mtab_entries' id='4463636176'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "results": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "pool": {
                                    "variable_value": "<multiprocessing.pool.ThreadPool object at 0x109cbed90>",
                                    "variable_type": "ThreadPool",
                                    "variable_shape": null
                                },
                                "ThreadPool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "cpu_count": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "maxtime": {
                                    "variable_value": "10",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout.DEFAULT_GATHER_TIMEOUT": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fields": {
                                    "variable_value": "['/dev/sdz9', '/mnt/foo\\\\040bar', 'ext4', 'rw,relatime', '0', '0']",
                                    "variable_type": "list",
                                    "variable_shape": "6"
                                },
                                "device": {
                                    "variable_value": "'/dev/sdz9'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "mount": {
                                    "variable_value": "'/mnt/foo\\\\040bar'",
                                    "variable_type": "str",
                                    "variable_shape": "15"
                                },
                                "fstype": {
                                    "variable_value": "'ext4'",
                                    "variable_type": "str",
                                    "variable_shape": "4"
                                },
                                "options": {
                                    "variable_value": "'rw,relatime'",
                                    "variable_type": "str",
                                    "variable_shape": "11"
                                },
                                "device.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x109c096b0>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "mount_info": {
                                    "variable_value": "{'mount': '/mnt/foo\\\\040bar', 'device': '/dev/sdz9', 'fstype': 'ext4', 'options': 'rw,relatime', 'uuid': 'N/A'}",
                                    "variable_type": "dict",
                                    "variable_shape": "5"
                                },
                                "self.MTAB_BIND_MOUNT_RE.match": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE": {
                                    "variable_value": "re.compile('.*bind.*\"')",
                                    "variable_type": "Pattern",
                                    "variable_shape": null
                                },
                                "pool.apply_async": {
                                    "variable_value": "<bound method Pool.apply_async of <multiprocessing.pool.ThreadPool object at 0x109cbed90>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.get_mount_info": {
                                    "variable_value": "<bound method LinuxHardware.get_mount_info of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x10a0dd2d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "time.time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool.close": {
                                    "variable_value": "<bound method Pool.close of <multiprocessing.pool.ThreadPool object at 0x109cbed90>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "res": {
                                    "variable_value": "<multiprocessing.pool.ApplyResult object at 0x109cce5d0>",
                                    "variable_type": "ApplyResult",
                                    "variable_shape": null
                                },
                                "res.ready": {
                                    "variable_value": "<bound method ApplyResult.ready of <multiprocessing.pool.ApplyResult object at 0x109cce5d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "res.successful": {
                                    "variable_value": "<bound method ApplyResult.successful of <multiprocessing.pool.ApplyResult object at 0x109cce5d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "mount_size": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "uuid": {
                                    "variable_value": "'N/A'",
                                    "variable_type": "str",
                                    "variable_shape": "3"
                                },
                                "res.get": {
                                    "variable_value": "<bound method ApplyResult.get of <multiprocessing.pool.ApplyResult object at 0x109cce5d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "update": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "errmsg": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "to_text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.module.warn": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.module": {
                                    "variable_value": "<Mock id='4464273808'>",
                                    "variable_type": "Mock",
                                    "variable_shape": "<Mock name='mock.shape' id='4459325136'>"
                                },
                                "mounts.append": {
                                    "variable_value": "<built-in method append of list object at 0x109cbf640>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "time.sleep": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "mounts": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "bind_mounts": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._find_bind_mounts": {
                                    "variable_value": "<MagicMock name='_find_bind_mounts' id='4589629392'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._lsblk_uuid": {
                                    "variable_value": "<MagicMock name='_lsblk_uuid' id='4589546960'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "mtab_entries": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._mtab_entries": {
                                    "variable_value": "<MagicMock name='_mtab_entries' id='4589633872'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "results": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "ThreadPool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "cpu_count": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "maxtime": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout.DEFAULT_GATHER_TIMEOUT": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fields": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self._replace_octal_escapes": {
                                    "variable_value": "<bound method LinuxHardware._replace_octal_escapes of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "field": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "device": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fstype": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "options": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "device.startswith": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount_info": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE.match": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE": {
                                    "variable_value": "re.compile('.*bind.*\"')",
                                    "variable_type": "Pattern",
                                    "variable_shape": null
                                },
                                "pool.apply_async": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.get_mount_info": {
                                    "variable_value": "<bound method LinuxHardware.get_mount_info of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "time.time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool.close": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.ready": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.successful": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "mount_size": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "uuid": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "res.get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "update": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "errmsg": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "to_text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.module.warn": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.module": {
                                    "variable_value": "<Mock id='4589543760'>",
                                    "variable_type": "Mock",
                                    "variable_shape": "<Mock name='mock.shape' id='4588746960'>"
                                },
                                "mounts.append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time.sleep": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "mounts": {
                                    "variable_value": "[{'mount': '/', 'device': '/dev/mapper/fedora_dhcp129--186-root', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'size_total': 499963174912, 'size_available': 29161992192, 'block_size': 1048576, 'block_total': 122061322, 'block_available': 7119627, 'block_used': 114941695, 'inode_total': 285175224, 'inode_available': 284785080, 'inode_used': 390144, 'uuid': 'N/A'}, {'mount': '/var/lib/machines', 'device': '/dev/loop0', 'fstype': 'btrfs', 'options': 'rw,seclabel,relatime,space_cache,subvolid=5,subvol=/', 'uuid': 'N/A'}, {'mount': '/boot', 'device': '/dev/sda1', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'uuid': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}, {'mount': '/not/a/real/bind_mount', 'device': '/dev/sdz4', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered,bind', 'uuid': 'N/A'}, {'mount': '/home', 'device': '/dev/mapper/fedora_dhcp129--186-home', 'fstype': 'ext4', 'options': 'rw,seclabel,relatime,data=ordered', 'size_total': 0, 'size_available': 0, 'block_size': 512, 'block_total': 0, 'block_available': 0, 'block_used': 0, 'inode_total': 0, 'inode_available': 0, 'inode_used': 0, 'uuid': 'N/A'}, {'mount': '/mnt/foo bar', 'device': '/dev/sdz9', 'fstype': 'ext4', 'options': 'rw,relatime', 'uuid': 'N/A'}]",
                                    "variable_type": "list",
                                    "variable_shape": "6"
                                },
                                "bind_mounts": {
                                    "variable_value": "['/not/a/real/bind_mount']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self._find_bind_mounts": {
                                    "variable_value": "<MagicMock name='_find_bind_mounts' id='4589629392'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>",
                                    "variable_type": "LinuxHardware",
                                    "variable_shape": null
                                },
                                "uuids": {
                                    "variable_value": "{'/dev/sda1': '66Ojcd-ULtu-1cZa-Tywo-mx0d-RF4O-ysA9jK'}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self._lsblk_uuid": {
                                    "variable_value": "<MagicMock name='_lsblk_uuid' id='4589546960'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "mtab_entries": {
                                    "variable_value": "[['sysfs', '/sys', 'sysfs', 'rw,seclabel,nosuid,nodev,noexec,relatime', '0', '0'], ['proc', '/proc', 'proc', 'rw,nosuid,nodev,noexec,relatime', '0', '0'], ['devtmpfs', '/dev', 'devtmpfs', 'rw,seclabel,nosuid,size=8044400k,nr_inodes=2011100,mode=755', '0', '0'], ['securityfs', '/sys/kernel/security', 'securityfs', 'rw,nosuid,nodev,noexec,relatime', '0', '0'], ['tmpfs', '/dev/shm', 'tmpfs', 'rw,seclabel,nosuid,nodev', '0', '0'], ['devpts', '/dev/pts', 'devpts', 'rw,seclabel,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000', '0', '0'], ['tmpfs', '/run', 'tmpfs', 'rw,seclabel,nosuid,nodev,mode=755', '0', '0'], ['tmpfs', '/sys/fs/cgroup', 'tmpfs', 'ro,seclabel,nosuid,nodev,noexec,mode=755', '0', '0'], ['cgroup', '/sys/fs/cgroup/systemd', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd', '0', '0'], ['pstore', '/sys/fs/pstore', 'pstore', 'rw,seclabel,nosuid,nodev,noexec,relatime', '0', '0'], ['cgroup', '/sys/fs/cgroup/devices', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,devices', '0', '0'], ['cgroup', '/sys/fs/cgroup/freezer', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,freezer', '0', '0'], ['cgroup', '/sys/fs/cgroup/memory', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,memory', '0', '0'], ['cgroup', '/sys/fs/cgroup/pids', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,pids', '0', '0'], ['cgroup', '/sys/fs/cgroup/blkio', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,blkio', '0', '0'], ['cgroup', '/sys/fs/cgroup/cpuset', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,cpuset', '0', '0'], ['cgroup', '/sys/fs/cgroup/cpu,cpuacct', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,cpu,cpuacct', '0', '0'], ['cgroup', '/sys/fs/cgroup/hugetlb', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,hugetlb', '0', '0'], ['cgroup', '/sys/fs/cgroup/perf_event', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,perf_event', '0', '0'], ['cgroup', '/sys/fs/cgroup/net_cls,net_prio', 'cgroup', 'rw,nosuid,nodev,noexec,relatime,net_cls,net_prio', '0', '0'], ['configfs', '/sys/kernel/config', 'configfs', 'rw,relatime', '0', '0'], ['/dev/mapper/fedora_dhcp129--186-root', '/', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['selinuxfs', '/sys/fs/selinux', 'selinuxfs', 'rw,relatime', '0', '0'], ['systemd-1', '/proc/sys/fs/binfmt_misc', 'autofs', 'rw,relatime,fd=24,pgrp=1,timeout=0,minproto=5,maxproto=5,direct', '0', '0'], ['debugfs', '/sys/kernel/debug', 'debugfs', 'rw,seclabel,relatime', '0', '0'], ['hugetlbfs', '/dev/hugepages', 'hugetlbfs', 'rw,seclabel,relatime', '0', '0'], ['tmpfs', '/tmp', 'tmpfs', 'rw,seclabel', '0', '0'], ['mqueue', '/dev/mqueue', 'mqueue', 'rw,seclabel,relatime', '0', '0'], ['/dev/loop0', '/var/lib/machines', 'btrfs', 'rw,seclabel,relatime,space_cache,subvolid=5,subvol=/', '0', '0'], ['/dev/sda1', '/boot', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/sdz3', '/not/a/real/device', 'none', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/sdz4', '/not/a/real/bind_mount', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['/dev/mapper/fedora_dhcp129--186-home', '/home', 'ext4', 'rw,seclabel,relatime,data=ordered', '0', '0'], ['tmpfs', '/run/user/1000', 'tmpfs', 'rw,seclabel,nosuid,nodev,relatime,size=1611044k,mode=700,uid=1000,gid=1000', '0', '0'], ['gvfsd-fuse', '/run/user/1000/gvfs', 'fuse.gvfsd-fuse', 'rw,nosuid,nodev,relatime,user_id=1000,group_id=1000', '0', '0'], ['fusectl', '/sys/fs/fuse/connections', 'fusectl', 'rw,relatime', '0', '0'], ['/dev/sdz9', '/mnt/foo\\\\040bar', 'ext4', 'rw,relatime', '0', '0']]",
                                    "variable_type": "list",
                                    "variable_shape": "37"
                                },
                                "self._mtab_entries": {
                                    "variable_value": "<MagicMock name='_mtab_entries' id='4589633872'>",
                                    "variable_type": "MagicMock",
                                    "variable_shape": "0"
                                },
                                "results": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "pool": {
                                    "variable_value": "<multiprocessing.pool.ThreadPool object at 0x11182bf50>",
                                    "variable_type": "ThreadPool",
                                    "variable_shape": null
                                },
                                "ThreadPool": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "cpu_count": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "maxtime": {
                                    "variable_value": "10",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "get": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout.DEFAULT_GATHER_TIMEOUT": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "timeout": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "fields": {
                                    "variable_value": "['/dev/sdz9', '/mnt/foo bar', 'ext4', 'rw,relatime', '0', '0']",
                                    "variable_type": "list",
                                    "variable_shape": "6"
                                },
                                "self._replace_octal_escapes": {
                                    "variable_value": "<bound method LinuxHardware._replace_octal_escapes of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "field": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "device": {
                                    "variable_value": "'/dev/sdz9'",
                                    "variable_type": "str",
                                    "variable_shape": "9"
                                },
                                "mount": {
                                    "variable_value": "'/mnt/foo bar'",
                                    "variable_type": "str",
                                    "variable_shape": "12"
                                },
                                "fstype": {
                                    "variable_value": "'ext4'",
                                    "variable_type": "str",
                                    "variable_shape": "4"
                                },
                                "options": {
                                    "variable_value": "'rw,relatime'",
                                    "variable_type": "str",
                                    "variable_shape": "11"
                                },
                                "device.startswith": {
                                    "variable_value": "<built-in method startswith of str object at 0x111360930>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "mount_info": {
                                    "variable_value": "{'mount': '/mnt/foo bar', 'device': '/dev/sdz9', 'fstype': 'ext4', 'options': 'rw,relatime', 'uuid': 'N/A'}",
                                    "variable_type": "dict",
                                    "variable_shape": "5"
                                },
                                "self.MTAB_BIND_MOUNT_RE.match": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.MTAB_BIND_MOUNT_RE": {
                                    "variable_value": "re.compile('.*bind.*\"')",
                                    "variable_type": "Pattern",
                                    "variable_shape": null
                                },
                                "pool.apply_async": {
                                    "variable_value": "<bound method Pool.apply_async of <multiprocessing.pool.ThreadPool object at 0x11182bf50>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.get_mount_info": {
                                    "variable_value": "<bound method LinuxHardware.get_mount_info of <ansible.module_utils.facts.hardware.linux.LinuxHardware object at 0x111906550>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "time.time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "time": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "pool.close": {
                                    "variable_value": "<bound method Pool.close of <multiprocessing.pool.ThreadPool object at 0x11182bf50>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "res": {
                                    "variable_value": "<multiprocessing.pool.ApplyResult object at 0x11182bb10>",
                                    "variable_type": "ApplyResult",
                                    "variable_shape": null
                                },
                                "res.ready": {
                                    "variable_value": "<bound method ApplyResult.ready of <multiprocessing.pool.ApplyResult object at 0x11182bb10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "res.successful": {
                                    "variable_value": "<bound method ApplyResult.successful of <multiprocessing.pool.ApplyResult object at 0x11182bb10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "mount_size": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "uuid": {
                                    "variable_value": "'N/A'",
                                    "variable_type": "str",
                                    "variable_shape": "3"
                                },
                                "res.get": {
                                    "variable_value": "<bound method ApplyResult.get of <multiprocessing.pool.ApplyResult object at 0x11182bb10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "update": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "errmsg": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "to_text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.module.warn": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.module": {
                                    "variable_value": "<Mock id='4589543760'>",
                                    "variable_type": "Mock",
                                    "variable_shape": "<Mock name='mock.shape' id='4588746960'>"
                                },
                                "mounts.append": {
                                    "variable_value": "<built-in method append of list object at 0x111824870>",
                                    "variable_type": "builtin_function_or_method",
                                    "variable_shape": null
                                },
                                "time.sleep": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                }
            ],
            "inscope_functions": [
                "def get_partition_uuid(partname):\n    try:\n        uuids = os.listdir(\"/dev/disk/by-uuid\")\n    except OSError:\n        return\n\n    for uuid in uuids:\n        dev = os.path.realpath(\"/dev/disk/by-uuid/\" + uuid)\n        if dev == (\"/dev/\" + partname):\n            return uuid\n\n    return None",
                "def populate(self, collected_facts=None):\n    hardware_facts = {}\n    self.module.run_command_environ_update = {'LANG': 'C', 'LC_ALL': 'C', 'LC_NUMERIC': 'C'}\n\n    cpu_facts = self.get_cpu_facts(collected_facts=collected_facts)\n    memory_facts = self.get_memory_facts()\n    dmi_facts = self.get_dmi_facts()\n    device_facts = self.get_device_facts()\n    uptime_facts = self.get_uptime_facts()\n    lvm_facts = self.get_lvm_facts()\n\n    mount_facts = {}\n    try:\n        mount_facts = self.get_mount_facts()\n    except timeout.TimeoutError:\n        pass\n\n    hardware_facts.update(cpu_facts)\n    hardware_facts.update(memory_facts)\n    hardware_facts.update(dmi_facts)\n    hardware_facts.update(device_facts)\n    hardware_facts.update(uptime_facts)\n    hardware_facts.update(lvm_facts)\n    hardware_facts.update(mount_facts)\n\n    return hardware_facts",
                "def get_memory_facts(self):\n    memory_facts = {}\n    if not os.access(\"/proc/meminfo\", os.R_OK):\n        return memory_facts\n\n    memstats = {}\n    for line in get_file_lines(\"/proc/meminfo\"):\n        data = line.split(\":\", 1)\n        key = data[0]\n        if key in self.ORIGINAL_MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memory_facts[\"%s_mb\" % key.lower()] = int(val) // 1024\n\n        if key in self.MEMORY_FACTS:\n            val = data[1].strip().split(' ')[0]\n            memstats[key.lower()] = int(val) // 1024\n\n    if None not in (memstats.get('memtotal'), memstats.get('memfree')):\n        memstats['real:used'] = memstats['memtotal'] - memstats['memfree']\n    if None not in (memstats.get('cached'), memstats.get('memfree'), memstats.get('buffers')):\n        memstats['nocache:free'] = memstats['cached'] + memstats['memfree'] + memstats['buffers']\n    if None not in (memstats.get('memtotal'), memstats.get('nocache:free')):\n        memstats['nocache:used'] = memstats['memtotal'] - memstats['nocache:free']\n    if None not in (memstats.get('swaptotal'), memstats.get('swapfree')):\n        memstats['swap:used'] = memstats['swaptotal'] - memstats['swapfree']\n\n    memory_facts['memory_mb'] = {\n        'real': {\n            'total': memstats.get('memtotal'),\n            'used': memstats.get('real:used'),\n            'free': memstats.get('memfree'),\n        },\n        'nocache': {\n            'free': memstats.get('nocache:free'),\n            'used': memstats.get('nocache:used'),\n        },\n        'swap': {\n            'total': memstats.get('swaptotal'),\n            'free': memstats.get('swapfree'),\n            'used': memstats.get('swap:used'),\n            'cached': memstats.get('swapcached'),\n        },\n    }\n\n    return memory_facts",
                "def get_cpu_facts(self, collected_facts=None):\n    cpu_facts = {}\n    collected_facts = collected_facts or {}\n\n    i = 0\n    vendor_id_occurrence = 0\n    model_name_occurrence = 0\n    processor_occurence = 0\n    physid = 0\n    coreid = 0\n    sockets = {}\n    cores = {}\n\n    xen = False\n    xen_paravirt = False\n    try:\n        if os.path.exists('/proc/xen'):\n            xen = True\n        else:\n            for line in get_file_lines('/sys/hypervisor/type'):\n                if line.strip() == 'xen':\n                    xen = True\n                # Only interested in the first line\n                break\n    except IOError:\n        pass\n\n    if not os.access(\"/proc/cpuinfo\", os.R_OK):\n        return cpu_facts\n\n    cpu_facts['processor'] = []\n    for line in get_file_lines('/proc/cpuinfo'):\n        data = line.split(\":\", 1)\n        key = data[0].strip()\n\n        try:\n            val = data[1].strip()\n        except IndexError:\n            val = \"\"\n\n        if xen:\n            if key == 'flags':\n                # Check for vme cpu flag, Xen paravirt does not expose this.\n                #   Need to detect Xen paravirt because it exposes cpuinfo\n                #   differently than Xen HVM or KVM and causes reporting of\n                #   only a single cpu core.\n                if 'vme' not in val:\n                    xen_paravirt = True\n\n        # model name is for Intel arch, Processor (mind the uppercase P)\n        # works for some ARM devices, like the Sheevaplug.\n        # 'ncpus active' is SPARC attribute\n        if key in ['model name', 'Processor', 'vendor_id', 'cpu', 'Vendor', 'processor']:\n            if 'processor' not in cpu_facts:\n                cpu_facts['processor'] = []\n            cpu_facts['processor'].append(val)\n            if key == 'vendor_id':\n                vendor_id_occurrence += 1\n            if key == 'model name':\n                model_name_occurrence += 1\n            if key == 'processor':\n                processor_occurence += 1\n            i += 1\n        elif key == 'physical id':\n            physid = val\n            if physid not in sockets:\n                sockets[physid] = 1\n        elif key == 'core id':\n            coreid = val\n            if coreid not in sockets:\n                cores[coreid] = 1\n        elif key == 'cpu cores':\n            sockets[physid] = int(val)\n        elif key == 'siblings':\n            cores[coreid] = int(val)\n        elif key == '# processors':\n            cpu_facts['processor_cores'] = int(val)\n        elif key == 'ncpus active':\n            i = int(val)\n\n    # Skip for platforms without vendor_id/model_name in cpuinfo (e.g ppc64le)\n    if vendor_id_occurrence > 0:\n        if vendor_id_occurrence == model_name_occurrence:\n            i = vendor_id_occurrence\n\n    # The fields for ARM CPUs do not always include 'vendor_id' or 'model name',\n    # and sometimes includes both 'processor' and 'Processor'.\n    # Always use 'processor' count for ARM systems\n    if collected_facts.get('ansible_architecture', '').startswith(('armv', 'aarch')):\n        i = processor_occurence\n\n    # FIXME\n    if collected_facts.get('ansible_architecture') != 's390x':\n        if xen_paravirt:\n            cpu_facts['processor_count'] = i\n            cpu_facts['processor_cores'] = i\n            cpu_facts['processor_threads_per_core'] = 1\n            cpu_facts['processor_vcpus'] = i\n        else:\n            if sockets:\n                cpu_facts['processor_count'] = len(sockets)\n            else:\n                cpu_facts['processor_count'] = i\n\n            socket_values = list(sockets.values())\n            if socket_values and socket_values[0]:\n                cpu_facts['processor_cores'] = socket_values[0]\n            else:\n                cpu_facts['processor_cores'] = 1\n\n            core_values = list(cores.values())\n            if core_values:\n                cpu_facts['processor_threads_per_core'] = core_values[0] // cpu_facts['processor_cores']\n            else:\n                cpu_facts['processor_threads_per_core'] = 1 // cpu_facts['processor_cores']\n\n            cpu_facts['processor_vcpus'] = (cpu_facts['processor_threads_per_core'] *\n                                            cpu_facts['processor_count'] * cpu_facts['processor_cores'])\n\n    return cpu_facts",
                "def get_dmi_facts(self):\n    ''' learn dmi facts from system\n\n    Try /sys first for dmi related facts.\n    If that is not available, fall back to dmidecode executable '''\n\n    dmi_facts = {}\n\n    if os.path.exists('/sys/devices/virtual/dmi/id/product_name'):\n        # Use kernel DMI info, if available\n\n        # DMI SPEC -- https://www.dmtf.org/sites/default/files/standards/documents/DSP0134_3.2.0.pdf\n        FORM_FACTOR = [\"Unknown\", \"Other\", \"Unknown\", \"Desktop\",\n                       \"Low Profile Desktop\", \"Pizza Box\", \"Mini Tower\", \"Tower\",\n                       \"Portable\", \"Laptop\", \"Notebook\", \"Hand Held\", \"Docking Station\",\n                       \"All In One\", \"Sub Notebook\", \"Space-saving\", \"Lunch Box\",\n                       \"Main Server Chassis\", \"Expansion Chassis\", \"Sub Chassis\",\n                       \"Bus Expansion Chassis\", \"Peripheral Chassis\", \"RAID Chassis\",\n                       \"Rack Mount Chassis\", \"Sealed-case PC\", \"Multi-system\",\n                       \"CompactPCI\", \"AdvancedTCA\", \"Blade\", \"Blade Enclosure\",\n                       \"Tablet\", \"Convertible\", \"Detachable\", \"IoT Gateway\",\n                       \"Embedded PC\", \"Mini PC\", \"Stick PC\"]\n\n        DMI_DICT = {\n            'bios_date': '/sys/devices/virtual/dmi/id/bios_date',\n            'bios_version': '/sys/devices/virtual/dmi/id/bios_version',\n            'form_factor': '/sys/devices/virtual/dmi/id/chassis_type',\n            'product_name': '/sys/devices/virtual/dmi/id/product_name',\n            'product_serial': '/sys/devices/virtual/dmi/id/product_serial',\n            'product_uuid': '/sys/devices/virtual/dmi/id/product_uuid',\n            'product_version': '/sys/devices/virtual/dmi/id/product_version',\n            'system_vendor': '/sys/devices/virtual/dmi/id/sys_vendor'\n        }\n\n        for (key, path) in DMI_DICT.items():\n            data = get_file_content(path)\n            if data is not None:\n                if key == 'form_factor':\n                    try:\n                        dmi_facts['form_factor'] = FORM_FACTOR[int(data)]\n                    except IndexError:\n                        dmi_facts['form_factor'] = 'unknown (%s)' % data\n                else:\n                    dmi_facts[key] = data\n            else:\n                dmi_facts[key] = 'NA'\n\n    else:\n        # Fall back to using dmidecode, if available\n        dmi_bin = self.module.get_bin_path('dmidecode')\n        DMI_DICT = {\n            'bios_date': 'bios-release-date',\n            'bios_version': 'bios-version',\n            'form_factor': 'chassis-type',\n            'product_name': 'system-product-name',\n            'product_serial': 'system-serial-number',\n            'product_uuid': 'system-uuid',\n            'product_version': 'system-version',\n            'system_vendor': 'system-manufacturer'\n        }\n        for (k, v) in DMI_DICT.items():\n            if dmi_bin is not None:\n                (rc, out, err) = self.module.run_command('%s -s %s' % (dmi_bin, v))\n                if rc == 0:\n                    # Strip out commented lines (specific dmidecode output)\n                    thisvalue = ''.join([line for line in out.splitlines() if not line.startswith('#')])\n                    try:\n                        json.dumps(thisvalue)\n                    except UnicodeDecodeError:\n                        thisvalue = \"NA\"\n\n                    dmi_facts[k] = thisvalue\n                else:\n                    dmi_facts[k] = 'NA'\n            else:\n                dmi_facts[k] = 'NA'\n\n    return dmi_facts",
                "def _run_lsblk(self, lsblk_path):\n    # call lsblk and collect all uuids\n    # --exclude 2 makes lsblk ignore floppy disks, which are slower to answer than typical timeouts\n    # this uses the linux major device number\n    # for details see https://www.kernel.org/doc/Documentation/devices.txt\n    args = ['--list', '--noheadings', '--paths', '--output', 'NAME,UUID', '--exclude', '2']\n    cmd = [lsblk_path] + args\n    rc, out, err = self.module.run_command(cmd)\n    return rc, out, err",
                "def _lsblk_uuid(self):\n    uuids = {}\n    lsblk_path = self.module.get_bin_path(\"lsblk\")\n    if not lsblk_path:\n        return uuids\n\n    rc, out, err = self._run_lsblk(lsblk_path)\n    if rc != 0:\n        return uuids\n\n    # each line will be in format:\n    # <devicename><some whitespace><uuid>\n    # /dev/sda1  32caaec3-ef40-4691-a3b6-438c3f9bc1c0\n    for lsblk_line in out.splitlines():\n        if not lsblk_line:\n            continue\n\n        line = lsblk_line.strip()\n        fields = line.rsplit(None, 1)\n\n        if len(fields) < 2:\n            continue\n\n        device_name, uuid = fields[0].strip(), fields[1].strip()\n        if device_name in uuids:\n            continue\n        uuids[device_name] = uuid\n\n    return uuids",
                "def _udevadm_uuid(self, device):\n    # fallback for versions of lsblk <= 2.23 that don't have --paths, see _run_lsblk() above\n    uuid = 'N/A'\n\n    udevadm_path = self.module.get_bin_path('udevadm')\n    if not udevadm_path:\n        return uuid\n\n    cmd = [udevadm_path, 'info', '--query', 'property', '--name', device]\n    rc, out, err = self.module.run_command(cmd)\n    if rc != 0:\n        return uuid\n\n    # a snippet of the output of the udevadm command below will be:\n    # ...\n    # ID_FS_TYPE=ext4\n    # ID_FS_USAGE=filesystem\n    # ID_FS_UUID=57b1a3e7-9019-4747-9809-7ec52bba9179\n    # ...\n    m = re.search('ID_FS_UUID=(.*)\\n', out)\n    if m:\n        uuid = m.group(1)\n\n    return uuid",
                "def _run_findmnt(self, findmnt_path):\n    args = ['--list', '--noheadings', '--notruncate']\n    cmd = [findmnt_path] + args\n    rc, out, err = self.module.run_command(cmd, errors='surrogate_then_replace')\n    return rc, out, err",
                "def _find_bind_mounts(self):\n    bind_mounts = set()\n    findmnt_path = self.module.get_bin_path(\"findmnt\")\n    if not findmnt_path:\n        return bind_mounts\n\n    rc, out, err = self._run_findmnt(findmnt_path)\n    if rc != 0:\n        return bind_mounts\n\n    # find bind mounts, in case /etc/mtab is a symlink to /proc/mounts\n    for line in out.splitlines():\n        fields = line.split()\n        # fields[0] is the TARGET, fields[1] is the SOURCE\n        if len(fields) < 2:\n            continue\n\n        # bind mounts will have a [/directory_name] in the SOURCE column\n        if self.BIND_MOUNT_RE.match(fields[1]):\n            bind_mounts.add(fields[0])\n\n    return bind_mounts",
                "def _mtab_entries(self):\n    mtab_file = '/etc/mtab'\n    if not os.path.exists(mtab_file):\n        mtab_file = '/proc/mounts'\n\n    mtab = get_file_content(mtab_file, '')\n    mtab_entries = []\n    for line in mtab.splitlines():\n        fields = line.split()\n        if len(fields) < 4:\n            continue\n        mtab_entries.append(fields)\n    return mtab_entries",
                "def get_mount_info(self, mount, device, uuids):\n\n    mount_size = get_mount_size(mount)\n\n    # _udevadm_uuid is a fallback for versions of lsblk <= 2.23 that don't have --paths\n    # see _run_lsblk() above\n    # https://github.com/ansible/ansible/issues/36077\n    uuid = uuids.get(device, self._udevadm_uuid(device))\n\n    return mount_size, uuid",
                "def get_mount_facts(self):\n\n    mounts = []\n\n    # gather system lists\n    bind_mounts = self._find_bind_mounts()\n    uuids = self._lsblk_uuid()\n    mtab_entries = self._mtab_entries()\n\n    # start threads to query each mount\n    results = {}\n    pool = ThreadPool(processes=min(len(mtab_entries), cpu_count()))\n    maxtime = globals().get('GATHER_TIMEOUT') or timeout.DEFAULT_GATHER_TIMEOUT\n    for fields in mtab_entries:\n\n        device, mount, fstype, options = fields[0], fields[1], fields[2], fields[3]\n\n        if not device.startswith('/') and ':/' not in device or fstype == 'none':\n            continue\n\n        mount_info = {'mount': mount,\n                      'device': device,\n                      'fstype': fstype,\n                      'options': options}\n\n        if mount in bind_mounts:\n            # only add if not already there, we might have a plain /etc/mtab\n            if not self.MTAB_BIND_MOUNT_RE.match(options):\n                mount_info['options'] += \",bind\"\n\n        results[mount] = {'info': mount_info,\n                          'extra': pool.apply_async(self.get_mount_info, (mount, device, uuids)),\n                          'timelimit': time.time() + maxtime}\n\n    pool.close()  # done with new workers, start gc\n\n    # wait for workers and get results\n    while results:\n        for mount in results:\n            res = results[mount]['extra']\n            if res.ready():\n                if res.successful():\n                    mount_size, uuid = res.get()\n                    if mount_size:\n                        results[mount]['info'].update(mount_size)\n                    results[mount]['info']['uuid'] = uuid or 'N/A'\n                else:\n                    # give incomplete data\n                    errmsg = to_text(res.get())\n                    self.module.warn(\"Error prevented getting extra info for mount %s: %s.\" % (mount, errmsg))\n                    results[mount]['info']['note'] = 'Could not get extra information: %s.' % (errmsg)\n\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n            elif time.time() > results[mount]['timelimit']:\n                results[mount]['info']['note'] = 'Timed out while attempting to get extra information.'\n                mounts.append(results[mount]['info'])\n                del results[mount]\n                break\n        else:\n            # avoid cpu churn\n            time.sleep(0.1)\n\n    return {'mounts': mounts}",
                "def get_device_links(self, link_dir):\n    if not os.path.exists(link_dir):\n        return {}\n    try:\n        retval = collections.defaultdict(set)\n        for entry in os.listdir(link_dir):\n            try:\n                target = os.path.basename(os.readlink(os.path.join(link_dir, entry)))\n                retval[target].add(entry)\n            except OSError:\n                continue\n        return dict((k, list(sorted(v))) for (k, v) in iteritems(retval))\n    except OSError:\n        return {}",
                "def get_all_device_owners(self):\n    try:\n        retval = collections.defaultdict(set)\n        for path in glob.glob('/sys/block/*/slaves/*'):\n            elements = path.split('/')\n            device = elements[3]\n            target = elements[5]\n            retval[target].add(device)\n        return dict((k, list(sorted(v))) for (k, v) in iteritems(retval))\n    except OSError:\n        return {}",
                "def get_all_device_links(self):\n    return {\n        'ids': self.get_device_links('/dev/disk/by-id'),\n        'uuids': self.get_device_links('/dev/disk/by-uuid'),\n        'labels': self.get_device_links('/dev/disk/by-label'),\n        'masters': self.get_all_device_owners(),\n    }",
                "def get_holders(self, block_dev_dict, sysdir):\n    block_dev_dict['holders'] = []\n    if os.path.isdir(sysdir + \"/holders\"):\n        for folder in os.listdir(sysdir + \"/holders\"):\n            if not folder.startswith(\"dm-\"):\n                continue\n            name = get_file_content(sysdir + \"/holders/\" + folder + \"/dm/name\")\n            if name:\n                block_dev_dict['holders'].append(name)\n            else:\n                block_dev_dict['holders'].append(folder)",
                "def get_device_facts(self):\n    device_facts = {}\n\n    device_facts['devices'] = {}\n    lspci = self.module.get_bin_path('lspci')\n    if lspci:\n        rc, pcidata, err = self.module.run_command([lspci, '-D'], errors='surrogate_then_replace')\n    else:\n        pcidata = None\n\n    try:\n        block_devs = os.listdir(\"/sys/block\")\n    except OSError:\n        return device_facts\n\n    devs_wwn = {}\n    try:\n        devs_by_id = os.listdir(\"/dev/disk/by-id\")\n    except OSError:\n        pass\n    else:\n        for link_name in devs_by_id:\n            if link_name.startswith(\"wwn-\"):\n                try:\n                    wwn_link = os.readlink(os.path.join(\"/dev/disk/by-id\", link_name))\n                except OSError:\n                    continue\n                devs_wwn[os.path.basename(wwn_link)] = link_name[4:]\n\n    links = self.get_all_device_links()\n    device_facts['device_links'] = links\n\n    for block in block_devs:\n        virtual = 1\n        sysfs_no_links = 0\n        try:\n            path = os.readlink(os.path.join(\"/sys/block/\", block))\n        except OSError:\n            e = sys.exc_info()[1]\n            if e.errno == errno.EINVAL:\n                path = block\n                sysfs_no_links = 1\n            else:\n                continue\n        sysdir = os.path.join(\"/sys/block\", path)\n        if sysfs_no_links == 1:\n            for folder in os.listdir(sysdir):\n                if \"device\" in folder:\n                    virtual = 0\n                    break\n        d = {}\n        d['virtual'] = virtual\n        d['links'] = {}\n        for (link_type, link_values) in iteritems(links):\n            d['links'][link_type] = link_values.get(block, [])\n        diskname = os.path.basename(sysdir)\n        for key in ['vendor', 'model', 'sas_address', 'sas_device_handle']:\n            d[key] = get_file_content(sysdir + \"/device/\" + key)\n\n        sg_inq = self.module.get_bin_path('sg_inq')\n\n        if sg_inq:\n            device = \"/dev/%s\" % (block)\n            rc, drivedata, err = self.module.run_command([sg_inq, device])\n            if rc == 0:\n                serial = re.search(r\"Unit serial number:\\s+(\\w+)\", drivedata)\n                if serial:\n                    d['serial'] = serial.group(1)\n\n        for key, test in [('removable', '/removable'),\n                          ('support_discard', '/queue/discard_granularity'),\n                          ]:\n            d[key] = get_file_content(sysdir + test)\n\n        if diskname in devs_wwn:\n            d['wwn'] = devs_wwn[diskname]\n\n        d['partitions'] = {}\n        for folder in os.listdir(sysdir):\n            m = re.search(\"(\" + diskname + r\"[p]?\\d+)\", folder)\n            if m:\n                part = {}\n                partname = m.group(1)\n                part_sysdir = sysdir + \"/\" + partname\n\n                part['links'] = {}\n                for (link_type, link_values) in iteritems(links):\n                    part['links'][link_type] = link_values.get(partname, [])\n\n                part['start'] = get_file_content(part_sysdir + \"/start\", 0)\n                part['sectors'] = get_file_content(part_sysdir + \"/size\", 0)\n\n                part['sectorsize'] = get_file_content(part_sysdir + \"/queue/logical_block_size\")\n                if not part['sectorsize']:\n                    part['sectorsize'] = get_file_content(part_sysdir + \"/queue/hw_sector_size\", 512)\n                part['size'] = bytes_to_human((float(part['sectors']) * 512.0))\n                part['uuid'] = get_partition_uuid(partname)\n                self.get_holders(part, part_sysdir)\n\n                d['partitions'][partname] = part\n\n        d['rotational'] = get_file_content(sysdir + \"/queue/rotational\")\n        d['scheduler_mode'] = \"\"\n        scheduler = get_file_content(sysdir + \"/queue/scheduler\")\n        if scheduler is not None:\n            m = re.match(r\".*?(\\[(.*)\\])\", scheduler)\n            if m:\n                d['scheduler_mode'] = m.group(2)\n\n        d['sectors'] = get_file_content(sysdir + \"/size\")\n        if not d['sectors']:\n            d['sectors'] = 0\n        d['sectorsize'] = get_file_content(sysdir + \"/queue/logical_block_size\")\n        if not d['sectorsize']:\n            d['sectorsize'] = get_file_content(sysdir + \"/queue/hw_sector_size\", 512)\n        d['size'] = bytes_to_human(float(d['sectors']) * 512.0)\n\n        d['host'] = \"\"\n\n        # domains are numbered (0 to ffff), bus (0 to ff), slot (0 to 1f), and function (0 to 7).\n        m = re.match(r\".+/([a-f0-9]{4}:[a-f0-9]{2}:[0|1][a-f0-9]\\.[0-7])/\", sysdir)\n        if m and pcidata:\n            pciid = m.group(1)\n            did = re.escape(pciid)\n            m = re.search(\"^\" + did + r\"\\s(.*)$\", pcidata, re.MULTILINE)\n            if m:\n                d['host'] = m.group(1)\n\n        self.get_holders(d, sysdir)\n\n        device_facts['devices'][diskname] = d\n\n    return device_facts",
                "def get_uptime_facts(self):\n    uptime_facts = {}\n    uptime_file_content = get_file_content('/proc/uptime')\n    if uptime_file_content:\n        uptime_seconds_string = uptime_file_content.split(' ')[0]\n        uptime_facts['uptime_seconds'] = int(float(uptime_seconds_string))\n\n    return uptime_facts",
                "def _find_mapper_device_name(self, dm_device):\n    dm_prefix = '/dev/dm-'\n    mapper_device = dm_device\n    if dm_device.startswith(dm_prefix):\n        dmsetup_cmd = self.module.get_bin_path('dmsetup', True)\n        mapper_prefix = '/dev/mapper/'\n        rc, dm_name, err = self.module.run_command(\"%s info -C --noheadings -o name %s\" % (dmsetup_cmd, dm_device))\n        if rc == 0:\n            mapper_device = mapper_prefix + dm_name.rstrip()\n    return mapper_device",
                "def get_lvm_facts(self):\n    \"\"\" Get LVM Facts if running as root and lvm utils are available \"\"\"\n\n    lvm_facts = {}\n\n    if os.getuid() == 0 and self.module.get_bin_path('vgs'):\n        lvm_util_options = '--noheadings --nosuffix --units g --separator ,'\n\n        vgs_path = self.module.get_bin_path('vgs')\n        # vgs fields: VG #PV #LV #SN Attr VSize VFree\n        vgs = {}\n        if vgs_path:\n            rc, vg_lines, err = self.module.run_command('%s %s' % (vgs_path, lvm_util_options))\n            for vg_line in vg_lines.splitlines():\n                items = vg_line.strip().split(',')\n                vgs[items[0]] = {'size_g': items[-2],\n                                 'free_g': items[-1],\n                                 'num_lvs': items[2],\n                                 'num_pvs': items[1]}\n\n        lvs_path = self.module.get_bin_path('lvs')\n        # lvs fields:\n        # LV VG Attr LSize Pool Origin Data% Move Log Copy% Convert\n        lvs = {}\n        if lvs_path:\n            rc, lv_lines, err = self.module.run_command('%s %s' % (lvs_path, lvm_util_options))\n            for lv_line in lv_lines.splitlines():\n                items = lv_line.strip().split(',')\n                lvs[items[0]] = {'size_g': items[3], 'vg': items[1]}\n\n        pvs_path = self.module.get_bin_path('pvs')\n        # pvs fields: PV VG #Fmt #Attr PSize PFree\n        pvs = {}\n        if pvs_path:\n            rc, pv_lines, err = self.module.run_command('%s %s' % (pvs_path, lvm_util_options))\n            for pv_line in pv_lines.splitlines():\n                items = pv_line.strip().split(',')\n                pvs[self._find_mapper_device_name(items[0])] = {\n                    'size_g': items[4],\n                    'free_g': items[5],\n                    'vg': items[1]}\n\n        lvm_facts['lvm'] = {'lvs': lvs, 'vgs': vgs, 'pvs': pvs}\n\n    return lvm_facts"
            ],
            "inscope_function_signatures": [
                "get_partition_uuid(partname)",
                "populate(self, collected_facts=None)",
                "get_memory_facts(self)",
                "get_cpu_facts(self, collected_facts=None)",
                "get_dmi_facts(self)",
                "_run_lsblk(self, lsblk_path)",
                "_lsblk_uuid(self)",
                "_udevadm_uuid(self, device)",
                "_run_findmnt(self, findmnt_path)",
                "_find_bind_mounts(self)",
                "_mtab_entries(self)",
                "get_mount_info(self, mount, device, uuids)",
                "get_mount_facts(self)",
                "get_device_links(self, link_dir)",
                "get_all_device_owners(self)",
                "get_all_device_links(self)",
                "get_holders(self, block_dev_dict, sysdir)",
                "get_device_facts(self)",
                "get_uptime_facts(self)",
                "_find_mapper_device_name(self, dm_device)",
                "get_lvm_facts(self)"
            ],
            "variables_in_file": {
                "__metaclass__": [
                    17
                ],
                "type": [
                    17
                ],
                "uuids": [
                    480,
                    389,
                    391,
                    393,
                    43,
                    366,
                    47,
                    369,
                    373,
                    470,
                    505
                ],
                "os.listdir": [
                    545,
                    578,
                    43,
                    665,
                    598,
                    633,
                    604
                ],
                "os": [
                    642,
                    665,
                    284,
                    541,
                    545,
                    547,
                    43,
                    171,
                    48,
                    182,
                    577,
                    578,
                    451,
                    598,
                    604,
                    611,
                    614,
                    746,
                    111,
                    623,
                    631,
                    633
                ],
                "OSError": [
                    612,
                    549,
                    552,
                    44,
                    624,
                    564,
                    599,
                    605
                ],
                "uuid": [
                    416,
                    418,
                    388,
                    516,
                    391,
                    519,
                    397,
                    47,
                    48,
                    401,
                    50,
                    406,
                    470,
                    472
                ],
                "dev": [
                    48,
                    49
                ],
                "os.path.realpath": [
                    48
                ],
                "os.path": [
                    577,
                    642,
                    451,
                    547,
                    611,
                    614,
                    171,
                    623,
                    48,
                    631,
                    284,
                    541
                ],
                "partname": [
                    674,
                    683,
                    686,
                    49,
                    669,
                    670
                ],
                "Hardware": [
                    55
                ],
                "platform": [
                    69
                ],
                "ORIGINAL_MEMORY_FACTS": [
                    72,
                    74
                ],
                "frozenset": [
                    72
                ],
                "MEMORY_FACTS": [
                    74
                ],
                "ORIGINAL_MEMORY_FACTS.union": [
                    74
                ],
                "BIND_MOUNT_RE": [
                    77
                ],
                "re.compile": [
                    80,
                    77
                ],
                "re": [
                    707,
                    710,
                    711,
                    652,
                    77,
                    80,
                    692,
                    666,
                    414
                ],
                "MTAB_BIND_MOUNT_RE": [
                    80
                ],
                "hardware_facts": [
                    99,
                    100,
                    101,
                    102,
                    103,
                    104,
                    105,
                    107,
                    83
                ],
                "self.module.run_command_environ_update": [
                    84
                ],
                "self.module": [
                    771,
                    646,
                    775,
                    650,
                    523,
                    399,
                    404,
                    423,
                    428,
                    325,
                    591,
                    593,
                    338,
                    84,
                    734,
                    736,
                    362,
                    746,
                    749,
                    367,
                    753,
                    761,
                    766
                ],
                "self": [
                    771,
                    646,
                    775,
                    650,
                    523,
                    778,
                    399,
                    404,
                    423,
                    428,
                    684,
                    432,
                    569,
                    570,
                    571,
                    444,
                    572,
                    325,
                    715,
                    591,
                    593,
                    338,
                    84,
                    86,
                    87,
                    88,
                    89,
                    90,
                    91,
                    470,
                    734,
                    95,
                    479,
                    480,
                    481,
                    736,
                    616,
                    362,
                    746,
                    749,
                    367,
                    753,
                    371,
                    501,
                    118,
                    761,
                    505,
                    122,
                    766
                ],
                "cpu_facts": [
                    257,
                    261,
                    263,
                    267,
                    269,
                    271,
                    272,
                    274,
                    156,
                    183,
                    185,
                    208,
                    209,
                    210,
                    86,
                    99,
                    231,
                    249,
                    250,
                    251,
                    252,
                    255
                ],
                "self.get_cpu_facts": [
                    86
                ],
                "collected_facts": [
                    243,
                    157,
                    86,
                    247
                ],
                "memory_facts": [
                    100,
                    135,
                    110,
                    112,
                    87,
                    120,
                    153
                ],
                "self.get_memory_facts": [
                    87
                ],
                "dmi_facts": [
                    321,
                    353,
                    101,
                    351,
                    347,
                    88,
                    282,
                    315,
                    349,
                    317,
                    319
                ],
                "self.get_dmi_facts": [
                    88
                ],
                "device_facts": [
                    102,
                    617,
                    588,
                    717,
                    590,
                    719,
                    600,
                    89
                ],
                "self.get_device_facts": [
                    89
                ],
                "uptime_facts": [
                    103,
                    722,
                    726,
                    728,
                    90
                ],
                "self.get_uptime_facts": [
                    90
                ],
                "lvm_facts": [
                    104,
                    744,
                    783,
                    785,
                    91
                ],
                "self.get_lvm_facts": [
                    91
                ],
                "mount_facts": [
                    105,
                    93,
                    95
                ],
                "self.get_mount_facts": [
                    95
                ],
                "timeout.TimeoutError": [
                    96
                ],
                "timeout": [
                    96,
                    486
                ],
                "hardware_facts.update": [
                    99,
                    100,
                    101,
                    102,
                    103,
                    104,
                    105
                ],
                "os.access": [
                    182,
                    111
                ],
                "os.R_OK": [
                    182,
                    111
                ],
                "memstats": [
                    128,
                    129,
                    130,
                    131,
                    132,
                    133,
                    137,
                    138,
                    139,
                    142,
                    143,
                    146,
                    147,
                    148,
                    149,
                    114,
                    124,
                    126,
                    127
                ],
                "line": [
                    456,
                    457,
                    174,
                    175,
                    115,
                    116,
                    341,
                    437,
                    438,
                    186,
                    187,
                    382,
                    383
                ],
                "get_file_lines": [
                    186,
                    115,
                    174
                ],
                "data": [
                    319,
                    317,
                    123,
                    315,
                    116,
                    117,
                    119,
                    312,
                    187,
                    188,
                    311,
                    191
                ],
                "line.split": [
                    457,
                    187,
                    116,
                    438
                ],
                "key": [
                    643,
                    644,
                    656,
                    659,
                    310,
                    313,
                    188,
                    319,
                    321,
                    196,
                    207,
                    211,
                    213,
                    215,
                    218,
                    222,
                    226,
                    228,
                    230,
                    232,
                    117,
                    118,
                    120,
                    122,
                    124
                ],
                "self.ORIGINAL_MEMORY_FACTS": [
                    118
                ],
                "val": [
                    193,
                    223,
                    227,
                    229,
                    231,
                    201,
                    233,
                    219,
                    210,
                    119,
                    120,
                    123,
                    124,
                    191
                ],
                "split": [
                    768,
                    777,
                    755,
                    119,
                    123
                ],
                "strip": [
                    388,
                    119,
                    123,
                    188,
                    191
                ],
                "key.lower": [
                    120,
                    124
                ],
                "int": [
                    227,
                    229,
                    231,
                    233,
                    726,
                    120,
                    315,
                    124
                ],
                "self.MEMORY_FACTS": [
                    122
                ],
                "memstats.get": [
                    128,
                    130,
                    132,
                    137,
                    138,
                    139,
                    142,
                    143,
                    146,
                    147,
                    148,
                    149,
                    126
                ],
                "i": [
                    257,
                    249,
                    233,
                    238,
                    244,
                    217,
                    250,
                    252,
                    159
                ],
                "vendor_id_occurrence": [
                    160,
                    236,
                    237,
                    238,
                    212
                ],
                "model_name_occurrence": [
                    161,
                    237,
                    214
                ],
                "processor_occurence": [
                    216,
                    162,
                    244
                ],
                "physid": [
                    163,
                    227,
                    219,
                    220,
                    221
                ],
                "coreid": [
                    224,
                    225,
                    164,
                    229,
                    223
                ],
                "sockets": [
                    224,
                    227,
                    259,
                    165,
                    220,
                    221,
                    254,
                    255
                ],
                "cores": [
                    225,
                    229,
                    166,
                    265
                ],
                "xen": [
                    168,
                    195,
                    172,
                    176
                ],
                "xen_paravirt": [
                    248,
                    169,
                    202
                ],
                "os.path.exists": [
                    171,
                    284,
                    541,
                    451
                ],
                "line.strip": [
                    175
                ],
                "IOError": [
                    179
                ],
                "IndexError": [
                    192,
                    316
                ],
                "append": [
                    585,
                    210,
                    583
                ],
                "startswith": [
                    243
                ],
                "collected_facts.get": [
                    243,
                    247
                ],
                "len": [
                    385,
                    485,
                    458,
                    440,
                    255
                ],
                "socket_values": [
                    259,
                    260,
                    261
                ],
                "list": [
                    265,
                    259,
                    563,
                    551
                ],
                "sockets.values": [
                    259
                ],
                "core_values": [
                    265,
                    266,
                    267
                ],
                "cores.values": [
                    265
                ],
                "FORM_FACTOR": [
                    288,
                    315
                ],
                "DMI_DICT": [
                    336,
                    326,
                    299,
                    310
                ],
                "path": [
                    631,
                    558,
                    623,
                    559,
                    627,
                    310,
                    311
                ],
                "DMI_DICT.items": [
                    336,
                    310
                ],
                "get_file_content": [
                    644,
                    581,
                    454,
                    676,
                    677,
                    679,
                    681,
                    688,
                    690,
                    659,
                    723,
                    311,
                    696,
                    699,
                    701
                ],
                "dmi_bin": [
                    337,
                    338,
                    325
                ],
                "self.module.get_bin_path": [
                    771,
                    325,
                    646,
                    746,
                    428,
                    749,
                    399,
                    591,
                    367,
                    761,
                    734
                ],
                "k": [
                    551,
                    336,
                    563,
                    347,
                    349,
                    351
                ],
                "v": [
                    336,
                    338,
                    563,
                    551
                ],
                "rc": [
                    775,
                    650,
                    651,
                    404,
                    405,
                    423,
                    424,
                    432,
                    433,
                    593,
                    338,
                    339,
                    736,
                    737,
                    362,
                    363,
                    753,
                    371,
                    372,
                    766
                ],
                "out": [
                    423,
                    424,
                    362,
                    363,
                    432,
                    338,
                    371,
                    404,
                    341,
                    437,
                    378,
                    414
                ],
                "err": [
                    736,
                    423,
                    424,
                    775,
                    362,
                    363,
                    650,
                    432,
                    593,
                    338,
                    371,
                    404,
                    753,
                    766
                ],
                "self.module.run_command": [
                    736,
                    423,
                    775,
                    362,
                    650,
                    593,
                    338,
                    753,
                    404,
                    766
                ],
                "thisvalue": [
                    345,
                    347,
                    341,
                    343
                ],
                "join": [
                    341
                ],
                "out.splitlines": [
                    378,
                    341,
                    437
                ],
                "line.startswith": [
                    341
                ],
                "json.dumps": [
                    343
                ],
                "json": [
                    343
                ],
                "UnicodeDecodeError": [
                    344
                ],
                "args": [
                    360,
                    361,
                    421,
                    422
                ],
                "cmd": [
                    422,
                    423,
                    361,
                    362,
                    403,
                    404
                ],
                "lsblk_path": [
                    368,
                    361,
                    371,
                    367
                ],
                "self._run_lsblk": [
                    371
                ],
                "lsblk_line": [
                    378,
                    379,
                    382
                ],
                "lsblk_line.strip": [
                    382
                ],
                "fields": [
                    385,
                    388,
                    487,
                    457,
                    458,
                    489,
                    460,
                    438,
                    440,
                    444,
                    445,
                    383
                ],
                "line.rsplit": [
                    383
                ],
                "device_name": [
                    388,
                    389,
                    391
                ],
                "udevadm_path": [
                    400,
                    403,
                    399
                ],
                "device": [
                    489,
                    649,
                    491,
                    650,
                    495,
                    560,
                    562,
                    403,
                    470,
                    505
                ],
                "m": [
                    416,
                    707,
                    708,
                    709,
                    711,
                    712,
                    713,
                    692,
                    693,
                    694,
                    666,
                    667,
                    669,
                    414,
                    415
                ],
                "re.search": [
                    666,
                    652,
                    414,
                    711
                ],
                "m.group": [
                    416,
                    709,
                    713,
                    694,
                    669
                ],
                "findmnt_path": [
                    432,
                    428,
                    429,
                    422
                ],
                "bind_mounts": [
                    479,
                    427,
                    430,
                    434,
                    499,
                    445,
                    447
                ],
                "set": [
                    544,
                    792,
                    427,
                    557
                ],
                "self._run_findmnt": [
                    432
                ],
                "self.BIND_MOUNT_RE.match": [
                    444
                ],
                "self.BIND_MOUNT_RE": [
                    444
                ],
                "bind_mounts.add": [
                    445
                ],
                "mtab_file": [
                    450,
                    451,
                    452,
                    454
                ],
                "mtab": [
                    456,
                    454
                ],
                "mtab_entries": [
                    481,
                    485,
                    455,
                    487,
                    460,
                    461
                ],
                "mtab.splitlines": [
                    456
                ],
                "mtab_entries.append": [
                    460
                ],
                "mount_size": [
                    516,
                    517,
                    518,
                    465,
                    472
                ],
                "get_mount_size": [
                    465
                ],
                "mount": [
                    512,
                    513,
                    518,
                    519,
                    489,
                    523,
                    524,
                    494,
                    526,
                    527,
                    465,
                    529,
                    499,
                    530,
                    531,
                    532,
                    504,
                    505
                ],
                "uuids.get": [
                    470
                ],
                "self._udevadm_uuid": [
                    470
                ],
                "mounts": [
                    538,
                    531,
                    476,
                    526
                ],
                "self._find_bind_mounts": [
                    479
                ],
                "self._lsblk_uuid": [
                    480
                ],
                "self._mtab_entries": [
                    481
                ],
                "results": [
                    512,
                    513,
                    484,
                    518,
                    519,
                    524,
                    526,
                    527,
                    529,
                    530,
                    531,
                    532,
                    504,
                    511
                ],
                "pool": [
                    505,
                    508,
                    485
                ],
                "ThreadPool": [
                    485
                ],
                "min": [
                    485
                ],
                "cpu_count": [
                    485
                ],
                "maxtime": [
                    506,
                    486
                ],
                "get": [
                    486
                ],
                "globals": [
                    486
                ],
                "timeout.DEFAULT_GATHER_TIMEOUT": [
                    486
                ],
                "fstype": [
                    496,
                    489,
                    491
                ],
                "options": [
                    489,
                    497,
                    501
                ],
                "device.startswith": [
                    491
                ],
                "mount_info": [
                    504,
                    494,
                    502
                ],
                "self.MTAB_BIND_MOUNT_RE.match": [
                    501
                ],
                "self.MTAB_BIND_MOUNT_RE": [
                    501
                ],
                "pool.apply_async": [
                    505
                ],
                "self.get_mount_info": [
                    505
                ],
                "time.time": [
                    529,
                    506
                ],
                "time": [
                    536,
                    529,
                    506
                ],
                "pool.close": [
                    508
                ],
                "res": [
                    513,
                    514,
                    515,
                    516,
                    522
                ],
                "res.ready": [
                    514
                ],
                "res.successful": [
                    515
                ],
                "res.get": [
                    522,
                    516
                ],
                "update": [
                    518
                ],
                "errmsg": [
                    522,
                    523,
                    524
                ],
                "to_text": [
                    522
                ],
                "self.module.warn": [
                    523
                ],
                "mounts.append": [
                    531,
                    526
                ],
                "time.sleep": [
                    536
                ],
                "link_dir": [
                    545,
                    547,
                    541
                ],
                "retval": [
                    544,
                    548,
                    551,
                    557,
                    562,
                    563
                ],
                "collections.defaultdict": [
                    544,
                    557
                ],
                "collections": [
                    544,
                    557
                ],
                "entry": [
                    545,
                    547,
                    548
                ],
                "target": [
                    561,
                    562,
                    547,
                    548
                ],
                "os.path.basename": [
                    642,
                    547,
                    614
                ],
                "os.readlink": [
                    611,
                    547,
                    623
                ],
                "os.path.join": [
                    611,
                    547,
                    631,
                    623
                ],
                "add": [
                    562,
                    548
                ],
                "dict": [
                    563,
                    551
                ],
                "sorted": [
                    563,
                    551
                ],
                "iteritems": [
                    640,
                    673,
                    563,
                    551
                ],
                "glob.glob": [
                    558
                ],
                "glob": [
                    558
                ],
                "elements": [
                    560,
                    561,
                    559
                ],
                "path.split": [
                    559
                ],
                "self.get_device_links": [
                    569,
                    570,
                    571
                ],
                "self.get_all_device_owners": [
                    572
                ],
                "block_dev_dict": [
                    576,
                    585,
                    583
                ],
                "os.path.isdir": [
                    577
                ],
                "sysdir": [
                    577,
                    578,
                    642,
                    644,
                    581,
                    707,
                    715,
                    688,
                    665,
                    659,
                    690,
                    631,
                    696,
                    633,
                    699,
                    701,
                    670
                ],
                "folder": [
                    578,
                    579,
                    581,
                    585,
                    665,
                    666,
                    633,
                    634
                ],
                "folder.startswith": [
                    579
                ],
                "name": [
                    581,
                    582,
                    583
                ],
                "lspci": [
                    592,
                    593,
                    591
                ],
                "pcidata": [
                    593,
                    595,
                    708,
                    711
                ],
                "block_devs": [
                    619,
                    598
                ],
                "devs_wwn": [
                    602,
                    662,
                    661,
                    614
                ],
                "devs_by_id": [
                    608,
                    604
                ],
                "link_name": [
                    608,
                    609,
                    611,
                    614
                ],
                "link_name.startswith": [
                    609
                ],
                "wwn_link": [
                    611,
                    614
                ],
                "links": [
                    616,
                    617,
                    673,
                    640
                ],
                "self.get_all_device_links": [
                    616
                ],
                "block": [
                    641,
                    649,
                    619,
                    623,
                    627
                ],
                "virtual": [
                    635,
                    620,
                    638
                ],
                "sysfs_no_links": [
                    632,
                    628,
                    621
                ],
                "e": [
                    625,
                    626
                ],
                "sys.exc_info": [
                    625
                ],
                "sys": [
                    625
                ],
                "e.errno": [
                    626
                ],
                "errno.EINVAL": [
                    626
                ],
                "errno": [
                    626
                ],
                "d": [
                    641,
                    644,
                    654,
                    659,
                    662,
                    664,
                    686,
                    688,
                    689,
                    694,
                    696,
                    697,
                    698,
                    699,
                    700,
                    701,
                    702,
                    704,
                    713,
                    715,
                    717,
                    637,
                    638,
                    639
                ],
                "link_type": [
                    640,
                    641,
                    674,
                    673
                ],
                "link_values": [
                    640,
                    641,
                    674,
                    673
                ],
                "link_values.get": [
                    641,
                    674
                ],
                "diskname": [
                    642,
                    717,
                    661,
                    662,
                    666
                ],
                "sg_inq": [
                    648,
                    650,
                    646
                ],
                "drivedata": [
                    650,
                    652
                ],
                "serial": [
                    652,
                    653,
                    654
                ],
                "serial.group": [
                    654
                ],
                "test": [
                    656,
                    659
                ],
                "part": [
                    672,
                    674,
                    676,
                    677,
                    679,
                    680,
                    681,
                    682,
                    683,
                    684,
                    686,
                    668
                ],
                "part_sysdir": [
                    676,
                    677,
                    679,
                    681,
                    684,
                    670
                ],
                "bytes_to_human": [
                    682,
                    702
                ],
                "float": [
                    682,
                    726,
                    702
                ],
                "get_partition_uuid": [
                    683
                ],
                "self.get_holders": [
                    715,
                    684
                ],
                "scheduler": [
                    690,
                    691,
                    692
                ],
                "re.match": [
                    707,
                    692
                ],
                "pciid": [
                    709,
                    710
                ],
                "did": [
                    710,
                    711
                ],
                "re.escape": [
                    710
                ],
                "re.MULTILINE": [
                    711
                ],
                "uptime_file_content": [
                    723,
                    724,
                    725
                ],
                "uptime_seconds_string": [
                    725,
                    726
                ],
                "uptime_file_content.split": [
                    725
                ],
                "dm_prefix": [
                    731,
                    733
                ],
                "mapper_device": [
                    738,
                    739,
                    732
                ],
                "dm_device": [
                    736,
                    732,
                    733
                ],
                "dm_device.startswith": [
                    733
                ],
                "dmsetup_cmd": [
                    736,
                    734
                ],
                "mapper_prefix": [
                    738,
                    735
                ],
                "dm_name": [
                    736,
                    738
                ],
                "dm_name.rstrip": [
                    738
                ],
                "os.getuid": [
                    746
                ],
                "lvm_util_options": [
                    753,
                    747,
                    766,
                    775
                ],
                "vgs_path": [
                    752,
                    753,
                    749
                ],
                "vgs": [
                    756,
                    783,
                    751
                ],
                "vg_lines": [
                    753,
                    754
                ],
                "vg_line": [
                    754,
                    755
                ],
                "vg_lines.splitlines": [
                    754
                ],
                "items": [
                    768,
                    769,
                    777,
                    778,
                    779,
                    780,
                    781,
                    755,
                    756,
                    757,
                    758,
                    759
                ],
                "vg_line.strip": [
                    755
                ],
                "lvs_path": [
                    761,
                    765,
                    766
                ],
                "lvs": [
                    769,
                    764,
                    783
                ],
                "lv_lines": [
                    766,
                    767
                ],
                "lv_line": [
                    768,
                    767
                ],
                "lv_lines.splitlines": [
                    767
                ],
                "lv_line.strip": [
                    768
                ],
                "pvs_path": [
                    771,
                    774,
                    775
                ],
                "pvs": [
                    778,
                    773,
                    783
                ],
                "pv_lines": [
                    776,
                    775
                ],
                "pv_line": [
                    776,
                    777
                ],
                "pv_lines.splitlines": [
                    776
                ],
                "pv_line.strip": [
                    777
                ],
                "self._find_mapper_device_name": [
                    778
                ],
                "HardwareCollector": [
                    788
                ],
                "_platform": [
                    789
                ],
                "_fact_class": [
                    790
                ],
                "LinuxHardware": [
                    790
                ],
                "required_facts": [
                    792
                ]
            },
            "filtered_variables_in_file": {
                "__metaclass__": [
                    17
                ],
                "uuids": [
                    480,
                    389,
                    391,
                    393,
                    43,
                    366,
                    47,
                    369,
                    373,
                    470,
                    505
                ],
                "os.listdir": [
                    545,
                    578,
                    43,
                    665,
                    598,
                    633,
                    604
                ],
                "os": [
                    642,
                    665,
                    284,
                    541,
                    545,
                    547,
                    43,
                    171,
                    48,
                    182,
                    577,
                    578,
                    451,
                    598,
                    604,
                    611,
                    614,
                    746,
                    111,
                    623,
                    631,
                    633
                ],
                "uuid": [
                    416,
                    418,
                    388,
                    516,
                    391,
                    519,
                    397,
                    47,
                    48,
                    401,
                    50,
                    406,
                    470,
                    472
                ],
                "dev": [
                    48,
                    49
                ],
                "os.path.realpath": [
                    48
                ],
                "os.path": [
                    577,
                    642,
                    451,
                    547,
                    611,
                    614,
                    171,
                    623,
                    48,
                    631,
                    284,
                    541
                ],
                "partname": [
                    674,
                    683,
                    686,
                    49,
                    669,
                    670
                ],
                "Hardware": [
                    55
                ],
                "platform": [
                    69
                ],
                "ORIGINAL_MEMORY_FACTS": [
                    72,
                    74
                ],
                "MEMORY_FACTS": [
                    74
                ],
                "ORIGINAL_MEMORY_FACTS.union": [
                    74
                ],
                "BIND_MOUNT_RE": [
                    77
                ],
                "re.compile": [
                    80,
                    77
                ],
                "re": [
                    707,
                    710,
                    711,
                    652,
                    77,
                    80,
                    692,
                    666,
                    414
                ],
                "MTAB_BIND_MOUNT_RE": [
                    80
                ],
                "hardware_facts": [
                    99,
                    100,
                    101,
                    102,
                    103,
                    104,
                    105,
                    107,
                    83
                ],
                "self.module.run_command_environ_update": [
                    84
                ],
                "self.module": [
                    771,
                    646,
                    775,
                    650,
                    523,
                    399,
                    404,
                    423,
                    428,
                    325,
                    591,
                    593,
                    338,
                    84,
                    734,
                    736,
                    362,
                    746,
                    749,
                    367,
                    753,
                    761,
                    766
                ],
                "self": [
                    771,
                    646,
                    775,
                    650,
                    523,
                    778,
                    399,
                    404,
                    423,
                    428,
                    684,
                    432,
                    569,
                    570,
                    571,
                    444,
                    572,
                    325,
                    715,
                    591,
                    593,
                    338,
                    84,
                    86,
                    87,
                    88,
                    89,
                    90,
                    91,
                    470,
                    734,
                    95,
                    479,
                    480,
                    481,
                    736,
                    616,
                    362,
                    746,
                    749,
                    367,
                    753,
                    371,
                    501,
                    118,
                    761,
                    505,
                    122,
                    766
                ],
                "cpu_facts": [
                    257,
                    261,
                    263,
                    267,
                    269,
                    271,
                    272,
                    274,
                    156,
                    183,
                    185,
                    208,
                    209,
                    210,
                    86,
                    99,
                    231,
                    249,
                    250,
                    251,
                    252,
                    255
                ],
                "self.get_cpu_facts": [
                    86
                ],
                "collected_facts": [
                    243,
                    157,
                    86,
                    247
                ],
                "memory_facts": [
                    100,
                    135,
                    110,
                    112,
                    87,
                    120,
                    153
                ],
                "self.get_memory_facts": [
                    87
                ],
                "dmi_facts": [
                    321,
                    353,
                    101,
                    351,
                    347,
                    88,
                    282,
                    315,
                    349,
                    317,
                    319
                ],
                "self.get_dmi_facts": [
                    88
                ],
                "device_facts": [
                    102,
                    617,
                    588,
                    717,
                    590,
                    719,
                    600,
                    89
                ],
                "self.get_device_facts": [
                    89
                ],
                "uptime_facts": [
                    103,
                    722,
                    726,
                    728,
                    90
                ],
                "self.get_uptime_facts": [
                    90
                ],
                "lvm_facts": [
                    104,
                    744,
                    783,
                    785,
                    91
                ],
                "self.get_lvm_facts": [
                    91
                ],
                "mount_facts": [
                    105,
                    93,
                    95
                ],
                "self.get_mount_facts": [
                    95
                ],
                "timeout.TimeoutError": [
                    96
                ],
                "timeout": [
                    96,
                    486
                ],
                "hardware_facts.update": [
                    99,
                    100,
                    101,
                    102,
                    103,
                    104,
                    105
                ],
                "os.access": [
                    182,
                    111
                ],
                "os.R_OK": [
                    182,
                    111
                ],
                "memstats": [
                    128,
                    129,
                    130,
                    131,
                    132,
                    133,
                    137,
                    138,
                    139,
                    142,
                    143,
                    146,
                    147,
                    148,
                    149,
                    114,
                    124,
                    126,
                    127
                ],
                "line": [
                    456,
                    457,
                    174,
                    175,
                    115,
                    116,
                    341,
                    437,
                    438,
                    186,
                    187,
                    382,
                    383
                ],
                "get_file_lines": [
                    186,
                    115,
                    174
                ],
                "data": [
                    319,
                    317,
                    123,
                    315,
                    116,
                    117,
                    119,
                    312,
                    187,
                    188,
                    311,
                    191
                ],
                "line.split": [
                    457,
                    187,
                    116,
                    438
                ],
                "key": [
                    643,
                    644,
                    656,
                    659,
                    310,
                    313,
                    188,
                    319,
                    321,
                    196,
                    207,
                    211,
                    213,
                    215,
                    218,
                    222,
                    226,
                    228,
                    230,
                    232,
                    117,
                    118,
                    120,
                    122,
                    124
                ],
                "self.ORIGINAL_MEMORY_FACTS": [
                    118
                ],
                "val": [
                    193,
                    223,
                    227,
                    229,
                    231,
                    201,
                    233,
                    219,
                    210,
                    119,
                    120,
                    123,
                    124,
                    191
                ],
                "split": [
                    768,
                    777,
                    755,
                    119,
                    123
                ],
                "strip": [
                    388,
                    119,
                    123,
                    188,
                    191
                ],
                "key.lower": [
                    120,
                    124
                ],
                "self.MEMORY_FACTS": [
                    122
                ],
                "memstats.get": [
                    128,
                    130,
                    132,
                    137,
                    138,
                    139,
                    142,
                    143,
                    146,
                    147,
                    148,
                    149,
                    126
                ],
                "i": [
                    257,
                    249,
                    233,
                    238,
                    244,
                    217,
                    250,
                    252,
                    159
                ],
                "vendor_id_occurrence": [
                    160,
                    236,
                    237,
                    238,
                    212
                ],
                "model_name_occurrence": [
                    161,
                    237,
                    214
                ],
                "processor_occurence": [
                    216,
                    162,
                    244
                ],
                "physid": [
                    163,
                    227,
                    219,
                    220,
                    221
                ],
                "coreid": [
                    224,
                    225,
                    164,
                    229,
                    223
                ],
                "sockets": [
                    224,
                    227,
                    259,
                    165,
                    220,
                    221,
                    254,
                    255
                ],
                "cores": [
                    225,
                    229,
                    166,
                    265
                ],
                "xen": [
                    168,
                    195,
                    172,
                    176
                ],
                "xen_paravirt": [
                    248,
                    169,
                    202
                ],
                "os.path.exists": [
                    171,
                    284,
                    541,
                    451
                ],
                "line.strip": [
                    175
                ],
                "append": [
                    585,
                    210,
                    583
                ],
                "startswith": [
                    243
                ],
                "collected_facts.get": [
                    243,
                    247
                ],
                "socket_values": [
                    259,
                    260,
                    261
                ],
                "sockets.values": [
                    259
                ],
                "core_values": [
                    265,
                    266,
                    267
                ],
                "cores.values": [
                    265
                ],
                "FORM_FACTOR": [
                    288,
                    315
                ],
                "DMI_DICT": [
                    336,
                    326,
                    299,
                    310
                ],
                "path": [
                    631,
                    558,
                    623,
                    559,
                    627,
                    310,
                    311
                ],
                "DMI_DICT.items": [
                    336,
                    310
                ],
                "get_file_content": [
                    644,
                    581,
                    454,
                    676,
                    677,
                    679,
                    681,
                    688,
                    690,
                    659,
                    723,
                    311,
                    696,
                    699,
                    701
                ],
                "dmi_bin": [
                    337,
                    338,
                    325
                ],
                "self.module.get_bin_path": [
                    771,
                    325,
                    646,
                    746,
                    428,
                    749,
                    399,
                    591,
                    367,
                    761,
                    734
                ],
                "k": [
                    551,
                    336,
                    563,
                    347,
                    349,
                    351
                ],
                "v": [
                    336,
                    338,
                    563,
                    551
                ],
                "rc": [
                    775,
                    650,
                    651,
                    404,
                    405,
                    423,
                    424,
                    432,
                    433,
                    593,
                    338,
                    339,
                    736,
                    737,
                    362,
                    363,
                    753,
                    371,
                    372,
                    766
                ],
                "out": [
                    423,
                    424,
                    362,
                    363,
                    432,
                    338,
                    371,
                    404,
                    341,
                    437,
                    378,
                    414
                ],
                "err": [
                    736,
                    423,
                    424,
                    775,
                    362,
                    363,
                    650,
                    432,
                    593,
                    338,
                    371,
                    404,
                    753,
                    766
                ],
                "self.module.run_command": [
                    736,
                    423,
                    775,
                    362,
                    650,
                    593,
                    338,
                    753,
                    404,
                    766
                ],
                "thisvalue": [
                    345,
                    347,
                    341,
                    343
                ],
                "join": [
                    341
                ],
                "out.splitlines": [
                    378,
                    341,
                    437
                ],
                "line.startswith": [
                    341
                ],
                "json.dumps": [
                    343
                ],
                "json": [
                    343
                ],
                "args": [
                    360,
                    361,
                    421,
                    422
                ],
                "cmd": [
                    422,
                    423,
                    361,
                    362,
                    403,
                    404
                ],
                "lsblk_path": [
                    368,
                    361,
                    371,
                    367
                ],
                "self._run_lsblk": [
                    371
                ],
                "lsblk_line": [
                    378,
                    379,
                    382
                ],
                "lsblk_line.strip": [
                    382
                ],
                "fields": [
                    385,
                    388,
                    487,
                    457,
                    458,
                    489,
                    460,
                    438,
                    440,
                    444,
                    445,
                    383
                ],
                "line.rsplit": [
                    383
                ],
                "device_name": [
                    388,
                    389,
                    391
                ],
                "udevadm_path": [
                    400,
                    403,
                    399
                ],
                "device": [
                    489,
                    649,
                    491,
                    650,
                    495,
                    560,
                    562,
                    403,
                    470,
                    505
                ],
                "m": [
                    416,
                    707,
                    708,
                    709,
                    711,
                    712,
                    713,
                    692,
                    693,
                    694,
                    666,
                    667,
                    669,
                    414,
                    415
                ],
                "re.search": [
                    666,
                    652,
                    414,
                    711
                ],
                "m.group": [
                    416,
                    709,
                    713,
                    694,
                    669
                ],
                "findmnt_path": [
                    432,
                    428,
                    429,
                    422
                ],
                "bind_mounts": [
                    479,
                    427,
                    430,
                    434,
                    499,
                    445,
                    447
                ],
                "self._run_findmnt": [
                    432
                ],
                "self.BIND_MOUNT_RE.match": [
                    444
                ],
                "self.BIND_MOUNT_RE": [
                    444
                ],
                "bind_mounts.add": [
                    445
                ],
                "mtab_file": [
                    450,
                    451,
                    452,
                    454
                ],
                "mtab": [
                    456,
                    454
                ],
                "mtab_entries": [
                    481,
                    485,
                    455,
                    487,
                    460,
                    461
                ],
                "mtab.splitlines": [
                    456
                ],
                "mtab_entries.append": [
                    460
                ],
                "mount_size": [
                    516,
                    517,
                    518,
                    465,
                    472
                ],
                "get_mount_size": [
                    465
                ],
                "mount": [
                    512,
                    513,
                    518,
                    519,
                    489,
                    523,
                    524,
                    494,
                    526,
                    527,
                    465,
                    529,
                    499,
                    530,
                    531,
                    532,
                    504,
                    505
                ],
                "uuids.get": [
                    470
                ],
                "self._udevadm_uuid": [
                    470
                ],
                "mounts": [
                    538,
                    531,
                    476,
                    526
                ],
                "self._find_bind_mounts": [
                    479
                ],
                "self._lsblk_uuid": [
                    480
                ],
                "self._mtab_entries": [
                    481
                ],
                "results": [
                    512,
                    513,
                    484,
                    518,
                    519,
                    524,
                    526,
                    527,
                    529,
                    530,
                    531,
                    532,
                    504,
                    511
                ],
                "pool": [
                    505,
                    508,
                    485
                ],
                "ThreadPool": [
                    485
                ],
                "cpu_count": [
                    485
                ],
                "maxtime": [
                    506,
                    486
                ],
                "get": [
                    486
                ],
                "timeout.DEFAULT_GATHER_TIMEOUT": [
                    486
                ],
                "fstype": [
                    496,
                    489,
                    491
                ],
                "options": [
                    489,
                    497,
                    501
                ],
                "device.startswith": [
                    491
                ],
                "mount_info": [
                    504,
                    494,
                    502
                ],
                "self.MTAB_BIND_MOUNT_RE.match": [
                    501
                ],
                "self.MTAB_BIND_MOUNT_RE": [
                    501
                ],
                "pool.apply_async": [
                    505
                ],
                "self.get_mount_info": [
                    505
                ],
                "time.time": [
                    529,
                    506
                ],
                "time": [
                    536,
                    529,
                    506
                ],
                "pool.close": [
                    508
                ],
                "res": [
                    513,
                    514,
                    515,
                    516,
                    522
                ],
                "res.ready": [
                    514
                ],
                "res.successful": [
                    515
                ],
                "res.get": [
                    522,
                    516
                ],
                "update": [
                    518
                ],
                "errmsg": [
                    522,
                    523,
                    524
                ],
                "to_text": [
                    522
                ],
                "self.module.warn": [
                    523
                ],
                "mounts.append": [
                    531,
                    526
                ],
                "time.sleep": [
                    536
                ],
                "link_dir": [
                    545,
                    547,
                    541
                ],
                "retval": [
                    544,
                    548,
                    551,
                    557,
                    562,
                    563
                ],
                "collections.defaultdict": [
                    544,
                    557
                ],
                "collections": [
                    544,
                    557
                ],
                "entry": [
                    545,
                    547,
                    548
                ],
                "target": [
                    561,
                    562,
                    547,
                    548
                ],
                "os.path.basename": [
                    642,
                    547,
                    614
                ],
                "os.readlink": [
                    611,
                    547,
                    623
                ],
                "os.path.join": [
                    611,
                    547,
                    631,
                    623
                ],
                "add": [
                    562,
                    548
                ],
                "iteritems": [
                    640,
                    673,
                    563,
                    551
                ],
                "glob.glob": [
                    558
                ],
                "glob": [
                    558
                ],
                "elements": [
                    560,
                    561,
                    559
                ],
                "path.split": [
                    559
                ],
                "self.get_device_links": [
                    569,
                    570,
                    571
                ],
                "self.get_all_device_owners": [
                    572
                ],
                "block_dev_dict": [
                    576,
                    585,
                    583
                ],
                "os.path.isdir": [
                    577
                ],
                "sysdir": [
                    577,
                    578,
                    642,
                    644,
                    581,
                    707,
                    715,
                    688,
                    665,
                    659,
                    690,
                    631,
                    696,
                    633,
                    699,
                    701,
                    670
                ],
                "folder": [
                    578,
                    579,
                    581,
                    585,
                    665,
                    666,
                    633,
                    634
                ],
                "folder.startswith": [
                    579
                ],
                "name": [
                    581,
                    582,
                    583
                ],
                "lspci": [
                    592,
                    593,
                    591
                ],
                "pcidata": [
                    593,
                    595,
                    708,
                    711
                ],
                "block_devs": [
                    619,
                    598
                ],
                "devs_wwn": [
                    602,
                    662,
                    661,
                    614
                ],
                "devs_by_id": [
                    608,
                    604
                ],
                "link_name": [
                    608,
                    609,
                    611,
                    614
                ],
                "link_name.startswith": [
                    609
                ],
                "wwn_link": [
                    611,
                    614
                ],
                "links": [
                    616,
                    617,
                    673,
                    640
                ],
                "self.get_all_device_links": [
                    616
                ],
                "block": [
                    641,
                    649,
                    619,
                    623,
                    627
                ],
                "virtual": [
                    635,
                    620,
                    638
                ],
                "sysfs_no_links": [
                    632,
                    628,
                    621
                ],
                "e": [
                    625,
                    626
                ],
                "sys.exc_info": [
                    625
                ],
                "sys": [
                    625
                ],
                "e.errno": [
                    626
                ],
                "errno.EINVAL": [
                    626
                ],
                "errno": [
                    626
                ],
                "d": [
                    641,
                    644,
                    654,
                    659,
                    662,
                    664,
                    686,
                    688,
                    689,
                    694,
                    696,
                    697,
                    698,
                    699,
                    700,
                    701,
                    702,
                    704,
                    713,
                    715,
                    717,
                    637,
                    638,
                    639
                ],
                "link_type": [
                    640,
                    641,
                    674,
                    673
                ],
                "link_values": [
                    640,
                    641,
                    674,
                    673
                ],
                "link_values.get": [
                    641,
                    674
                ],
                "diskname": [
                    642,
                    717,
                    661,
                    662,
                    666
                ],
                "sg_inq": [
                    648,
                    650,
                    646
                ],
                "drivedata": [
                    650,
                    652
                ],
                "serial": [
                    652,
                    653,
                    654
                ],
                "serial.group": [
                    654
                ],
                "test": [
                    656,
                    659
                ],
                "part": [
                    672,
                    674,
                    676,
                    677,
                    679,
                    680,
                    681,
                    682,
                    683,
                    684,
                    686,
                    668
                ],
                "part_sysdir": [
                    676,
                    677,
                    679,
                    681,
                    684,
                    670
                ],
                "bytes_to_human": [
                    682,
                    702
                ],
                "get_partition_uuid": [
                    683
                ],
                "self.get_holders": [
                    715,
                    684
                ],
                "scheduler": [
                    690,
                    691,
                    692
                ],
                "re.match": [
                    707,
                    692
                ],
                "pciid": [
                    709,
                    710
                ],
                "did": [
                    710,
                    711
                ],
                "re.escape": [
                    710
                ],
                "re.MULTILINE": [
                    711
                ],
                "uptime_file_content": [
                    723,
                    724,
                    725
                ],
                "uptime_seconds_string": [
                    725,
                    726
                ],
                "uptime_file_content.split": [
                    725
                ],
                "dm_prefix": [
                    731,
                    733
                ],
                "mapper_device": [
                    738,
                    739,
                    732
                ],
                "dm_device": [
                    736,
                    732,
                    733
                ],
                "dm_device.startswith": [
                    733
                ],
                "dmsetup_cmd": [
                    736,
                    734
                ],
                "mapper_prefix": [
                    738,
                    735
                ],
                "dm_name": [
                    736,
                    738
                ],
                "dm_name.rstrip": [
                    738
                ],
                "os.getuid": [
                    746
                ],
                "lvm_util_options": [
                    753,
                    747,
                    766,
                    775
                ],
                "vgs_path": [
                    752,
                    753,
                    749
                ],
                "vgs": [
                    756,
                    783,
                    751
                ],
                "vg_lines": [
                    753,
                    754
                ],
                "vg_line": [
                    754,
                    755
                ],
                "vg_lines.splitlines": [
                    754
                ],
                "items": [
                    768,
                    769,
                    777,
                    778,
                    779,
                    780,
                    781,
                    755,
                    756,
                    757,
                    758,
                    759
                ],
                "vg_line.strip": [
                    755
                ],
                "lvs_path": [
                    761,
                    765,
                    766
                ],
                "lvs": [
                    769,
                    764,
                    783
                ],
                "lv_lines": [
                    766,
                    767
                ],
                "lv_line": [
                    768,
                    767
                ],
                "lv_lines.splitlines": [
                    767
                ],
                "lv_line.strip": [
                    768
                ],
                "pvs_path": [
                    771,
                    774,
                    775
                ],
                "pvs": [
                    778,
                    773,
                    783
                ],
                "pv_lines": [
                    776,
                    775
                ],
                "pv_line": [
                    776,
                    777
                ],
                "pv_lines.splitlines": [
                    776
                ],
                "pv_line.strip": [
                    777
                ],
                "self._find_mapper_device_name": [
                    778
                ],
                "HardwareCollector": [
                    788
                ],
                "_platform": [
                    789
                ],
                "_fact_class": [
                    790
                ],
                "LinuxHardware": [
                    790
                ],
                "required_facts": [
                    792
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/Volumes/SSD2T/bgp_envs_non_pandas/repos/ansible_17/test/units/module_utils/facts/test_facts.py",
                "test_function": "test_get_mount_facts",
                "test_function_code": "    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._mtab_entries', return_value=MTAB_ENTRIES)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._find_bind_mounts', return_value=BIND_MOUNTS)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._lsblk_uuid', return_value=LSBLK_UUIDS)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._udevadm_uuid', return_value=UDEVADM_UUID)\n    def test_get_mount_facts(self,\n                             mock_lsblk_uuid,\n                             mock_find_bind_mounts,\n                             mock_mtab_entries,\n                             mock_udevadm_uuid):\n        module = Mock()\n        # Returns a LinuxHardware-ish\n        lh = hardware.linux.LinuxHardware(module=module, load_on_init=False)\n\n        # Nothing returned, just self.facts modified as a side effect\n        mount_facts = lh.get_mount_facts()\n        self.assertIsInstance(mount_facts, dict)\n        self.assertIn('mounts', mount_facts)\n        self.assertIsInstance(mount_facts['mounts'], list)\n        self.assertIsInstance(mount_facts['mounts'][0], dict)\n\n        # Find mounts with space in the mountpoint path\n        mounts_with_space = [x for x in mount_facts['mounts'] if ' ' in x['mount']]\n        self.assertEqual(len(mounts_with_space), 1)\n        self.assertEqual(mounts_with_space[0]['mount'], '/mnt/foo bar')",
                "test_error": "AssertionError: 0 != 1",
                "full_test_error": "self = <units.module_utils.facts.test_facts.TestFactsLinuxHardwareGetMountFacts testMethod=test_get_mount_facts>\nmock_lsblk_uuid = <MagicMock name='_udevadm_uuid' id='4439418512'>\nmock_find_bind_mounts = <MagicMock name='_lsblk_uuid' id='4441856976'>\nmock_mtab_entries = <MagicMock name='_find_bind_mounts' id='4441857040'>\nmock_udevadm_uuid = <MagicMock name='_mtab_entries' id='4440684688'>\n\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._mtab_entries', return_value=MTAB_ENTRIES)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._find_bind_mounts', return_value=BIND_MOUNTS)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._lsblk_uuid', return_value=LSBLK_UUIDS)\n    @patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._udevadm_uuid', return_value=UDEVADM_UUID)\n    def test_get_mount_facts(self,\n                             mock_lsblk_uuid,\n                             mock_find_bind_mounts,\n                             mock_mtab_entries,\n                             mock_udevadm_uuid):\n        module = Mock()\n        # Returns a LinuxHardware-ish\n        lh = hardware.linux.LinuxHardware(module=module, load_on_init=False)\n    \n        # Nothing returned, just self.facts modified as a side effect\n        mount_facts = lh.get_mount_facts()\n        self.assertIsInstance(mount_facts, dict)\n        self.assertIn('mounts', mount_facts)\n        self.assertIsInstance(mount_facts['mounts'], list)\n        self.assertIsInstance(mount_facts['mounts'][0], dict)\n    \n        # Find mounts with space in the mountpoint path\n        mounts_with_space = [x for x in mount_facts['mounts'] if ' ' in x['mount']]\n>       self.assertEqual(len(mounts_with_space), 1)\nE       AssertionError: 0 != 1\n\ntest/units/module_utils/facts/test_facts.py:564: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": [
                    "patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._mtab_entries', return_value=MTAB_ENTRIES)",
                    "patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._find_bind_mounts', return_value=BIND_MOUNTS)",
                    "patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._lsblk_uuid', return_value=LSBLK_UUIDS)",
                    "patch('ansible.module_utils.facts.hardware.linux.LinuxHardware._udevadm_uuid', return_value=UDEVADM_UUID)"
                ]
            }
        ]
    }
}