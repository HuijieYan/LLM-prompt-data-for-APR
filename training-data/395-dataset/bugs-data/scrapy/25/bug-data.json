{
    "scrapy:25": {
        "/Volumes/SSD2T/bgp_envs_non_pandas/repos/scrapy_25/scrapy/http/request/form.py": {
            "buggy_functions": [
                {
                    "function_name": "_get_form_url",
                    "function_code": "def _get_form_url(form, url):\n    if url is None:\n        return form.action or form.base_url\n    return urljoin(form.base_url, url)\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 45,
                    "end_line": 48,
                    "variables": {
                        "url": [
                            48,
                            46
                        ],
                        "form.action": [
                            47
                        ],
                        "form": [
                            48,
                            47
                        ],
                        "form.base_url": [
                            48,
                            47
                        ],
                        "urljoin": [
                            48
                        ]
                    },
                    "filtered_variables": {
                        "url": [
                            48,
                            46
                        ],
                        "form.action": [
                            47
                        ],
                        "form": [
                            48,
                            47
                        ],
                        "form.base_url": [
                            48,
                            47
                        ],
                        "urljoin": [
                            48
                        ]
                    },
                    "diff_line_number": 47,
                    "class_data": null,
                    "variable_values": [
                        [
                            {
                                "url": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "form.action": {
                                    "variable_value": "'http://a.com/test_form'",
                                    "variable_type": "str",
                                    "variable_shape": "22"
                                },
                                "form": {
                                    "variable_value": "<Element form at 0x10aa4b860>",
                                    "variable_type": "FormElement",
                                    "variable_shape": "0"
                                },
                                "form.base_url": {
                                    "variable_value": "'http://a.com/'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "urljoin": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "url": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "form.action": {
                                    "variable_value": "'http://a.com/test_form'",
                                    "variable_type": "str",
                                    "variable_shape": "22"
                                },
                                "form": {
                                    "variable_value": "<Element form at 0x10aa4b860>",
                                    "variable_type": "FormElement",
                                    "variable_shape": "0"
                                },
                                "form.base_url": {
                                    "variable_value": "'http://a.com/'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "urljoin": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "url": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "urljoin": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "form.base_url": {
                                    "variable_value": "'http://b.com/'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "form": {
                                    "variable_value": "<Element form at 0x1050d04f0>",
                                    "variable_type": "FormElement",
                                    "variable_shape": "0"
                                },
                                "form.action": {
                                    "variable_value": "'http://b.com/test_form'",
                                    "variable_type": "str",
                                    "variable_shape": "22"
                                }
                            },
                            {
                                "url": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "urljoin": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "form.base_url": {
                                    "variable_value": "'http://b.com/'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "form": {
                                    "variable_value": "<Element form at 0x1050d04f0>",
                                    "variable_type": "FormElement",
                                    "variable_shape": "0"
                                },
                                "form.action": {
                                    "variable_value": "'http://b.com/test_form'",
                                    "variable_type": "str",
                                    "variable_shape": "22"
                                }
                            }
                        ]
                    ]
                },
                {
                    "function_name": "_get_form",
                    "function_code": "def _get_form(response, formname, formid, formnumber, formxpath):\n    \"\"\"Find the form element \"\"\"\n    text = response.body_as_unicode()\n    root = create_root_node(text, lxml.html.HTMLParser, base_url=response.url)\n    forms = root.xpath('//form')\n    if not forms:\n        raise ValueError(\"No <form> element found in %s\" % response)\n\n    if formname is not None:\n        f = root.xpath('//form[@name=\"%s\"]' % formname)\n        if f:\n            return f[0]\n\n    if formid is not None:\n        f = root.xpath('//form[@id=\"%s\"]' % formid)\n        if f:\n            return f[0]\n            \n    # Get form element from xpath, if not found, go up\n    if formxpath is not None:\n        nodes = root.xpath(formxpath)\n        if nodes:\n            el = nodes[0]\n            while True:\n                if el.tag == 'form':\n                    return el\n                el = el.getparent()\n                if el is None:\n                    break\n        raise ValueError('No <form> element found with %s' % formxpath)\n\n    # If we get here, it means that either formname was None\n    # or invalid\n    if formnumber is not None:\n        try:\n            form = forms[formnumber]\n        except IndexError:\n            raise IndexError(\"Form number %d not found in %s\" %\n                             (formnumber, response))\n        else:\n            return form\n",
                    "decorators": [],
                    "docstring": "Find the form element ",
                    "start_line": 58,
                    "end_line": 98,
                    "variables": {
                        "text": [
                            60,
                            61
                        ],
                        "response.body_as_unicode": [
                            60
                        ],
                        "response": [
                            64,
                            96,
                            60,
                            61
                        ],
                        "root": [
                            67,
                            72,
                            78,
                            61,
                            62
                        ],
                        "create_root_node": [
                            61
                        ],
                        "lxml.html.HTMLParser": [
                            61
                        ],
                        "lxml.html": [
                            61
                        ],
                        "lxml": [
                            61
                        ],
                        "response.url": [
                            61
                        ],
                        "forms": [
                            93,
                            62,
                            63
                        ],
                        "root.xpath": [
                            72,
                            78,
                            67,
                            62
                        ],
                        "ValueError": [
                            64,
                            87
                        ],
                        "formname": [
                            66,
                            67
                        ],
                        "f": [
                            67,
                            68,
                            69,
                            72,
                            73,
                            74
                        ],
                        "formid": [
                            72,
                            71
                        ],
                        "formxpath": [
                            77,
                            78,
                            87
                        ],
                        "nodes": [
                            80,
                            78,
                            79
                        ],
                        "el": [
                            80,
                            82,
                            83,
                            84,
                            85
                        ],
                        "el.tag": [
                            82
                        ],
                        "el.getparent": [
                            84
                        ],
                        "formnumber": [
                            96,
                            91,
                            93
                        ],
                        "form": [
                            98,
                            93
                        ],
                        "IndexError": [
                            94,
                            95
                        ]
                    },
                    "filtered_variables": {
                        "text": [
                            60,
                            61
                        ],
                        "response.body_as_unicode": [
                            60
                        ],
                        "response": [
                            64,
                            96,
                            60,
                            61
                        ],
                        "root": [
                            67,
                            72,
                            78,
                            61,
                            62
                        ],
                        "create_root_node": [
                            61
                        ],
                        "lxml.html.HTMLParser": [
                            61
                        ],
                        "lxml.html": [
                            61
                        ],
                        "lxml": [
                            61
                        ],
                        "response.url": [
                            61
                        ],
                        "forms": [
                            93,
                            62,
                            63
                        ],
                        "root.xpath": [
                            72,
                            78,
                            67,
                            62
                        ],
                        "formname": [
                            66,
                            67
                        ],
                        "f": [
                            67,
                            68,
                            69,
                            72,
                            73,
                            74
                        ],
                        "formid": [
                            72,
                            71
                        ],
                        "formxpath": [
                            77,
                            78,
                            87
                        ],
                        "nodes": [
                            80,
                            78,
                            79
                        ],
                        "el": [
                            80,
                            82,
                            83,
                            84,
                            85
                        ],
                        "el.tag": [
                            82
                        ],
                        "el.getparent": [
                            84
                        ],
                        "formnumber": [
                            96,
                            91,
                            93
                        ],
                        "form": [
                            98,
                            93
                        ]
                    },
                    "diff_line_number": 61,
                    "class_data": null,
                    "variable_values": [
                        [
                            {
                                "text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "response.body_as_unicode": {
                                    "variable_value": "<bound method TextResponse.body_as_unicode of <200 http://a.com/>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "response": {
                                    "variable_value": "<200 http://a.com/>",
                                    "variable_type": "HtmlResponse",
                                    "variable_shape": null
                                },
                                "root": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "create_root_node": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml.html.HTMLParser": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml.html": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "response.url": {
                                    "variable_value": "'http://a.com/'",
                                    "variable_type": "str",
                                    "variable_shape": "13"
                                },
                                "forms": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "root.xpath": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formname": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "f": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formid": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "formxpath": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "nodes": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el.tag": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el.getparent": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formnumber": {
                                    "variable_value": "0",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "form": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {}
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "text": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "response.body_as_unicode": {
                                    "variable_value": "<bound method TextResponse.body_as_unicode of <200 http://a.com/>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "response": {
                                    "variable_value": "<200 http://a.com/>",
                                    "variable_type": "HtmlResponse",
                                    "variable_shape": null
                                },
                                "root": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "create_root_node": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml.html.HTMLParser": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml.html": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "lxml": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "get_base_url": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "forms": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "root.xpath": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formname": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "f": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formid": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "formxpath": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "nodes": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el.tag": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "el.getparent": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "formnumber": {
                                    "variable_value": "0",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "form": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {}
                        ]
                    ]
                }
            ],
            "snippets": [
                {
                    "snippet_code": "from scrapy.utils.python import to_bytes, is_listlike",
                    "start_line": 13,
                    "end_line": 14
                }
            ],
            "inscope_functions": [
                "def _get_form_url(form, url):\n    if url is None:\n        return form.action or form.base_url\n    return urljoin(form.base_url, url)",
                "def _urlencode(seq, enc):\n    values = [(to_bytes(k, enc), to_bytes(v, enc))\n              for k, vs in seq\n              for v in (vs if is_listlike(vs) else [vs])]\n    return urlencode(values, doseq=1)",
                "def _get_form(response, formname, formid, formnumber, formxpath):\n    \"\"\"Find the form element \"\"\"\n    text = response.body_as_unicode()\n    root = create_root_node(text, lxml.html.HTMLParser, base_url=response.url)\n    forms = root.xpath('//form')\n    if not forms:\n        raise ValueError(\"No <form> element found in %s\" % response)\n\n    if formname is not None:\n        f = root.xpath('//form[@name=\"%s\"]' % formname)\n        if f:\n            return f[0]\n\n    if formid is not None:\n        f = root.xpath('//form[@id=\"%s\"]' % formid)\n        if f:\n            return f[0]\n            \n    # Get form element from xpath, if not found, go up\n    if formxpath is not None:\n        nodes = root.xpath(formxpath)\n        if nodes:\n            el = nodes[0]\n            while True:\n                if el.tag == 'form':\n                    return el\n                el = el.getparent()\n                if el is None:\n                    break\n        raise ValueError('No <form> element found with %s' % formxpath)\n\n    # If we get here, it means that either formname was None\n    # or invalid\n    if formnumber is not None:\n        try:\n            form = forms[formnumber]\n        except IndexError:\n            raise IndexError(\"Form number %d not found in %s\" %\n                             (formnumber, response))\n        else:\n            return form",
                "def _get_inputs(form, formdata, dont_click, clickdata, response):\n    try:\n        formdata = dict(formdata or ())\n    except (ValueError, TypeError):\n        raise ValueError('formdata should be a dict or iterable of tuples')\n\n    inputs = form.xpath('descendant::textarea'\n                        '|descendant::select'\n                        '|descendant::input[@type!=\"submit\" and @type!=\"image\" and @type!=\"reset\"'\n                        'and ((@type!=\"checkbox\" and @type!=\"radio\") or @checked)]')\n    values = [(k, u'' if v is None else v)\n              for k, v in (_value(e) for e in inputs)\n              if k and k not in formdata]\n\n    if not dont_click:\n        clickable = _get_clickable(clickdata, form)\n        if clickable and clickable[0] not in formdata and not clickable[0] is None:\n            values.append(clickable)\n\n    values.extend(formdata.items())\n    return values",
                "def _value(ele):\n    n = ele.name\n    v = ele.value\n    if ele.tag == 'select':\n        return _select_value(ele, n, v)\n    return n, v",
                "def _select_value(ele, n, v):\n    multiple = ele.multiple\n    if v is None and not multiple:\n        # Match browser behaviour on simple select tag without options selected\n        # And for select tags wihout options\n        o = ele.value_options\n        return (n, o[0]) if o else (None, None)\n    elif v is not None and multiple:\n        # This is a workround to bug in lxml fixed 2.3.1\n        # fix https://github.com/lxml/lxml/commit/57f49eed82068a20da3db8f1b18ae00c1bab8b12#L1L1139\n        selected_options = ele.xpath('.//option[@selected]')\n        v = [(o.get('value') or o.text or u'').strip() for o in selected_options]\n    return n, v",
                "def _get_clickable(clickdata, form):\n    \"\"\"\n    Returns the clickable element specified in clickdata,\n    if the latter is given. If not, it returns the first\n    clickable element found\n    \"\"\"\n    clickables = [el for el in form.xpath('descendant::input[@type=\"submit\"]'\n                                          '|descendant::button[@type=\"submit\"]'\n                                          '|descendant::button[not(@type)]')]\n    if not clickables:\n        return\n\n    # If we don't have clickdata, we just use the first clickable element\n    if clickdata is None:\n        el = clickables[0]\n        return (el.get('name'), el.get('value') or '')\n\n    # If clickdata is given, we compare it to the clickable elements to find a\n    # match. We first look to see if the number is specified in clickdata,\n    # because that uniquely identifies the element\n    nr = clickdata.get('nr', None)\n    if nr is not None:\n        try:\n            el = list(form.inputs)[nr]\n        except IndexError:\n            pass\n        else:\n            return (el.get('name'), el.get('value') or '')\n\n    # We didn't find it, so now we build an XPath expression out of the other\n    # arguments, because they can be used as such\n    xpath = u'.//*' + \\\n            u''.join(u'[@%s=\"%s\"]' % c for c in six.iteritems(clickdata))\n    el = form.xpath(xpath)\n    if len(el) == 1:\n        return (el[0].get('name'), el[0].get('value') or '')\n    elif len(el) > 1:\n        raise ValueError(\"Multiple elements found (%r) matching the criteria \"\n                         \"in clickdata: %r\" % (el, clickdata))\n    else:\n        raise ValueError('No clickable element matching clickdata: %r' % (clickdata,))",
                "def __init__(self, *args, **kwargs):\n    formdata = kwargs.pop('formdata', None)\n    if formdata and kwargs.get('method') is None:\n        kwargs['method'] = 'POST'\n\n    super(FormRequest, self).__init__(*args, **kwargs)\n\n    if formdata:\n        items = formdata.items() if isinstance(formdata, dict) else formdata\n        querystr = _urlencode(items, self.encoding)\n        if self.method == 'POST':\n            self.headers.setdefault(b'Content-Type', b'application/x-www-form-urlencoded')\n            self._set_body(querystr)\n        else:\n            self._set_url(self.url + ('&' if '?' in self.url else '?') + querystr)",
                "@classmethod\ndef from_response(cls, response, formname=None, formid=None, formnumber=0, formdata=None,\n                  clickdata=None, dont_click=False, formxpath=None, **kwargs):\n    kwargs.setdefault('encoding', response.encoding)\n    form = _get_form(response, formname, formid, formnumber, formxpath)\n    formdata = _get_inputs(form, formdata, dont_click, clickdata, response)\n    url = _get_form_url(form, kwargs.pop('url', None))\n    method = kwargs.pop('method', form.method)\n    return cls(url=url, method=method, formdata=formdata, **kwargs)"
            ],
            "inscope_function_signatures": [
                "_get_form_url(form, url)",
                "_urlencode(seq, enc)",
                "_get_form(response, formname, formid, formnumber, formxpath)",
                "_get_inputs(form, formdata, dont_click, clickdata, response)",
                "_value(ele)",
                "_select_value(ele, n, v)",
                "_get_clickable(clickdata, form)",
                "__init__(self, *args, **kwargs)",
                "from_response(cls, response, formname=None, formid=None, formnumber=0, formdata=None, clickdata=None, dont_click=False, formxpath=None, **kwargs)"
            ],
            "variables_in_file": {
                "Request": [
                    16
                ],
                "formdata": [
                    39,
                    103,
                    42,
                    113,
                    19,
                    20,
                    117,
                    120,
                    25,
                    26
                ],
                "kwargs.pop": [
                    40,
                    41,
                    19
                ],
                "kwargs": [
                    37,
                    40,
                    41,
                    42,
                    19,
                    20,
                    21,
                    23
                ],
                "kwargs.get": [
                    20
                ],
                "__init__": [
                    23
                ],
                "super": [
                    23
                ],
                "FormRequest": [
                    23
                ],
                "self": [
                    32,
                    23,
                    27,
                    28,
                    29,
                    30
                ],
                "args": [
                    23
                ],
                "items": [
                    26,
                    27
                ],
                "isinstance": [
                    26
                ],
                "dict": [
                    26,
                    103
                ],
                "formdata.items": [
                    120,
                    26
                ],
                "querystr": [
                    32,
                    27,
                    30
                ],
                "_urlencode": [
                    27
                ],
                "self.encoding": [
                    27
                ],
                "self.method": [
                    28
                ],
                "self.headers.setdefault": [
                    29
                ],
                "self.headers": [
                    29
                ],
                "self._set_body": [
                    30
                ],
                "self._set_url": [
                    32
                ],
                "self.url": [
                    32
                ],
                "kwargs.setdefault": [
                    37
                ],
                "response.encoding": [
                    37
                ],
                "response": [
                    64,
                    96,
                    37,
                    38,
                    39,
                    60,
                    61
                ],
                "form": [
                    98,
                    38,
                    39,
                    40,
                    41,
                    170,
                    107,
                    47,
                    48,
                    116,
                    180,
                    153,
                    93
                ],
                "_get_form": [
                    38
                ],
                "formname": [
                    66,
                    67,
                    38
                ],
                "formid": [
                    72,
                    38,
                    71
                ],
                "formnumber": [
                    96,
                    91,
                    93,
                    38
                ],
                "formxpath": [
                    78,
                    77,
                    38,
                    87
                ],
                "_get_inputs": [
                    39
                ],
                "dont_click": [
                    115,
                    39
                ],
                "clickdata": [
                    160,
                    167,
                    39,
                    179,
                    116,
                    185,
                    187
                ],
                "url": [
                    40,
                    42,
                    48,
                    46
                ],
                "_get_form_url": [
                    40
                ],
                "method": [
                    41,
                    42
                ],
                "form.method": [
                    41
                ],
                "cls": [
                    42
                ],
                "classmethod": [
                    34
                ],
                "form.action": [
                    47
                ],
                "form.base_url": [
                    48,
                    47
                ],
                "urljoin": [
                    48
                ],
                "values": [
                    111,
                    52,
                    118,
                    55,
                    120,
                    121
                ],
                "to_bytes": [
                    52
                ],
                "k": [
                    111,
                    112,
                    113,
                    52,
                    53
                ],
                "enc": [
                    52
                ],
                "v": [
                    128,
                    129,
                    134,
                    139,
                    111,
                    112,
                    143,
                    144,
                    52,
                    54,
                    126
                ],
                "vs": [
                    53,
                    54
                ],
                "seq": [
                    53
                ],
                "is_listlike": [
                    54
                ],
                "urlencode": [
                    55
                ],
                "text": [
                    60,
                    61
                ],
                "response.body_as_unicode": [
                    60
                ],
                "root": [
                    67,
                    72,
                    78,
                    61,
                    62
                ],
                "create_root_node": [
                    61
                ],
                "lxml.html.HTMLParser": [
                    61
                ],
                "lxml.html": [
                    61
                ],
                "lxml": [
                    61
                ],
                "response.url": [
                    61
                ],
                "forms": [
                    93,
                    62,
                    63
                ],
                "root.xpath": [
                    72,
                    78,
                    67,
                    62
                ],
                "ValueError": [
                    64,
                    104,
                    105,
                    87,
                    184,
                    187
                ],
                "f": [
                    67,
                    68,
                    69,
                    72,
                    73,
                    74
                ],
                "nodes": [
                    80,
                    78,
                    79
                ],
                "el": [
                    161,
                    162,
                    185,
                    170,
                    174,
                    80,
                    82,
                    83,
                    84,
                    85,
                    180,
                    181,
                    182,
                    153,
                    183
                ],
                "el.tag": [
                    82
                ],
                "el.getparent": [
                    84
                ],
                "IndexError": [
                    171,
                    94,
                    95
                ],
                "TypeError": [
                    104
                ],
                "inputs": [
                    112,
                    107
                ],
                "form.xpath": [
                    153,
                    107,
                    180
                ],
                "_value": [
                    112
                ],
                "e": [
                    112
                ],
                "clickable": [
                    116,
                    117,
                    118
                ],
                "_get_clickable": [
                    116
                ],
                "values.append": [
                    118
                ],
                "values.extend": [
                    120
                ],
                "n": [
                    128,
                    129,
                    138,
                    144,
                    125
                ],
                "ele.name": [
                    125
                ],
                "ele": [
                    128,
                    133,
                    137,
                    142,
                    125,
                    126,
                    127
                ],
                "ele.value": [
                    126
                ],
                "ele.tag": [
                    127
                ],
                "_select_value": [
                    128
                ],
                "multiple": [
                    139,
                    133,
                    134
                ],
                "ele.multiple": [
                    133
                ],
                "o": [
                    137,
                    138,
                    143
                ],
                "ele.value_options": [
                    137
                ],
                "selected_options": [
                    142,
                    143
                ],
                "ele.xpath": [
                    142
                ],
                "strip": [
                    143
                ],
                "o.get": [
                    143
                ],
                "o.text": [
                    143
                ],
                "clickables": [
                    153,
                    161,
                    156
                ],
                "el.get": [
                    162,
                    174
                ],
                "nr": [
                    168,
                    170,
                    167
                ],
                "clickdata.get": [
                    167
                ],
                "list": [
                    170
                ],
                "form.inputs": [
                    170
                ],
                "xpath": [
                    178,
                    180
                ],
                "join": [
                    179
                ],
                "c": [
                    179
                ],
                "six.iteritems": [
                    179
                ],
                "six": [
                    179
                ],
                "len": [
                    181,
                    183
                ],
                "get": [
                    182
                ]
            },
            "filtered_variables_in_file": {
                "Request": [
                    16
                ],
                "formdata": [
                    39,
                    103,
                    42,
                    113,
                    19,
                    20,
                    117,
                    120,
                    25,
                    26
                ],
                "kwargs.pop": [
                    40,
                    41,
                    19
                ],
                "kwargs": [
                    37,
                    40,
                    41,
                    42,
                    19,
                    20,
                    21,
                    23
                ],
                "kwargs.get": [
                    20
                ],
                "__init__": [
                    23
                ],
                "FormRequest": [
                    23
                ],
                "self": [
                    32,
                    23,
                    27,
                    28,
                    29,
                    30
                ],
                "args": [
                    23
                ],
                "items": [
                    26,
                    27
                ],
                "formdata.items": [
                    120,
                    26
                ],
                "querystr": [
                    32,
                    27,
                    30
                ],
                "_urlencode": [
                    27
                ],
                "self.encoding": [
                    27
                ],
                "self.method": [
                    28
                ],
                "self.headers.setdefault": [
                    29
                ],
                "self.headers": [
                    29
                ],
                "self._set_body": [
                    30
                ],
                "self._set_url": [
                    32
                ],
                "self.url": [
                    32
                ],
                "kwargs.setdefault": [
                    37
                ],
                "response.encoding": [
                    37
                ],
                "response": [
                    64,
                    96,
                    37,
                    38,
                    39,
                    60,
                    61
                ],
                "form": [
                    98,
                    38,
                    39,
                    40,
                    41,
                    170,
                    107,
                    47,
                    48,
                    116,
                    180,
                    153,
                    93
                ],
                "_get_form": [
                    38
                ],
                "formname": [
                    66,
                    67,
                    38
                ],
                "formid": [
                    72,
                    38,
                    71
                ],
                "formnumber": [
                    96,
                    91,
                    93,
                    38
                ],
                "formxpath": [
                    78,
                    77,
                    38,
                    87
                ],
                "_get_inputs": [
                    39
                ],
                "dont_click": [
                    115,
                    39
                ],
                "clickdata": [
                    160,
                    167,
                    39,
                    179,
                    116,
                    185,
                    187
                ],
                "url": [
                    40,
                    42,
                    48,
                    46
                ],
                "_get_form_url": [
                    40
                ],
                "method": [
                    41,
                    42
                ],
                "form.method": [
                    41
                ],
                "cls": [
                    42
                ],
                "form.action": [
                    47
                ],
                "form.base_url": [
                    48,
                    47
                ],
                "urljoin": [
                    48
                ],
                "values": [
                    111,
                    52,
                    118,
                    55,
                    120,
                    121
                ],
                "to_bytes": [
                    52
                ],
                "k": [
                    111,
                    112,
                    113,
                    52,
                    53
                ],
                "enc": [
                    52
                ],
                "v": [
                    128,
                    129,
                    134,
                    139,
                    111,
                    112,
                    143,
                    144,
                    52,
                    54,
                    126
                ],
                "vs": [
                    53,
                    54
                ],
                "seq": [
                    53
                ],
                "is_listlike": [
                    54
                ],
                "urlencode": [
                    55
                ],
                "text": [
                    60,
                    61
                ],
                "response.body_as_unicode": [
                    60
                ],
                "root": [
                    67,
                    72,
                    78,
                    61,
                    62
                ],
                "create_root_node": [
                    61
                ],
                "lxml.html.HTMLParser": [
                    61
                ],
                "lxml.html": [
                    61
                ],
                "lxml": [
                    61
                ],
                "response.url": [
                    61
                ],
                "forms": [
                    93,
                    62,
                    63
                ],
                "root.xpath": [
                    72,
                    78,
                    67,
                    62
                ],
                "f": [
                    67,
                    68,
                    69,
                    72,
                    73,
                    74
                ],
                "nodes": [
                    80,
                    78,
                    79
                ],
                "el": [
                    161,
                    162,
                    185,
                    170,
                    174,
                    80,
                    82,
                    83,
                    84,
                    85,
                    180,
                    181,
                    182,
                    153,
                    183
                ],
                "el.tag": [
                    82
                ],
                "el.getparent": [
                    84
                ],
                "inputs": [
                    112,
                    107
                ],
                "form.xpath": [
                    153,
                    107,
                    180
                ],
                "_value": [
                    112
                ],
                "e": [
                    112
                ],
                "clickable": [
                    116,
                    117,
                    118
                ],
                "_get_clickable": [
                    116
                ],
                "values.append": [
                    118
                ],
                "values.extend": [
                    120
                ],
                "n": [
                    128,
                    129,
                    138,
                    144,
                    125
                ],
                "ele.name": [
                    125
                ],
                "ele": [
                    128,
                    133,
                    137,
                    142,
                    125,
                    126,
                    127
                ],
                "ele.value": [
                    126
                ],
                "ele.tag": [
                    127
                ],
                "_select_value": [
                    128
                ],
                "multiple": [
                    139,
                    133,
                    134
                ],
                "ele.multiple": [
                    133
                ],
                "o": [
                    137,
                    138,
                    143
                ],
                "ele.value_options": [
                    137
                ],
                "selected_options": [
                    142,
                    143
                ],
                "ele.xpath": [
                    142
                ],
                "strip": [
                    143
                ],
                "o.get": [
                    143
                ],
                "o.text": [
                    143
                ],
                "clickables": [
                    153,
                    161,
                    156
                ],
                "el.get": [
                    162,
                    174
                ],
                "nr": [
                    168,
                    170,
                    167
                ],
                "clickdata.get": [
                    167
                ],
                "form.inputs": [
                    170
                ],
                "xpath": [
                    178,
                    180
                ],
                "join": [
                    179
                ],
                "c": [
                    179
                ],
                "six.iteritems": [
                    179
                ],
                "six": [
                    179
                ],
                "get": [
                    182
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/Volumes/SSD2T/bgp_envs_non_pandas/repos/scrapy_25/tests/test_http_request.py",
                "test_function": "test_html_base_form_action",
                "test_function_code": "    def test_html_base_form_action(self):\n        response = _buildresponse(\n            \"\"\"\n            <html>\n                <head>\n                    <base href=\"http://b.com/\">\n                </head>\n                <body>\n                    <form action=\"test_form\">\n                    </form>\n                </body>\n            </html>\n            \"\"\",\n            url='http://a.com/'\n        )\n        req = self.request_class.from_response(response)\n        self.assertEqual(req.url, 'http://b.com/test_form')",
                "test_error": "AssertionError: 'http://a.com/test_form' != 'http://b.com/test_form' - http://a.com/test_form ?        ^ + http://b.com/test_form ?        ^",
                "full_test_error": "self = <tests.test_http_request.FormRequestTest testMethod=test_html_base_form_action>\n\n    def test_html_base_form_action(self):\n        response = _buildresponse(\n            \"\"\"\n            <html>\n                <head>\n                    <base href=\"http://b.com/\">\n                </head>\n                <body>\n                    <form action=\"test_form\">\n                    </form>\n                </body>\n            </html>\n            \"\"\",\n            url='http://a.com/'\n        )\n        req = self.request_class.from_response(response)\n>       self.assertEqual(req.url, 'http://b.com/test_form')\nE       AssertionError: 'http://a.com/test_form' != 'http://b.com/test_form'\nE       - http://a.com/test_form\nE       ?        ^\nE       + http://b.com/test_form\nE       ?        ^\n\n/Volumes/SSD2T/bgp_envs_non_pandas/repos/scrapy_25/tests/test_http_request.py:820: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": []
            }
        ]
    }
}