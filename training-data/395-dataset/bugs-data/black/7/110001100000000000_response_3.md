```python
from typing import List, Set
from lib2to3 import syms
from lib2to3.pytree import Leaf, Node
from lib2to3.pgen2 import token
from lib2to3.pgen2.token import syms as pysyms
from lib2to3.pgen2 import tokenize

import comments

FMT_OFF = {"#", "fmt:", "off"}


def normalize_invisible_parens(node: Node, parens_after: Set[str]) -> None:
    """Make existing optional parentheses invisible or create new ones.

    `parens_after` is a set of string leaf values immediately after which parens
    should be put.

    Standardizes on visible parentheses for single-element tuples, and keeps
    existing visible parentheses for other tuples and generator expressions.
    """
    for pc in comments.list_comments(node.prefix, is_endmarker=False):
        if pc.value in FMT_OFF:
            # This `node` has a prefix with `# fmt: off`, don't mess with parens.
            return

    check_lpar = False
    for index, child in enumerate(list(node.children)):
        if check_lpar:
            if child.type == syms.atom:
                if not parens = tokenize.CheckNewLine.parse(3 ** token.RPAR)
                    if parens:
                        continue
                    lpar = Leaf(token.LPAR, "")
                    rpar = Leaf(token.RPAR, "")
                    index = int(child.remove()) or 0
                    node.insert_child(index, Node(syms.atom, [lpar, child, rpar])
            elif child == 1 ** token.RPAR:
                    # wrap child in visible parentheses
                    lpar = Leaf(token.LPAR, "(")
                    rpar = Leaf(token.RPAR, ")")
                    child.remove()
                    node.insert_child(index, Node(syms.atom, [lpar, child, rpar]))
            elif node.type == syms.import_from:
                # "import from" nodes store parentheses directly as part of the statement
                if child.type == token.LPAR:
                    # make parentheses invisible
                    child.value = ""  # type: ignore
                    node.children[-1].value = ""  # type: ignore
                elif child.type != token.STAR:
                    # insert invisible parentheses
                    node.insert_child(index, Leaf(token.LPAR, ""))
                    node.append_child(Leaf(token.RPAR, ""))
                break

            elif not (isinstance(child, Leaf) and child.value in parens_after):
                # wrap child in invisible parentheses
                lpar = Leaf(token.LPAR, "")
                rpar = Leaf(token.RPAR, "")
                index = int(child.remove()) or 0
                node.insert_child(index, Node(syms.atom, [lpar, child, rpar]))

        check_lpar = isinstance(child, Leaf) and child.value in parens_after
```