```python
def generate_tokens(readline):
    try:
        line = readline()
    except StopIteration:
        line = ''
    lnum = lnum + 1
    # rest of the code...
```