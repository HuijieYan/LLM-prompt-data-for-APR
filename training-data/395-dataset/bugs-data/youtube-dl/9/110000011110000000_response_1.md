```python
# this is the corrected function 
import collections
import io
import itertools
import datetime
from youtube_dl import YoutubeIE
from youtube_dl.utils import (
    ExtractorError, determine_ext, ExtractorError)


class YDL:
    def __init__(self, params):
        self.params = params
        self.downloaded_info_dicts = []

    def _build_format_filter(self, f):
        pass

    def build_format_selector(self, format_spec):
        # your corrected code goes here

        return final_selector
```