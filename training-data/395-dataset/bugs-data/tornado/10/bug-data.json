{
    "tornado:10": {
        "/Volumes/SSD2T/bgp_envs_non_pandas/repos/tornado_10/tornado/web.py": {
            "buggy_functions": [
                {
                    "function_name": "finish",
                    "function_code": "def finish(self, chunk=None):\n    \"\"\"Finishes this response, ending the HTTP request.\"\"\"\n    if self._finished:\n        raise RuntimeError(\"finish() called twice\")\n\n    if chunk is not None:\n        self.write(chunk)\n\n    # Automatically support ETags and add the Content-Length header if\n    # we have not flushed any content yet.\n    if not self._headers_written:\n        if (self._status_code == 200 and\n            self.request.method in (\"GET\", \"HEAD\") and\n                \"Etag\" not in self._headers):\n            self.set_etag_header()\n            if self.check_etag_header():\n                self._write_buffer = []\n                self.set_status(304)\n        if self._status_code in (204, 304):\n            assert not self._write_buffer, \"Cannot send body with %s\" % self._status_code\n            self._clear_headers_for_304()\n        elif \"Content-Length\" not in self._headers:\n            content_length = sum(len(part) for part in self._write_buffer)\n            self.set_header(\"Content-Length\", content_length)\n\n    if hasattr(self.request, \"connection\"):\n        # Now that the request is finished, clear the callback we\n        # set on the HTTPConnection (which would otherwise prevent the\n        # garbage collection of the RequestHandler when there\n        # are keepalive connections)\n        self.request.connection.set_close_callback(None)\n\n    self.flush(include_footers=True)\n    self.request.finish()\n    self._log()\n    self._finished = True\n    self.on_finish()\n    # Break up a reference cycle between this handler and the\n    # _ui_module closures to allow for faster GC on CPython.\n    self.ui = None\n",
                    "decorators": [],
                    "docstring": "Finishes this response, ending the HTTP request.",
                    "start_line": 959,
                    "end_line": 998,
                    "variables": {
                        "self._finished": [
                            961,
                            994
                        ],
                        "self": [
                            961,
                            965,
                            969,
                            970,
                            971,
                            972,
                            973,
                            974,
                            975,
                            976,
                            977,
                            978,
                            979,
                            980,
                            981,
                            982,
                            984,
                            989,
                            991,
                            992,
                            993,
                            994,
                            995,
                            998
                        ],
                        "RuntimeError": [
                            962
                        ],
                        "chunk": [
                            964,
                            965
                        ],
                        "self.write": [
                            965
                        ],
                        "self._headers_written": [
                            969
                        ],
                        "self._status_code": [
                            977,
                            970,
                            978
                        ],
                        "self.request.method": [
                            971
                        ],
                        "self.request": [
                            984,
                            992,
                            971,
                            989
                        ],
                        "self._headers": [
                            980,
                            972
                        ],
                        "self.set_etag_header": [
                            973
                        ],
                        "self.check_etag_header": [
                            974
                        ],
                        "self._write_buffer": [
                            978,
                            981,
                            975
                        ],
                        "self.set_status": [
                            976
                        ],
                        "self._clear_headers_for_304": [
                            979
                        ],
                        "content_length": [
                            981,
                            982
                        ],
                        "sum": [
                            981
                        ],
                        "len": [
                            981
                        ],
                        "part": [
                            981
                        ],
                        "self.set_header": [
                            982
                        ],
                        "hasattr": [
                            984
                        ],
                        "self.request.connection.set_close_callback": [
                            989
                        ],
                        "self.request.connection": [
                            989
                        ],
                        "self.flush": [
                            991
                        ],
                        "self.request.finish": [
                            992
                        ],
                        "self._log": [
                            993
                        ],
                        "self.on_finish": [
                            995
                        ],
                        "self.ui": [
                            998
                        ]
                    },
                    "filtered_variables": {
                        "self._finished": [
                            961,
                            994
                        ],
                        "self": [
                            961,
                            965,
                            969,
                            970,
                            971,
                            972,
                            973,
                            974,
                            975,
                            976,
                            977,
                            978,
                            979,
                            980,
                            981,
                            982,
                            984,
                            989,
                            991,
                            992,
                            993,
                            994,
                            995,
                            998
                        ],
                        "chunk": [
                            964,
                            965
                        ],
                        "self.write": [
                            965
                        ],
                        "self._headers_written": [
                            969
                        ],
                        "self._status_code": [
                            977,
                            970,
                            978
                        ],
                        "self.request.method": [
                            971
                        ],
                        "self.request": [
                            984,
                            992,
                            971,
                            989
                        ],
                        "self._headers": [
                            980,
                            972
                        ],
                        "self.set_etag_header": [
                            973
                        ],
                        "self.check_etag_header": [
                            974
                        ],
                        "self._write_buffer": [
                            978,
                            981,
                            975
                        ],
                        "self.set_status": [
                            976
                        ],
                        "self._clear_headers_for_304": [
                            979
                        ],
                        "content_length": [
                            981,
                            982
                        ],
                        "part": [
                            981
                        ],
                        "self.set_header": [
                            982
                        ],
                        "self.request.connection.set_close_callback": [
                            989
                        ],
                        "self.request.connection": [
                            989
                        ],
                        "self.flush": [
                            991
                        ],
                        "self.request.finish": [
                            992
                        ],
                        "self._log": [
                            993
                        ],
                        "self.on_finish": [
                            995
                        ],
                        "self.ui": [
                            998
                        ]
                    },
                    "diff_line_number": 995,
                    "class_data": {
                        "signature": "class RequestHandler(object)",
                        "docstring": "Base class for HTTP request handlers.\n\nSubclasses must define at least one of the methods defined in the\n\"Entry points\" section below.",
                        "constructor_docstring": null,
                        "functions": [
                            "def __init__(self, application, request, **kwargs):\n    super(RequestHandler, self).__init__()\n    self.application = application\n    self.request = request\n    self._headers_written = False\n    self._finished = False\n    self._auto_finish = True\n    self._transforms = None\n    self._prepared_future = None\n    self._headers = None\n    self.path_args = None\n    self.path_kwargs = None\n    self.ui = ObjectDict(((n, self._ui_method(m)) for n, m in application.ui_methods.items()))\n    self.ui['_tt_modules'] = _UIModuleNamespace(self, application.ui_modules)\n    self.ui['modules'] = self.ui['_tt_modules']\n    self.clear()\n    self.request.connection.set_close_callback(self.on_connection_close)\n    self.initialize(**kwargs)",
                            "def initialize(self):\n    \"\"\"Hook for subclass initialization. Called for each request.\n\n    A dictionary passed as the third argument of a url spec will be\n    supplied as keyword arguments to initialize().\n\n    Example::\n\n        class ProfileHandler(RequestHandler):\n            def initialize(self, database):\n                self.database = database\n\n            def get(self, username):\n                ...\n\n        app = Application([\n            (r'/user/(.*)', ProfileHandler, dict(database=database)),\n            ])\n    \"\"\"\n    pass",
                            "@property\ndef settings(self):\n    \"\"\"An alias for `self.application.settings <Application.settings>`.\"\"\"\n    return self.application.settings",
                            "def head(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def get(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def post(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def delete(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def patch(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def put(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def options(self, *args, **kwargs):\n    raise HTTPError(405)",
                            "def prepare(self):\n    \"\"\"Called at the beginning of a request before  `get`/`post`/etc.\n\n    Override this method to perform common initialization regardless\n    of the request method.\n\n    Asynchronous support: Decorate this method with `.gen.coroutine`\n    or `.return_future` to make it asynchronous (the\n    `asynchronous` decorator cannot be used on `prepare`).\n    If this method returns a `.Future` execution will not proceed\n    until the `.Future` is done.\n\n    .. versionadded:: 3.1\n       Asynchronous support.\n    \"\"\"\n    pass",
                            "def on_finish(self):\n    \"\"\"Called after the end of a request.\n\n    Override this method to perform cleanup, logging, etc.\n    This method is a counterpart to `prepare`.  ``on_finish`` may\n    not produce any output, as it is called after the response\n    has been sent to the client.\n    \"\"\"\n    pass",
                            "def on_connection_close(self):\n    \"\"\"Called in async handlers if the client closed the connection.\n\n    Override this to clean up resources associated with\n    long-lived connections.  Note that this method is called only if\n    the connection was closed during asynchronous processing; if you\n    need to do cleanup after every request override `on_finish`\n    instead.\n\n    Proxies may keep a connection open for a time (perhaps\n    indefinitely) after the client has gone away, so this method\n    may not be called promptly after the end user closes their\n    connection.\n    \"\"\"\n    if _has_stream_request_body(self.__class__):\n        if not self.request.body.done():\n            self.request.body.set_exception(iostream.StreamClosedError())\n            self.request.body.exception()",
                            "def clear(self):\n    \"\"\"Resets all headers and content for this response.\"\"\"\n    self._headers = httputil.HTTPHeaders({'Server': 'TornadoServer/%s' % tornado.version, 'Content-Type': 'text/html; charset=UTF-8', 'Date': httputil.format_timestamp(time.time())})\n    self.set_default_headers()\n    self._write_buffer = []\n    self._status_code = 200\n    self._reason = httputil.responses[200]",
                            "def set_default_headers(self):\n    \"\"\"Override this to set HTTP headers at the beginning of the request.\n\n    For example, this is the place to set a custom ``Server`` header.\n    Note that setting such headers in the normal flow of request\n    processing may not do what you want, since headers may be reset\n    during error handling.\n    \"\"\"\n    pass",
                            "def set_status(self, status_code, reason=None):\n    \"\"\"Sets the status code for our response.\n\n    :arg int status_code: Response status code. If ``reason`` is ``None``,\n        it must be present in `httplib.responses <http.client.responses>`.\n    :arg string reason: Human-readable reason phrase describing the status\n        code. If ``None``, it will be filled in from\n        `httplib.responses <http.client.responses>`.\n    \"\"\"\n    self._status_code = status_code\n    if reason is not None:\n        self._reason = escape.native_str(reason)\n    else:\n        try:\n            self._reason = httputil.responses[status_code]\n        except KeyError:\n            raise ValueError('unknown status code %d' % status_code)",
                            "def get_status(self):\n    \"\"\"Returns the status code for our response.\"\"\"\n    return self._status_code",
                            "def set_header(self, name, value):\n    \"\"\"Sets the given response header name and value.\n\n    If a datetime is given, we automatically format it according to the\n    HTTP specification. If the value is not a string, we convert it to\n    a string. All header values are then encoded as UTF-8.\n    \"\"\"\n    self._headers[name] = self._convert_header_value(value)",
                            "def add_header(self, name, value):\n    \"\"\"Adds the given response header and value.\n\n    Unlike `set_header`, `add_header` may be called multiple times\n    to return multiple values for the same header.\n    \"\"\"\n    self._headers.add(name, self._convert_header_value(value))",
                            "def clear_header(self, name):\n    \"\"\"Clears an outgoing header, undoing a previous `set_header` call.\n\n    Note that this method does not apply to multi-valued headers\n    set by `add_header`.\n    \"\"\"\n    if name in self._headers:\n        del self._headers[name]",
                            "def _convert_header_value(self, value):\n    if isinstance(value, str):\n        retval = value\n    elif isinstance(value, bytes):\n        retval = value.decode('latin1')\n    elif isinstance(value, unicode_type):\n        retval = escape.utf8(value)\n    elif isinstance(value, numbers.Integral):\n        return str(value)\n    elif isinstance(value, datetime.datetime):\n        return httputil.format_timestamp(value)\n    else:\n        raise TypeError('Unsupported header value %r' % value)\n    if RequestHandler._INVALID_HEADER_CHAR_RE.search(retval):\n        raise ValueError('Unsafe header value %r', retval)\n    return retval",
                            "def get_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n    \"\"\"\n    return self._get_argument(name, default, self.request.arguments, strip)",
                            "def get_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n    \"\"\"\n    assert isinstance(strip, bool)\n    return self._get_arguments(name, self.request.arguments, strip)",
                            "def get_body_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name\n    from the request body.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_argument(name, default, self.request.body_arguments, strip)",
                            "def get_body_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the body arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_arguments(name, self.request.body_arguments, strip)",
                            "def get_query_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name\n    from the request query string.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_argument(name, default, self.request.query_arguments, strip)",
                            "def get_query_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the query arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_arguments(name, self.request.query_arguments, strip)",
                            "def _get_argument(self, name, default, source, strip=True):\n    args = self._get_arguments(name, source, strip=strip)\n    if not args:\n        if default is self._ARG_DEFAULT:\n            raise MissingArgumentError(name)\n        return default\n    return args[-1]",
                            "def _get_arguments(self, name, source, strip=True):\n    values = []\n    for v in source.get(name, []):\n        v = self.decode_argument(v, name=name)\n        if isinstance(v, unicode_type):\n            v = RequestHandler._remove_control_chars_regex.sub(' ', v)\n        if strip:\n            v = v.strip()\n        values.append(v)\n    return values",
                            "def decode_argument(self, value, name=None):\n    \"\"\"Decodes an argument from the request.\n\n    The argument has been percent-decoded and is now a byte string.\n    By default, this method decodes the argument as utf-8 and returns\n    a unicode string, but this may be overridden in subclasses.\n\n    This method is used as a filter for both `get_argument()` and for\n    values extracted from the url and passed to `get()`/`post()`/etc.\n\n    The name of the argument is provided if known, but may be None\n    (e.g. for unnamed groups in the url regex).\n    \"\"\"\n    try:\n        return _unicode(value)\n    except UnicodeDecodeError:\n        raise HTTPError(400, 'Invalid unicode in %s: %r' % (name or 'url', value[:40]))",
                            "@property\ndef cookies(self):\n    \"\"\"An alias for\n    `self.request.cookies <.httputil.HTTPServerRequest.cookies>`.\"\"\"\n    return self.request.cookies",
                            "def get_cookie(self, name, default=None):\n    \"\"\"Gets the value of the cookie with the given name, else default.\"\"\"\n    if self.request.cookies is not None and name in self.request.cookies:\n        return self.request.cookies[name].value\n    return default",
                            "def set_cookie(self, name, value, domain=None, expires=None, path='/', expires_days=None, **kwargs):\n    \"\"\"Sets the given cookie name/value with the given options.\n\n    Additional keyword arguments are set on the Cookie.Morsel\n    directly.\n    See https://docs.python.org/2/library/cookie.html#Cookie.Morsel\n    for available attributes.\n    \"\"\"\n    name = escape.native_str(name)\n    value = escape.native_str(value)\n    if re.search('[\\\\x00-\\\\x20]', name + value):\n        raise ValueError('Invalid cookie %r: %r' % (name, value))\n    if not hasattr(self, '_new_cookie'):\n        self._new_cookie = Cookie.SimpleCookie()\n    if name in self._new_cookie:\n        del self._new_cookie[name]\n    self._new_cookie[name] = value\n    morsel = self._new_cookie[name]\n    if domain:\n        morsel['domain'] = domain\n    if expires_days is not None and (not expires):\n        expires = datetime.datetime.utcnow() + datetime.timedelta(days=expires_days)\n    if expires:\n        morsel['expires'] = httputil.format_timestamp(expires)\n    if path:\n        morsel['path'] = path\n    for k, v in kwargs.items():\n        if k == 'max_age':\n            k = 'max-age'\n        if k in ['httponly', 'secure'] and (not v):\n            continue\n        morsel[k] = v",
                            "def clear_cookie(self, name, path='/', domain=None):\n    \"\"\"Deletes the cookie with the given name.\n\n    Due to limitations of the cookie protocol, you must pass the same\n    path and domain to clear a cookie as were used when that cookie\n    was set (but there is no way to find out on the server side\n    which values were used for a given cookie).\n    \"\"\"\n    expires = datetime.datetime.utcnow() - datetime.timedelta(days=365)\n    self.set_cookie(name, value='', path=path, expires=expires, domain=domain)",
                            "def clear_all_cookies(self, path='/', domain=None):\n    \"\"\"Deletes all the cookies the user sent with this request.\n\n    See `clear_cookie` for more information on the path and domain\n    parameters.\n\n    .. versionchanged:: 3.2\n\n       Added the ``path`` and ``domain`` parameters.\n    \"\"\"\n    for name in self.request.cookies:\n        self.clear_cookie(name, path=path, domain=domain)",
                            "def set_secure_cookie(self, name, value, expires_days=30, version=None, **kwargs):\n    \"\"\"Signs and timestamps a cookie so it cannot be forged.\n\n    You must specify the ``cookie_secret`` setting in your Application\n    to use this method. It should be a long, random sequence of bytes\n    to be used as the HMAC secret for the signature.\n\n    To read a cookie set with this method, use `get_secure_cookie()`.\n\n    Note that the ``expires_days`` parameter sets the lifetime of the\n    cookie in the browser, but is independent of the ``max_age_days``\n    parameter to `get_secure_cookie`.\n\n    Secure cookies may contain arbitrary byte values, not just unicode\n    strings (unlike regular cookies)\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``version`` argument.  Introduced cookie version 2\n       and made it the default.\n    \"\"\"\n    self.set_cookie(name, self.create_signed_value(name, value, version=version), expires_days=expires_days, **kwargs)",
                            "def create_signed_value(self, name, value, version=None):\n    \"\"\"Signs and timestamps a string so it cannot be forged.\n\n    Normally used via set_secure_cookie, but provided as a separate\n    method for non-cookie uses.  To decode a value not stored\n    as a cookie use the optional value argument to get_secure_cookie.\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``version`` argument.  Introduced cookie version 2\n       and made it the default.\n    \"\"\"\n    self.require_setting('cookie_secret', 'secure cookies')\n    secret = self.application.settings['cookie_secret']\n    key_version = None\n    if isinstance(secret, dict):\n        if self.application.settings.get('key_version') is None:\n            raise Exception('key_version setting must be used for secret_key dicts')\n        key_version = self.application.settings['key_version']\n    return create_signed_value(secret, name, value, version=version, key_version=key_version)",
                            "def get_secure_cookie(self, name, value=None, max_age_days=31, min_version=None):\n    \"\"\"Returns the given signed cookie if it validates, or None.\n\n    The decoded cookie value is returned as a byte string (unlike\n    `get_cookie`).\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``min_version`` argument.  Introduced cookie version 2;\n       both versions 1 and 2 are accepted by default.\n    \"\"\"\n    self.require_setting('cookie_secret', 'secure cookies')\n    if value is None:\n        value = self.get_cookie(name)\n    return decode_signed_value(self.application.settings['cookie_secret'], name, value, max_age_days=max_age_days, min_version=min_version)",
                            "def get_secure_cookie_key_version(self, name, value=None):\n    \"\"\"Returns the signing key version of the secure cookie.\n\n    The version is returned as int.\n    \"\"\"\n    self.require_setting('cookie_secret', 'secure cookies')\n    if value is None:\n        value = self.get_cookie(name)\n    return get_signature_key_version(value)",
                            "def redirect(self, url, permanent=False, status=None):\n    \"\"\"Sends a redirect to the given (optionally relative) URL.\n\n    If the ``status`` argument is specified, that value is used as the\n    HTTP status code; otherwise either 301 (permanent) or 302\n    (temporary) is chosen based on the ``permanent`` argument.\n    The default is 302 (temporary).\n    \"\"\"\n    if self._headers_written:\n        raise Exception('Cannot redirect after headers have been written')\n    if status is None:\n        status = 301 if permanent else 302\n    else:\n        assert isinstance(status, int) and 300 <= status <= 399\n    self.set_status(status)\n    self.set_header('Location', utf8(url))\n    self.finish()",
                            "def write(self, chunk):\n    \"\"\"Writes the given chunk to the output buffer.\n\n    To write the output to the network, use the flush() method below.\n\n    If the given chunk is a dictionary, we write it as JSON and set\n    the Content-Type of the response to be ``application/json``.\n    (if you want to send JSON as a different ``Content-Type``, call\n    set_header *after* calling write()).\n\n    Note that lists are not converted to JSON because of a potential\n    cross-site security vulnerability.  All JSON output should be\n    wrapped in a dictionary.  More details at\n    http://haacked.com/archive/2009/06/25/json-hijacking.aspx/ and\n    https://github.com/facebook/tornado/issues/1009\n    \"\"\"\n    if self._finished:\n        raise RuntimeError('Cannot write() after finish()')\n    if not isinstance(chunk, (bytes, unicode_type, dict)):\n        message = 'write() only accepts bytes, unicode, and dict objects'\n        if isinstance(chunk, list):\n            message += '. Lists not accepted for security reasons; see http://www.tornadoweb.org/en/stable/web.html#tornado.web.RequestHandler.write'\n        raise TypeError(message)\n    if isinstance(chunk, dict):\n        chunk = escape.json_encode(chunk)\n        self.set_header('Content-Type', 'application/json; charset=UTF-8')\n    chunk = utf8(chunk)\n    self._write_buffer.append(chunk)",
                            "def render(self, template_name, **kwargs):\n    \"\"\"Renders the template with the given arguments as the response.\"\"\"\n    if self._finished:\n        raise RuntimeError('Cannot render() after finish()')\n    html = self.render_string(template_name, **kwargs)\n    js_embed = []\n    js_files = []\n    css_embed = []\n    css_files = []\n    html_heads = []\n    html_bodies = []\n    for module in getattr(self, '_active_modules', {}).values():\n        embed_part = module.embedded_javascript()\n        if embed_part:\n            js_embed.append(utf8(embed_part))\n        file_part = module.javascript_files()\n        if file_part:\n            if isinstance(file_part, (unicode_type, bytes)):\n                js_files.append(file_part)\n            else:\n                js_files.extend(file_part)\n        embed_part = module.embedded_css()\n        if embed_part:\n            css_embed.append(utf8(embed_part))\n        file_part = module.css_files()\n        if file_part:\n            if isinstance(file_part, (unicode_type, bytes)):\n                css_files.append(file_part)\n            else:\n                css_files.extend(file_part)\n        head_part = module.html_head()\n        if head_part:\n            html_heads.append(utf8(head_part))\n        body_part = module.html_body()\n        if body_part:\n            html_bodies.append(utf8(body_part))\n    if js_files:\n        js = self.render_linked_js(js_files)\n        sloc = html.rindex(b'</body>')\n        html = html[:sloc] + utf8(js) + b'\\n' + html[sloc:]\n    if js_embed:\n        js = self.render_embed_js(js_embed)\n        sloc = html.rindex(b'</body>')\n        html = html[:sloc] + js + b'\\n' + html[sloc:]\n    if css_files:\n        css = self.render_linked_css(css_files)\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + utf8(css) + b'\\n' + html[hloc:]\n    if css_embed:\n        css = self.render_embed_css(css_embed)\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + css + b'\\n' + html[hloc:]\n    if html_heads:\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + b''.join(html_heads) + b'\\n' + html[hloc:]\n    if html_bodies:\n        hloc = html.index(b'</body>')\n        html = html[:hloc] + b''.join(html_bodies) + b'\\n' + html[hloc:]\n    self.finish(html)",
                            "def render_linked_js(self, js_files):\n    \"\"\"Default method used to render the final js links for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    paths = []\n    unique_paths = set()\n    for path in js_files:\n        if not is_absolute(path):\n            path = self.static_url(path)\n        if path not in unique_paths:\n            paths.append(path)\n            unique_paths.add(path)\n    return ''.join(('<script src=\"' + escape.xhtml_escape(p) + '\" type=\"text/javascript\"></script>' for p in paths))",
                            "def render_embed_js(self, js_embed):\n    \"\"\"Default method used to render the final embedded js for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    return b'<script type=\"text/javascript\">\\n//<![CDATA[\\n' + b'\\n'.join(js_embed) + b'\\n//]]>\\n</script>'",
                            "def render_linked_css(self, css_files):\n    \"\"\"Default method used to render the final css links for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    paths = []\n    unique_paths = set()\n    for path in css_files:\n        if not is_absolute(path):\n            path = self.static_url(path)\n        if path not in unique_paths:\n            paths.append(path)\n            unique_paths.add(path)\n    return ''.join(('<link href=\"' + escape.xhtml_escape(p) + '\" type=\"text/css\" rel=\"stylesheet\"/>' for p in paths))",
                            "def render_embed_css(self, css_embed):\n    \"\"\"Default method used to render the final embedded css for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    return b'<style type=\"text/css\">\\n' + b'\\n'.join(css_embed) + b'\\n</style>'",
                            "def render_string(self, template_name, **kwargs):\n    \"\"\"Generate the given template with the given arguments.\n\n    We return the generated byte string (in utf8). To generate and\n    write a template as a response, use render() above.\n    \"\"\"\n    template_path = self.get_template_path()\n    if not template_path:\n        frame = sys._getframe(0)\n        web_file = frame.f_code.co_filename\n        while frame.f_code.co_filename == web_file:\n            frame = frame.f_back\n        template_path = os.path.dirname(frame.f_code.co_filename)\n    with RequestHandler._template_loader_lock:\n        if template_path not in RequestHandler._template_loaders:\n            loader = self.create_template_loader(template_path)\n            RequestHandler._template_loaders[template_path] = loader\n        else:\n            loader = RequestHandler._template_loaders[template_path]\n    t = loader.load(template_name)\n    namespace = self.get_template_namespace()\n    namespace.update(kwargs)\n    return t.generate(**namespace)",
                            "def get_template_namespace(self):\n    \"\"\"Returns a dictionary to be used as the default template namespace.\n\n    May be overridden by subclasses to add or modify values.\n\n    The results of this method will be combined with additional\n    defaults in the `tornado.template` module and keyword arguments\n    to `render` or `render_string`.\n    \"\"\"\n    namespace = dict(handler=self, request=self.request, current_user=self.current_user, locale=self.locale, _=self.locale.translate, pgettext=self.locale.pgettext, static_url=self.static_url, xsrf_form_html=self.xsrf_form_html, reverse_url=self.reverse_url)\n    namespace.update(self.ui)\n    return namespace",
                            "def create_template_loader(self, template_path):\n    \"\"\"Returns a new template loader for the given path.\n\n    May be overridden by subclasses.  By default returns a\n    directory-based loader on the given path, using the\n    ``autoescape`` and ``template_whitespace`` application\n    settings.  If a ``template_loader`` application setting is\n    supplied, uses that instead.\n    \"\"\"\n    settings = self.application.settings\n    if 'template_loader' in settings:\n        return settings['template_loader']\n    kwargs = {}\n    if 'autoescape' in settings:\n        kwargs['autoescape'] = settings['autoescape']\n    if 'template_whitespace' in settings:\n        kwargs['whitespace'] = settings['template_whitespace']\n    return template.Loader(template_path, **kwargs)",
                            "def flush(self, include_footers=False, callback=None):\n    \"\"\"Flushes the current output buffer to the network.\n\n    The ``callback`` argument, if given, can be used for flow control:\n    it will be run when all flushed data has been written to the socket.\n    Note that only one flush callback can be outstanding at a time;\n    if another flush occurs before the previous flush's callback\n    has been run, the previous callback will be discarded.\n\n    .. versionchanged:: 4.0\n       Now returns a `.Future` if no callback is given.\n    \"\"\"\n    chunk = b''.join(self._write_buffer)\n    self._write_buffer = []\n    if not self._headers_written:\n        self._headers_written = True\n        for transform in self._transforms:\n            self._status_code, self._headers, chunk = transform.transform_first_chunk(self._status_code, self._headers, chunk, include_footers)\n        if self.request.method == 'HEAD':\n            chunk = None\n        if hasattr(self, '_new_cookie'):\n            for cookie in self._new_cookie.values():\n                self.add_header('Set-Cookie', cookie.OutputString(None))\n        start_line = httputil.ResponseStartLine('', self._status_code, self._reason)\n        return self.request.connection.write_headers(start_line, self._headers, chunk, callback=callback)\n    else:\n        for transform in self._transforms:\n            chunk = transform.transform_chunk(chunk, include_footers)\n        if self.request.method != 'HEAD':\n            return self.request.connection.write(chunk, callback=callback)\n        else:\n            future = Future()\n            future.set_result(None)\n            return future",
                            "def finish(self, chunk=None):\n    \"\"\"Finishes this response, ending the HTTP request.\"\"\"\n    if self._finished:\n        raise RuntimeError('finish() called twice')\n    if chunk is not None:\n        self.write(chunk)\n    if not self._headers_written:\n        if self._status_code == 200 and self.request.method in ('GET', 'HEAD') and ('Etag' not in self._headers):\n            self.set_etag_header()\n            if self.check_etag_header():\n                self._write_buffer = []\n                self.set_status(304)\n        if self._status_code in (204, 304):\n            assert not self._write_buffer, 'Cannot send body with %s' % self._status_code\n            self._clear_headers_for_304()\n        elif 'Content-Length' not in self._headers:\n            content_length = sum((len(part) for part in self._write_buffer))\n            self.set_header('Content-Length', content_length)\n    if hasattr(self.request, 'connection'):\n        self.request.connection.set_close_callback(None)\n    self.flush(include_footers=True)\n    self.request.finish()\n    self._log()\n    self._finished = True\n    self.on_finish()\n    self.ui = None",
                            "def send_error(self, status_code=500, **kwargs):\n    \"\"\"Sends the given HTTP error code to the browser.\n\n    If `flush()` has already been called, it is not possible to send\n    an error, so this method will simply terminate the response.\n    If output has been written but not yet flushed, it will be discarded\n    and replaced with the error page.\n\n    Override `write_error()` to customize the error page that is returned.\n    Additional keyword arguments are passed through to `write_error`.\n    \"\"\"\n    if self._headers_written:\n        gen_log.error('Cannot send error response after headers written')\n        if not self._finished:\n            try:\n                self.finish()\n            except Exception:\n                gen_log.error('Failed to flush partial response', exc_info=True)\n        return\n    self.clear()\n    reason = kwargs.get('reason')\n    if 'exc_info' in kwargs:\n        exception = kwargs['exc_info'][1]\n        if isinstance(exception, HTTPError) and exception.reason:\n            reason = exception.reason\n    self.set_status(status_code, reason=reason)\n    try:\n        self.write_error(status_code, **kwargs)\n    except Exception:\n        app_log.error('Uncaught exception in write_error', exc_info=True)\n    if not self._finished:\n        self.finish()",
                            "def write_error(self, status_code, **kwargs):\n    \"\"\"Override to implement custom error pages.\n\n    ``write_error`` may call `write`, `render`, `set_header`, etc\n    to produce output as usual.\n\n    If this error was caused by an uncaught exception (including\n    HTTPError), an ``exc_info`` triple will be available as\n    ``kwargs[\"exc_info\"]``.  Note that this exception may not be\n    the \"current\" exception for purposes of methods like\n    ``sys.exc_info()`` or ``traceback.format_exc``.\n    \"\"\"\n    if self.settings.get('serve_traceback') and 'exc_info' in kwargs:\n        self.set_header('Content-Type', 'text/plain')\n        for line in traceback.format_exception(*kwargs['exc_info']):\n            self.write(line)\n        self.finish()\n    else:\n        self.finish('<html><title>%(code)d: %(message)s</title><body>%(code)d: %(message)s</body></html>' % {'code': status_code, 'message': self._reason})",
                            "@property\ndef locale(self):\n    \"\"\"The locale for the current session.\n\n    Determined by either `get_user_locale`, which you can override to\n    set the locale based on, e.g., a user preference stored in a\n    database, or `get_browser_locale`, which uses the ``Accept-Language``\n    header.\n\n    .. versionchanged: 4.1\n       Added a property setter.\n    \"\"\"\n    if not hasattr(self, '_locale'):\n        self._locale = self.get_user_locale()\n        if not self._locale:\n            self._locale = self.get_browser_locale()\n            assert self._locale\n    return self._locale",
                            "@locale.setter\ndef locale(self, value):\n    self._locale = value",
                            "def get_user_locale(self):\n    \"\"\"Override to determine the locale from the authenticated user.\n\n    If None is returned, we fall back to `get_browser_locale()`.\n\n    This method should return a `tornado.locale.Locale` object,\n    most likely obtained via a call like ``tornado.locale.get(\"en\")``\n    \"\"\"\n    return None",
                            "def get_browser_locale(self, default='en_US'):\n    \"\"\"Determines the user's locale from ``Accept-Language`` header.\n\n    See http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4\n    \"\"\"\n    if 'Accept-Language' in self.request.headers:\n        languages = self.request.headers['Accept-Language'].split(',')\n        locales = []\n        for language in languages:\n            parts = language.strip().split(';')\n            if len(parts) > 1 and parts[1].startswith('q='):\n                try:\n                    score = float(parts[1][2:])\n                except (ValueError, TypeError):\n                    score = 0.0\n            else:\n                score = 1.0\n            locales.append((parts[0], score))\n        if locales:\n            locales.sort(key=lambda pair: pair[1], reverse=True)\n            codes = [l[0] for l in locales]\n            return locale.get(*codes)\n    return locale.get(default)",
                            "@property\ndef current_user(self):\n    \"\"\"The authenticated user for this request.\n\n    This is set in one of two ways:\n\n    * A subclass may override `get_current_user()`, which will be called\n      automatically the first time ``self.current_user`` is accessed.\n      `get_current_user()` will only be called once per request,\n      and is cached for future access::\n\n          def get_current_user(self):\n              user_cookie = self.get_secure_cookie(\"user\")\n              if user_cookie:\n                  return json.loads(user_cookie)\n              return None\n\n    * It may be set as a normal variable, typically from an overridden\n      `prepare()`::\n\n          @gen.coroutine\n          def prepare(self):\n              user_id_cookie = self.get_secure_cookie(\"user_id\")\n              if user_id_cookie:\n                  self.current_user = yield load_user(user_id_cookie)\n\n    Note that `prepare()` may be a coroutine while `get_current_user()`\n    may not, so the latter form is necessary if loading the user requires\n    asynchronous operations.\n\n    The user object may be any type of the application's choosing.\n    \"\"\"\n    if not hasattr(self, '_current_user'):\n        self._current_user = self.get_current_user()\n    return self._current_user",
                            "@current_user.setter\ndef current_user(self, value):\n    self._current_user = value",
                            "def get_current_user(self):\n    \"\"\"Override to determine the current user from, e.g., a cookie.\n\n    This method may not be a coroutine.\n    \"\"\"\n    return None",
                            "def get_login_url(self):\n    \"\"\"Override to customize the login URL based on the request.\n\n    By default, we use the ``login_url`` application setting.\n    \"\"\"\n    self.require_setting('login_url', '@tornado.web.authenticated')\n    return self.application.settings['login_url']",
                            "def get_template_path(self):\n    \"\"\"Override to customize template path for each handler.\n\n    By default, we use the ``template_path`` application setting.\n    Return None to load templates relative to the calling file.\n    \"\"\"\n    return self.application.settings.get('template_path')",
                            "@property\ndef xsrf_token(self):\n    \"\"\"The XSRF-prevention token for the current user/session.\n\n    To prevent cross-site request forgery, we set an '_xsrf' cookie\n    and include the same '_xsrf' value as an argument with all POST\n    requests. If the two do not match, we reject the form submission\n    as a potential forgery.\n\n    See http://en.wikipedia.org/wiki/Cross-site_request_forgery\n\n    .. versionchanged:: 3.2.2\n       The xsrf token will now be have a random mask applied in every\n       request, which makes it safe to include the token in pages\n       that are compressed.  See http://breachattack.com for more\n       information on the issue fixed by this change.  Old (version 1)\n       cookies will be converted to version 2 when this method is called\n       unless the ``xsrf_cookie_version`` `Application` setting is\n       set to 1.\n\n    .. versionchanged:: 4.3\n       The ``xsrf_cookie_kwargs`` `Application` setting may be\n       used to supply additional cookie options (which will be\n       passed directly to `set_cookie`). For example,\n       ``xsrf_cookie_kwargs=dict(httponly=True, secure=True)``\n       will set the ``secure`` and ``httponly`` flags on the\n       ``_xsrf`` cookie.\n    \"\"\"\n    if not hasattr(self, '_xsrf_token'):\n        version, token, timestamp = self._get_raw_xsrf_token()\n        output_version = self.settings.get('xsrf_cookie_version', 2)\n        cookie_kwargs = self.settings.get('xsrf_cookie_kwargs', {})\n        if output_version == 1:\n            self._xsrf_token = binascii.b2a_hex(token)\n        elif output_version == 2:\n            mask = os.urandom(4)\n            self._xsrf_token = b'|'.join([b'2', binascii.b2a_hex(mask), binascii.b2a_hex(_websocket_mask(mask, token)), utf8(str(int(timestamp)))])\n        else:\n            raise ValueError('unknown xsrf cookie version %d', output_version)\n        if version is None:\n            expires_days = 30 if self.current_user else None\n            self.set_cookie('_xsrf', self._xsrf_token, expires_days=expires_days, **cookie_kwargs)\n    return self._xsrf_token",
                            "def _get_raw_xsrf_token(self):\n    \"\"\"Read or generate the xsrf token in its raw form.\n\n    The raw_xsrf_token is a tuple containing:\n\n    * version: the version of the cookie from which this token was read,\n      or None if we generated a new token in this request.\n    * token: the raw token data; random (non-ascii) bytes.\n    * timestamp: the time this token was generated (will not be accurate\n      for version 1 cookies)\n    \"\"\"\n    if not hasattr(self, '_raw_xsrf_token'):\n        cookie = self.get_cookie('_xsrf')\n        if cookie:\n            version, token, timestamp = self._decode_xsrf_token(cookie)\n        else:\n            version, token, timestamp = (None, None, None)\n        if token is None:\n            version = None\n            token = os.urandom(16)\n            timestamp = time.time()\n        self._raw_xsrf_token = (version, token, timestamp)\n    return self._raw_xsrf_token",
                            "def _decode_xsrf_token(self, cookie):\n    \"\"\"Convert a cookie string into a the tuple form returned by\n    _get_raw_xsrf_token.\n    \"\"\"\n    try:\n        m = _signed_value_version_re.match(utf8(cookie))\n        if m:\n            version = int(m.group(1))\n            if version == 2:\n                _, mask, masked_token, timestamp = cookie.split('|')\n                mask = binascii.a2b_hex(utf8(mask))\n                token = _websocket_mask(mask, binascii.a2b_hex(utf8(masked_token)))\n                timestamp = int(timestamp)\n                return (version, token, timestamp)\n            else:\n                raise Exception('Unknown xsrf cookie version')\n        else:\n            version = 1\n            try:\n                token = binascii.a2b_hex(utf8(cookie))\n            except (binascii.Error, TypeError):\n                token = utf8(cookie)\n            timestamp = int(time.time())\n            return (version, token, timestamp)\n    except Exception:\n        gen_log.debug('Uncaught exception in _decode_xsrf_token', exc_info=True)\n        return (None, None, None)",
                            "def check_xsrf_cookie(self):\n    \"\"\"Verifies that the ``_xsrf`` cookie matches the ``_xsrf`` argument.\n\n    To prevent cross-site request forgery, we set an ``_xsrf``\n    cookie and include the same value as a non-cookie\n    field with all ``POST`` requests. If the two do not match, we\n    reject the form submission as a potential forgery.\n\n    The ``_xsrf`` value may be set as either a form field named ``_xsrf``\n    or in a custom HTTP header named ``X-XSRFToken`` or ``X-CSRFToken``\n    (the latter is accepted for compatibility with Django).\n\n    See http://en.wikipedia.org/wiki/Cross-site_request_forgery\n\n    Prior to release 1.1.1, this check was ignored if the HTTP header\n    ``X-Requested-With: XMLHTTPRequest`` was present.  This exception\n    has been shown to be insecure and has been removed.  For more\n    information please see\n    http://www.djangoproject.com/weblog/2011/feb/08/security/\n    http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails\n\n    .. versionchanged:: 3.2.2\n       Added support for cookie version 2.  Both versions 1 and 2 are\n       supported.\n    \"\"\"\n    token = self.get_argument('_xsrf', None) or self.request.headers.get('X-Xsrftoken') or self.request.headers.get('X-Csrftoken')\n    if not token:\n        raise HTTPError(403, \"'_xsrf' argument missing from POST\")\n    _, token, _ = self._decode_xsrf_token(token)\n    _, expected_token, _ = self._get_raw_xsrf_token()\n    if not token:\n        raise HTTPError(403, \"'_xsrf' argument has invalid format\")\n    if not _time_independent_equals(utf8(token), utf8(expected_token)):\n        raise HTTPError(403, 'XSRF cookie does not match POST argument')",
                            "def xsrf_form_html(self):\n    \"\"\"An HTML ``<input/>`` element to be included with all POST forms.\n\n    It defines the ``_xsrf`` input value, which we check on all POST\n    requests to prevent cross-site request forgery. If you have set\n    the ``xsrf_cookies`` application setting, you must include this\n    HTML within all of your HTML forms.\n\n    In a template, this method should be called with ``{% module\n    xsrf_form_html() %}``\n\n    See `check_xsrf_cookie()` above for more information.\n    \"\"\"\n    return '<input type=\"hidden\" name=\"_xsrf\" value=\"' + escape.xhtml_escape(self.xsrf_token) + '\"/>'",
                            "def static_url(self, path, include_host=None, **kwargs):\n    \"\"\"Returns a static URL for the given relative static file path.\n\n    This method requires you set the ``static_path`` setting in your\n    application (which specifies the root directory of your static\n    files).\n\n    This method returns a versioned url (by default appending\n    ``?v=<signature>``), which allows the static files to be\n    cached indefinitely.  This can be disabled by passing\n    ``include_version=False`` (in the default implementation;\n    other static file implementations are not required to support\n    this, but they may support other options).\n\n    By default this method returns URLs relative to the current\n    host, but if ``include_host`` is true the URL returned will be\n    absolute.  If this handler has an ``include_host`` attribute,\n    that value will be used as the default for all `static_url`\n    calls that do not pass ``include_host`` as a keyword argument.\n\n    \"\"\"\n    self.require_setting('static_path', 'static_url')\n    get_url = self.settings.get('static_handler_class', StaticFileHandler).make_static_url\n    if include_host is None:\n        include_host = getattr(self, 'include_host', False)\n    if include_host:\n        base = self.request.protocol + '://' + self.request.host\n    else:\n        base = ''\n    return base + get_url(self.settings, path, **kwargs)",
                            "def require_setting(self, name, feature='this feature'):\n    \"\"\"Raises an exception if the given app setting is not defined.\"\"\"\n    if not self.application.settings.get(name):\n        raise Exception(\"You must define the '%s' setting in your application to use %s\" % (name, feature))",
                            "def reverse_url(self, name, *args):\n    \"\"\"Alias for `Application.reverse_url`.\"\"\"\n    return self.application.reverse_url(name, *args)",
                            "def compute_etag(self):\n    \"\"\"Computes the etag header to be used for this request.\n\n    By default uses a hash of the content written so far.\n\n    May be overridden to provide custom etag implementations,\n    or may return None to disable tornado's default etag support.\n    \"\"\"\n    hasher = hashlib.sha1()\n    for part in self._write_buffer:\n        hasher.update(part)\n    return '\"%s\"' % hasher.hexdigest()",
                            "def set_etag_header(self):\n    \"\"\"Sets the response's Etag header using ``self.compute_etag()``.\n\n    Note: no header will be set if ``compute_etag()`` returns ``None``.\n\n    This method is called automatically when the request is finished.\n    \"\"\"\n    etag = self.compute_etag()\n    if etag is not None:\n        self.set_header('Etag', etag)",
                            "def check_etag_header(self):\n    \"\"\"Checks the ``Etag`` header against requests's ``If-None-Match``.\n\n    Returns ``True`` if the request's Etag matches and a 304 should be\n    returned. For example::\n\n        self.set_etag_header()\n        if self.check_etag_header():\n            self.set_status(304)\n            return\n\n    This method is called automatically when the request is finished,\n    but may be called earlier for applications that override\n    `compute_etag` and want to do an early check for ``If-None-Match``\n    before completing the request.  The ``Etag`` header should be set\n    (perhaps with `set_etag_header`) before calling this method.\n    \"\"\"\n    computed_etag = utf8(self._headers.get('Etag', ''))\n    etags = re.findall(b'\\\\*|(?:W/)?\"[^\"]*\"', utf8(self.request.headers.get('If-None-Match', '')))\n    if not computed_etag or not etags:\n        return False\n    match = False\n    if etags[0] == b'*':\n        match = True\n    else:\n\n        def val(x):\n            return x[2:] if x.startswith(b'W/') else x\n        for etag in etags:\n            if val(etag) == val(computed_etag):\n                match = True\n                break\n    return match",
                            "def _stack_context_handle_exception(self, type, value, traceback):\n    try:\n        raise_exc_info((type, value, traceback))\n    except Exception:\n        self._handle_request_exception(value)\n    return True",
                            "@gen.coroutine\ndef _execute(self, transforms, *args, **kwargs):\n    \"\"\"Executes this request with the given output transforms.\"\"\"\n    self._transforms = transforms\n    try:\n        if self.request.method not in self.SUPPORTED_METHODS:\n            raise HTTPError(405)\n        self.path_args = [self.decode_argument(arg) for arg in args]\n        self.path_kwargs = dict(((k, self.decode_argument(v, name=k)) for k, v in kwargs.items()))\n        if self.request.method not in ('GET', 'HEAD', 'OPTIONS') and self.application.settings.get('xsrf_cookies'):\n            self.check_xsrf_cookie()\n        result = self.prepare()\n        if result is not None:\n            result = (yield result)\n        if self._prepared_future is not None:\n            self._prepared_future.set_result(None)\n        if self._finished:\n            return\n        if _has_stream_request_body(self.__class__):\n            try:\n                yield self.request.body\n            except iostream.StreamClosedError:\n                return\n        method = getattr(self, self.request.method.lower())\n        result = method(*self.path_args, **self.path_kwargs)\n        if result is not None:\n            result = (yield result)\n        if self._auto_finish and (not self._finished):\n            self.finish()\n    except Exception as e:\n        try:\n            self._handle_request_exception(e)\n        except Exception:\n            app_log.error('Exception in exception handler', exc_info=True)\n        if self._prepared_future is not None and (not self._prepared_future.done()):\n            self._prepared_future.set_result(None)",
                            "def data_received(self, chunk):\n    \"\"\"Implement this method to handle streamed request data.\n\n    Requires the `.stream_request_body` decorator.\n    \"\"\"\n    raise NotImplementedError()",
                            "def _log(self):\n    \"\"\"Logs the current request.\n\n    Sort of deprecated since this functionality was moved to the\n    Application, but left in place for the benefit of existing apps\n    that have overridden this method.\n    \"\"\"\n    self.application.log_request(self)",
                            "def _request_summary(self):\n    return '%s %s (%s)' % (self.request.method, self.request.uri, self.request.remote_ip)",
                            "def _handle_request_exception(self, e):\n    if isinstance(e, Finish):\n        if not self._finished:\n            self.finish(*e.args)\n        return\n    try:\n        self.log_exception(*sys.exc_info())\n    except Exception:\n        app_log.error('Error in exception logger', exc_info=True)\n    if self._finished:\n        return\n    if isinstance(e, HTTPError):\n        if e.status_code not in httputil.responses and (not e.reason):\n            gen_log.error('Bad HTTP status code: %d', e.status_code)\n            self.send_error(500, exc_info=sys.exc_info())\n        else:\n            self.send_error(e.status_code, exc_info=sys.exc_info())\n    else:\n        self.send_error(500, exc_info=sys.exc_info())",
                            "def log_exception(self, typ, value, tb):\n    \"\"\"Override to customize logging of uncaught exceptions.\n\n    By default logs instances of `HTTPError` as warnings without\n    stack traces (on the ``tornado.general`` logger), and all\n    other exceptions as errors with stack traces (on the\n    ``tornado.application`` logger).\n\n    .. versionadded:: 3.1\n    \"\"\"\n    if isinstance(value, HTTPError):\n        if value.log_message:\n            format = '%d %s: ' + value.log_message\n            args = [value.status_code, self._request_summary()] + list(value.args)\n            gen_log.warning(format, *args)\n    else:\n        app_log.error('Uncaught exception %s\\n%r', self._request_summary(), self.request, exc_info=(typ, value, tb))",
                            "def _ui_module(self, name, module):\n\n    def render(*args, **kwargs):\n        if not hasattr(self, '_active_modules'):\n            self._active_modules = {}\n        if name not in self._active_modules:\n            self._active_modules[name] = module(self)\n        rendered = self._active_modules[name].render(*args, **kwargs)\n        return rendered\n    return render",
                            "def _ui_method(self, method):\n    return lambda *args, **kwargs: method(self, *args, **kwargs)",
                            "def _clear_headers_for_304(self):\n    headers = ['Allow', 'Content-Encoding', 'Content-Language', 'Content-Length', 'Content-MD5', 'Content-Range', 'Content-Type', 'Last-Modified']\n    for h in headers:\n        self.clear_header(h)",
                            "def render(*args, **kwargs):\n    if not hasattr(self, '_active_modules'):\n        self._active_modules = {}\n    if name not in self._active_modules:\n        self._active_modules[name] = module(self)\n    rendered = self._active_modules[name].render(*args, **kwargs)\n    return rendered",
                            "def val(x):\n    return x[2:] if x.startswith(b'W/') else x"
                        ],
                        "constructor_variables": [
                            "_auto_finish",
                            "ui",
                            "_transforms",
                            "path_args",
                            "_headers",
                            "_headers_written",
                            "_finished",
                            "application",
                            "path_kwargs",
                            "request",
                            "_prepared_future"
                        ],
                        "class_level_variables": [
                            "SUPPORTED_METHODS",
                            "_template_loaders",
                            "_template_loader_lock",
                            "_remove_control_chars_regex",
                            "_INVALID_HEADER_CHAR_RE",
                            "_ARG_DEFAULT"
                        ],
                        "class_decorators": [],
                        "function_signatures": [
                            "__init__(self, application, request, **kwargs)",
                            "initialize(self)",
                            "settings(self)",
                            "head(self, *args, **kwargs)",
                            "get(self, *args, **kwargs)",
                            "post(self, *args, **kwargs)",
                            "delete(self, *args, **kwargs)",
                            "patch(self, *args, **kwargs)",
                            "put(self, *args, **kwargs)",
                            "options(self, *args, **kwargs)",
                            "prepare(self)",
                            "on_finish(self)",
                            "on_connection_close(self)",
                            "clear(self)",
                            "set_default_headers(self)",
                            "set_status(self, status_code, reason=None)",
                            "get_status(self)",
                            "set_header(self, name, value)",
                            "add_header(self, name, value)",
                            "clear_header(self, name)",
                            "_convert_header_value(self, value)",
                            "get_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                            "get_arguments(self, name, strip=True)",
                            "get_body_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                            "get_body_arguments(self, name, strip=True)",
                            "get_query_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                            "get_query_arguments(self, name, strip=True)",
                            "_get_argument(self, name, default, source, strip=True)",
                            "_get_arguments(self, name, source, strip=True)",
                            "decode_argument(self, value, name=None)",
                            "cookies(self)",
                            "get_cookie(self, name, default=None)",
                            "set_cookie(self, name, value, domain=None, expires=None, path='/', expires_days=None, **kwargs)",
                            "clear_cookie(self, name, path='/', domain=None)",
                            "clear_all_cookies(self, path='/', domain=None)",
                            "set_secure_cookie(self, name, value, expires_days=30, version=None, **kwargs)",
                            "create_signed_value(self, name, value, version=None)",
                            "get_secure_cookie(self, name, value=None, max_age_days=31, min_version=None)",
                            "get_secure_cookie_key_version(self, name, value=None)",
                            "redirect(self, url, permanent=False, status=None)",
                            "write(self, chunk)",
                            "render(self, template_name, **kwargs)",
                            "render_linked_js(self, js_files)",
                            "render_embed_js(self, js_embed)",
                            "render_linked_css(self, css_files)",
                            "render_embed_css(self, css_embed)",
                            "render_string(self, template_name, **kwargs)",
                            "get_template_namespace(self)",
                            "create_template_loader(self, template_path)",
                            "flush(self, include_footers=False, callback=None)",
                            "finish(self, chunk=None)",
                            "send_error(self, status_code=500, **kwargs)",
                            "write_error(self, status_code, **kwargs)",
                            "locale(self)",
                            "locale(self, value)",
                            "get_user_locale(self)",
                            "get_browser_locale(self, default='en_US')",
                            "current_user(self)",
                            "current_user(self, value)",
                            "get_current_user(self)",
                            "get_login_url(self)",
                            "get_template_path(self)",
                            "xsrf_token(self)",
                            "_get_raw_xsrf_token(self)",
                            "_decode_xsrf_token(self, cookie)",
                            "check_xsrf_cookie(self)",
                            "xsrf_form_html(self)",
                            "static_url(self, path, include_host=None, **kwargs)",
                            "require_setting(self, name, feature='this feature')",
                            "reverse_url(self, name, *args)",
                            "compute_etag(self)",
                            "set_etag_header(self)",
                            "check_etag_header(self)",
                            "_stack_context_handle_exception(self, type, value, traceback)",
                            "_execute(self, transforms, *args, **kwargs)",
                            "data_received(self, chunk)",
                            "_log(self)",
                            "_request_summary(self)",
                            "_handle_request_exception(self, e)",
                            "log_exception(self, typ, value, tb)",
                            "_ui_module(self, name, module)",
                            "_ui_method(self, method)",
                            "_clear_headers_for_304(self)",
                            "render(*args, **kwargs)",
                            "val(x)"
                        ]
                    },
                    "variable_values": [
                        [
                            {
                                "self._finished": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>",
                                    "variable_type": "RenderMessageHandler",
                                    "variable_shape": null
                                },
                                "chunk": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.write": {
                                    "variable_value": "<bound method RequestHandler.write of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._headers_written": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self._status_code": {
                                    "variable_value": "101",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "self.request.method": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.request": {
                                    "variable_value": "HTTPServerRequest(protocol='http', host='127.0.0.1:59275', method='GET', uri='/render', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Upgrade': 'websocket', 'Connection': 'Upgrade', 'Sec-Websocket-Key': '7El23/aEdY9GNHjbzVkt1A==', 'Sec-Websocket-Version': '13', 'Host': '127.0.0.1:59275', 'Accept-Encoding': 'gzip'})",
                                    "variable_type": "HTTPServerRequest",
                                    "variable_shape": null
                                },
                                "self._headers": {
                                    "variable_value": "<tornado.httputil.HTTPHeaders object at 0x10aa85f90>",
                                    "variable_type": "HTTPHeaders",
                                    "variable_shape": "5"
                                },
                                "self.set_etag_header": {
                                    "variable_value": "<bound method RequestHandler.set_etag_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.check_etag_header": {
                                    "variable_value": "<bound method RequestHandler.check_etag_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._write_buffer": {
                                    "variable_value": "[]",
                                    "variable_type": "list",
                                    "variable_shape": "0"
                                },
                                "self.set_status": {
                                    "variable_value": "<bound method RequestHandler.set_status of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._clear_headers_for_304": {
                                    "variable_value": "<bound method RequestHandler._clear_headers_for_304 of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "content_length": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "part": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.set_header": {
                                    "variable_value": "<bound method RequestHandler.set_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.request.connection.set_close_callback": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.request.connection": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.flush": {
                                    "variable_value": "<bound method RequestHandler.flush of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.request.finish": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self._log": {
                                    "variable_value": "<bound method RequestHandler._log of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.on_finish": {
                                    "variable_value": "<bound method RequestHandler.on_finish of <tornado.test.websocket_test.RenderMessageHandler object at 0x10aa857d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.ui": {
                                    "variable_value": "{'_tt_modules': <tornado.web._UIModuleNamespace object at 0x10aa85ed0>, 'modules': <tornado.web._UIModuleNamespace object at 0x10aa85ed0>}",
                                    "variable_type": "ObjectDict",
                                    "variable_shape": "2"
                                }
                            },
                            {}
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "self._finished": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>",
                                    "variable_type": "RenderMessageHandler",
                                    "variable_shape": null
                                },
                                "chunk": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.write": {
                                    "variable_value": "<bound method RequestHandler.write of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._headers_written": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self._status_code": {
                                    "variable_value": "101",
                                    "variable_type": "int",
                                    "variable_shape": null
                                },
                                "self.request.method": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.request": {
                                    "variable_value": "HTTPServerRequest(protocol='http', host='127.0.0.1:59279', method='GET', uri='/render', version='HTTP/1.1', remote_ip='127.0.0.1', headers={'Upgrade': 'websocket', 'Connection': 'Upgrade', 'Sec-Websocket-Key': '5+e6tqtZ2GQhAtDXnl9Aag==', 'Sec-Websocket-Version': '13', 'Host': '127.0.0.1:59279', 'Accept-Encoding': 'gzip'})",
                                    "variable_type": "HTTPServerRequest",
                                    "variable_shape": null
                                },
                                "self._headers": {
                                    "variable_value": "<tornado.httputil.HTTPHeaders object at 0x107825e90>",
                                    "variable_type": "HTTPHeaders",
                                    "variable_shape": "5"
                                },
                                "self.set_etag_header": {
                                    "variable_value": "<bound method RequestHandler.set_etag_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.check_etag_header": {
                                    "variable_value": "<bound method RequestHandler.check_etag_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._write_buffer": {
                                    "variable_value": "[]",
                                    "variable_type": "list",
                                    "variable_shape": "0"
                                },
                                "self.set_status": {
                                    "variable_value": "<bound method RequestHandler.set_status of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._clear_headers_for_304": {
                                    "variable_value": "<bound method RequestHandler._clear_headers_for_304 of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "content_length": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "part": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.set_header": {
                                    "variable_value": "<bound method RequestHandler.set_header of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.request.connection.set_close_callback": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.request.connection": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.flush": {
                                    "variable_value": "<bound method RequestHandler.flush of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.request.finish": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self._log": {
                                    "variable_value": "<bound method RequestHandler._log of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self.on_finish": {
                                    "variable_value": "<bound method RequestHandler.on_finish of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._break_cycles": {
                                    "variable_value": "<bound method WebSocketHandler._break_cycles of <tornado.test.websocket_test.RenderMessageHandler object at 0x107825f10>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                }
                            },
                            {}
                        ]
                    ]
                }
            ],
            "inscope_functions": [
                "def asynchronous(method):\n    \"\"\"Wrap request handler methods with this if they are asynchronous.\n\n    This decorator is for callback-style asynchronous methods; for\n    coroutines, use the ``@gen.coroutine`` decorator without\n    ``@asynchronous``. (It is legal for legacy reasons to use the two\n    decorators together provided ``@asynchronous`` is first, but\n    ``@asynchronous`` will be ignored in this case)\n\n    This decorator should only be applied to the :ref:`HTTP verb\n    methods <verbs>`; its behavior is undefined for any other method.\n    This decorator does not *make* a method asynchronous; it tells\n    the framework that the method *is* asynchronous.  For this decorator\n    to be useful the method must (at least sometimes) do something\n    asynchronous.\n\n    If this decorator is given, the response is not finished when the\n    method returns. It is up to the request handler to call\n    `self.finish() <RequestHandler.finish>` to finish the HTTP\n    request. Without this decorator, the request is automatically\n    finished when the ``get()`` or ``post()`` method returns. Example:\n\n    .. testcode::\n\n       class MyRequestHandler(RequestHandler):\n           @asynchronous\n           def get(self):\n              http = httpclient.AsyncHTTPClient()\n              http.fetch(\"http://friendfeed.com/\", self._on_download)\n\n           def _on_download(self, response):\n              self.write(\"Downloaded!\")\n              self.finish()\n\n    .. testoutput::\n       :hide:\n\n    .. versionchanged:: 3.1\n       The ability to use ``@gen.coroutine`` without ``@asynchronous``.\n\n    .. versionchanged:: 4.3 Returning anything but ``None`` or a\n       yieldable object from a method decorated with ``@asynchronous``\n       is an error. Such return values were previously ignored silently.\n    \"\"\"\n    # Delay the IOLoop import because it's not available on app engine.\n    from tornado.ioloop import IOLoop\n\n    @functools.wraps(method)\n    def wrapper(self, *args, **kwargs):\n        self._auto_finish = False\n        with stack_context.ExceptionStackContext(\n                self._stack_context_handle_exception):\n            result = method(self, *args, **kwargs)\n            if result is not None:\n                result = gen.convert_yielded(result)\n\n                # If @asynchronous is used with @gen.coroutine, (but\n                # not @gen.engine), we can automatically finish the\n                # request when the future resolves.  Additionally,\n                # the Future will swallow any exceptions so we need\n                # to throw them back out to the stack context to finish\n                # the request.\n                def future_complete(f):\n                    f.result()\n                    if not self._finished:\n                        self.finish()\n                IOLoop.current().add_future(result, future_complete)\n                # Once we have done this, hide the Future from our\n                # caller (i.e. RequestHandler._when_complete), which\n                # would otherwise set up its own callback and\n                # exception handler (resulting in exceptions being\n                # logged twice).\n                return None\n            return result\n    return wrapper",
                "def stream_request_body(cls):\n    \"\"\"Apply to `RequestHandler` subclasses to enable streaming body support.\n\n    This decorator implies the following changes:\n\n    * `.HTTPServerRequest.body` is undefined, and body arguments will not\n      be included in `RequestHandler.get_argument`.\n    * `RequestHandler.prepare` is called when the request headers have been\n      read instead of after the entire body has been read.\n    * The subclass must define a method ``data_received(self, data):``, which\n      will be called zero or more times as data is available.  Note that\n      if the request has an empty body, ``data_received`` may not be called.\n    * ``prepare`` and ``data_received`` may return Futures (such as via\n      ``@gen.coroutine``, in which case the next method will not be called\n      until those futures have completed.\n    * The regular HTTP method (``post``, ``put``, etc) will be called after\n      the entire body has been read.\n\n    See the `file receiver demo <https://github.com/tornadoweb/tornado/tree/master/demos/file_upload/>`_\n    for example usage.\n    \"\"\"\n    if not issubclass(cls, RequestHandler):\n        raise TypeError(\"expected subclass of RequestHandler, got %r\", cls)\n    cls._stream_request_body = True\n    return cls",
                "def _has_stream_request_body(cls):\n    if not issubclass(cls, RequestHandler):\n        raise TypeError(\"expected subclass of RequestHandler, got %r\", cls)\n    return getattr(cls, '_stream_request_body', False)",
                "def removeslash(method):\n    \"\"\"Use this decorator to remove trailing slashes from the request path.\n\n    For example, a request to ``/foo/`` would redirect to ``/foo`` with this\n    decorator. Your request handler mapping should use a regular expression\n    like ``r'/foo/*'`` in conjunction with using the decorator.\n    \"\"\"\n    @functools.wraps(method)\n    def wrapper(self, *args, **kwargs):\n        if self.request.path.endswith(\"/\"):\n            if self.request.method in (\"GET\", \"HEAD\"):\n                uri = self.request.path.rstrip(\"/\")\n                if uri:  # don't try to redirect '/' to ''\n                    if self.request.query:\n                        uri += \"?\" + self.request.query\n                    self.redirect(uri, permanent=True)\n                    return\n            else:\n                raise HTTPError(404)\n        return method(self, *args, **kwargs)\n    return wrapper",
                "def addslash(method):\n    \"\"\"Use this decorator to add a missing trailing slash to the request path.\n\n    For example, a request to ``/foo`` would redirect to ``/foo/`` with this\n    decorator. Your request handler mapping should use a regular expression\n    like ``r'/foo/?'`` in conjunction with using the decorator.\n    \"\"\"\n    @functools.wraps(method)\n    def wrapper(self, *args, **kwargs):\n        if not self.request.path.endswith(\"/\"):\n            if self.request.method in (\"GET\", \"HEAD\"):\n                uri = self.request.path + \"/\"\n                if self.request.query:\n                    uri += \"?\" + self.request.query\n                self.redirect(uri, permanent=True)\n                return\n            raise HTTPError(404)\n        return method(self, *args, **kwargs)\n    return wrapper",
                "def authenticated(method):\n    \"\"\"Decorate methods with this to require that the user be logged in.\n\n    If the user is not logged in, they will be redirected to the configured\n    `login url <RequestHandler.get_login_url>`.\n\n    If you configure a login url with a query parameter, Tornado will\n    assume you know what you're doing and use it as-is.  If not, it\n    will add a `next` parameter so the login page knows where to send\n    you once you're logged in.\n    \"\"\"\n    @functools.wraps(method)\n    def wrapper(self, *args, **kwargs):\n        if not self.current_user:\n            if self.request.method in (\"GET\", \"HEAD\"):\n                url = self.get_login_url()\n                if \"?\" not in url:\n                    if urlparse.urlsplit(url).scheme:\n                        # if login url is absolute, make next absolute too\n                        next_url = self.request.full_url()\n                    else:\n                        next_url = self.request.uri\n                    url += \"?\" + urlencode(dict(next=next_url))\n                self.redirect(url)\n                return\n            raise HTTPError(403)\n        return method(self, *args, **kwargs)\n    return wrapper",
                "def create_signed_value(secret, name, value, version=None, clock=None,\n                        key_version=None):\n    if version is None:\n        version = DEFAULT_SIGNED_VALUE_VERSION\n    if clock is None:\n        clock = time.time\n\n    timestamp = utf8(str(int(clock())))\n    value = base64.b64encode(utf8(value))\n    if version == 1:\n        signature = _create_signature_v1(secret, name, value, timestamp)\n        value = b\"|\".join([value, timestamp, signature])\n        return value\n    elif version == 2:\n        # The v2 format consists of a version number and a series of\n        # length-prefixed fields \"%d:%s\", the last of which is a\n        # signature, all separated by pipes.  All numbers are in\n        # decimal format with no leading zeros.  The signature is an\n        # HMAC-SHA256 of the whole string up to that point, including\n        # the final pipe.\n        #\n        # The fields are:\n        # - format version (i.e. 2; no length prefix)\n        # - key version (integer, default is 0)\n        # - timestamp (integer seconds since epoch)\n        # - name (not encoded; assumed to be ~alphanumeric)\n        # - value (base64-encoded)\n        # - signature (hex-encoded; no length prefix)\n        def format_field(s):\n            return utf8(\"%d:\" % len(s)) + utf8(s)\n        to_sign = b\"|\".join([\n            b\"2\",\n            format_field(str(key_version or 0)),\n            format_field(timestamp),\n            format_field(name),\n            format_field(value),\n            b''])\n\n        if isinstance(secret, dict):\n            assert key_version is not None, 'Key version must be set when sign key dict is used'\n            assert version >= 2, 'Version must be at least 2 for key version support'\n            secret = secret[key_version]\n\n        signature = _create_signature_v2(secret, to_sign)\n        return to_sign + signature\n    else:\n        raise ValueError(\"Unsupported version %d\" % version)",
                "def _get_version(value):\n    # Figures out what version value is.  Version 1 did not include an\n    # explicit version field and started with arbitrary base64 data,\n    # which makes this tricky.\n    m = _signed_value_version_re.match(value)\n    if m is None:\n        version = 1\n    else:\n        try:\n            version = int(m.group(1))\n            if version > 999:\n                # Certain payloads from the version-less v1 format may\n                # be parsed as valid integers.  Due to base64 padding\n                # restrictions, this can only happen for numbers whose\n                # length is a multiple of 4, so we can treat all\n                # numbers up to 999 as versions, and for the rest we\n                # fall back to v1 format.\n                version = 1\n        except ValueError:\n            version = 1\n    return version",
                "def decode_signed_value(secret, name, value, max_age_days=31,\n                        clock=None, min_version=None):\n    if clock is None:\n        clock = time.time\n    if min_version is None:\n        min_version = DEFAULT_SIGNED_VALUE_MIN_VERSION\n    if min_version > 2:\n        raise ValueError(\"Unsupported min_version %d\" % min_version)\n    if not value:\n        return None\n\n    value = utf8(value)\n    version = _get_version(value)\n\n    if version < min_version:\n        return None\n    if version == 1:\n        return _decode_signed_value_v1(secret, name, value,\n                                       max_age_days, clock)\n    elif version == 2:\n        return _decode_signed_value_v2(secret, name, value,\n                                       max_age_days, clock)\n    else:\n        return None",
                "def _decode_signed_value_v1(secret, name, value, max_age_days, clock):\n    parts = utf8(value).split(b\"|\")\n    if len(parts) != 3:\n        return None\n    signature = _create_signature_v1(secret, name, parts[0], parts[1])\n    if not _time_independent_equals(parts[2], signature):\n        gen_log.warning(\"Invalid cookie signature %r\", value)\n        return None\n    timestamp = int(parts[1])\n    if timestamp < clock() - max_age_days * 86400:\n        gen_log.warning(\"Expired cookie %r\", value)\n        return None\n    if timestamp > clock() + 31 * 86400:\n        # _cookie_signature does not hash a delimiter between the\n        # parts of the cookie, so an attacker could transfer trailing\n        # digits from the payload to the timestamp without altering the\n        # signature.  For backwards compatibility, sanity-check timestamp\n        # here instead of modifying _cookie_signature.\n        gen_log.warning(\"Cookie timestamp in future; possible tampering %r\",\n                        value)\n        return None\n    if parts[1].startswith(b\"0\"):\n        gen_log.warning(\"Tampered cookie %r\", value)\n        return None\n    try:\n        return base64.b64decode(parts[0])\n    except Exception:\n        return None",
                "def _decode_fields_v2(value):\n    def _consume_field(s):\n        length, _, rest = s.partition(b':')\n        n = int(length)\n        field_value = rest[:n]\n        # In python 3, indexing bytes returns small integers; we must\n        # use a slice to get a byte string as in python 2.\n        if rest[n:n + 1] != b'|':\n            raise ValueError(\"malformed v2 signed value field\")\n        rest = rest[n + 1:]\n        return field_value, rest\n\n    rest = value[2:]  # remove version number\n    key_version, rest = _consume_field(rest)\n    timestamp, rest = _consume_field(rest)\n    name_field, rest = _consume_field(rest)\n    value_field, passed_sig = _consume_field(rest)\n    return int(key_version), timestamp, name_field, value_field, passed_sig",
                "def _decode_signed_value_v2(secret, name, value, max_age_days, clock):\n    try:\n        key_version, timestamp, name_field, value_field, passed_sig = _decode_fields_v2(value)\n    except ValueError:\n        return None\n    signed_string = value[:-len(passed_sig)]\n\n    if isinstance(secret, dict):\n        try:\n            secret = secret[key_version]\n        except KeyError:\n            return None\n\n    expected_sig = _create_signature_v2(secret, signed_string)\n    if not _time_independent_equals(passed_sig, expected_sig):\n        return None\n    if name_field != utf8(name):\n        return None\n    timestamp = int(timestamp)\n    if timestamp < clock() - max_age_days * 86400:\n        # The signature has expired.\n        return None\n    try:\n        return base64.b64decode(value_field)\n    except Exception:\n        return None",
                "def get_signature_key_version(value):\n    value = utf8(value)\n    version = _get_version(value)\n    if version < 2:\n        return None\n    try:\n        key_version, _, _, _, _ = _decode_fields_v2(value)\n    except ValueError:\n        return None\n\n    return key_version",
                "def _create_signature_v1(secret, *parts):\n    hash = hmac.new(utf8(secret), digestmod=hashlib.sha1)\n    for part in parts:\n        hash.update(utf8(part))\n    return utf8(hash.hexdigest())",
                "def _create_signature_v2(secret, s):\n    hash = hmac.new(utf8(secret), digestmod=hashlib.sha256)\n    hash.update(utf8(s))\n    return utf8(hash.hexdigest())",
                "def is_absolute(path):\n    return any(path.startswith(x) for x in [\"/\", \"http:\", \"https:\"])",
                "def __init__(self, application, request, **kwargs):\n    super(RequestHandler, self).__init__()\n\n    self.application = application\n    self.request = request\n    self._headers_written = False\n    self._finished = False\n    self._auto_finish = True\n    self._transforms = None  # will be set in _execute\n    self._prepared_future = None\n    self._headers = None  # type: httputil.HTTPHeaders\n    self.path_args = None\n    self.path_kwargs = None\n    self.ui = ObjectDict((n, self._ui_method(m)) for n, m in\n                         application.ui_methods.items())\n    # UIModules are available as both `modules` and `_tt_modules` in the\n    # template namespace.  Historically only `modules` was available\n    # but could be clobbered by user additions to the namespace.\n    # The template {% module %} directive looks in `_tt_modules` to avoid\n    # possible conflicts.\n    self.ui[\"_tt_modules\"] = _UIModuleNamespace(self,\n                                                application.ui_modules)\n    self.ui[\"modules\"] = self.ui[\"_tt_modules\"]\n    self.clear()\n    self.request.connection.set_close_callback(self.on_connection_close)\n    self.initialize(**kwargs)",
                "def initialize(self):\n    \"\"\"Hook for subclass initialization. Called for each request.\n\n    A dictionary passed as the third argument of a url spec will be\n    supplied as keyword arguments to initialize().\n\n    Example::\n\n        class ProfileHandler(RequestHandler):\n            def initialize(self, database):\n                self.database = database\n\n            def get(self, username):\n                ...\n\n        app = Application([\n            (r'/user/(.*)', ProfileHandler, dict(database=database)),\n            ])\n    \"\"\"\n    pass",
                "@property\ndef settings(self):\n    \"\"\"An alias for `self.application.settings <Application.settings>`.\"\"\"\n    return self.application.settings",
                "def head(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def get(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def post(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def delete(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def patch(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def put(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def options(self, *args, **kwargs):\n    raise HTTPError(405)",
                "def prepare(self):\n    \"\"\"Called at the beginning of a request before  `get`/`post`/etc.\n\n    Override this method to perform common initialization regardless\n    of the request method.\n\n    Asynchronous support: Decorate this method with `.gen.coroutine`\n    or `.return_future` to make it asynchronous (the\n    `asynchronous` decorator cannot be used on `prepare`).\n    If this method returns a `.Future` execution will not proceed\n    until the `.Future` is done.\n\n    .. versionadded:: 3.1\n       Asynchronous support.\n    \"\"\"\n    pass",
                "def on_finish(self):\n    \"\"\"Called after the end of a request.\n\n    Override this method to perform cleanup, logging, etc.\n    This method is a counterpart to `prepare`.  ``on_finish`` may\n    not produce any output, as it is called after the response\n    has been sent to the client.\n    \"\"\"\n    pass",
                "def on_connection_close(self):\n    \"\"\"Called in async handlers if the client closed the connection.\n\n    Override this to clean up resources associated with\n    long-lived connections.  Note that this method is called only if\n    the connection was closed during asynchronous processing; if you\n    need to do cleanup after every request override `on_finish`\n    instead.\n\n    Proxies may keep a connection open for a time (perhaps\n    indefinitely) after the client has gone away, so this method\n    may not be called promptly after the end user closes their\n    connection.\n    \"\"\"\n    if _has_stream_request_body(self.__class__):\n        if not self.request.body.done():\n            self.request.body.set_exception(iostream.StreamClosedError())\n            self.request.body.exception()",
                "def clear(self):\n    \"\"\"Resets all headers and content for this response.\"\"\"\n    self._headers = httputil.HTTPHeaders({\n        \"Server\": \"TornadoServer/%s\" % tornado.version,\n        \"Content-Type\": \"text/html; charset=UTF-8\",\n        \"Date\": httputil.format_timestamp(time.time()),\n    })\n    self.set_default_headers()\n    self._write_buffer = []\n    self._status_code = 200\n    self._reason = httputil.responses[200]",
                "def set_default_headers(self):\n    \"\"\"Override this to set HTTP headers at the beginning of the request.\n\n    For example, this is the place to set a custom ``Server`` header.\n    Note that setting such headers in the normal flow of request\n    processing may not do what you want, since headers may be reset\n    during error handling.\n    \"\"\"\n    pass",
                "def set_status(self, status_code, reason=None):\n    \"\"\"Sets the status code for our response.\n\n    :arg int status_code: Response status code. If ``reason`` is ``None``,\n        it must be present in `httplib.responses <http.client.responses>`.\n    :arg string reason: Human-readable reason phrase describing the status\n        code. If ``None``, it will be filled in from\n        `httplib.responses <http.client.responses>`.\n    \"\"\"\n    self._status_code = status_code\n    if reason is not None:\n        self._reason = escape.native_str(reason)\n    else:\n        try:\n            self._reason = httputil.responses[status_code]\n        except KeyError:\n            raise ValueError(\"unknown status code %d\" % status_code)",
                "def get_status(self):\n    \"\"\"Returns the status code for our response.\"\"\"\n    return self._status_code",
                "def set_header(self, name, value):\n    # type: (str, _HeaderTypes) -> None\n    \"\"\"Sets the given response header name and value.\n\n    If a datetime is given, we automatically format it according to the\n    HTTP specification. If the value is not a string, we convert it to\n    a string. All header values are then encoded as UTF-8.\n    \"\"\"\n    self._headers[name] = self._convert_header_value(value)",
                "def add_header(self, name, value):\n    # type: (str, _HeaderTypes) -> None\n    \"\"\"Adds the given response header and value.\n\n    Unlike `set_header`, `add_header` may be called multiple times\n    to return multiple values for the same header.\n    \"\"\"\n    self._headers.add(name, self._convert_header_value(value))",
                "def clear_header(self, name):\n    \"\"\"Clears an outgoing header, undoing a previous `set_header` call.\n\n    Note that this method does not apply to multi-valued headers\n    set by `add_header`.\n    \"\"\"\n    if name in self._headers:\n        del self._headers[name]",
                "def _convert_header_value(self, value):\n    # type: (_HeaderTypes) -> str\n\n    # Convert the input value to a str. This type check is a bit\n    # subtle: The bytes case only executes on python 3, and the\n    # unicode case only executes on python 2, because the other\n    # cases are covered by the first match for str.\n    if isinstance(value, str):\n        retval = value\n    elif isinstance(value, bytes):  # py3\n        # Non-ascii characters in headers are not well supported,\n        # but if you pass bytes, use latin1 so they pass through as-is.\n        retval = value.decode('latin1')\n    elif isinstance(value, unicode_type):  # py2\n        # TODO: This is inconsistent with the use of latin1 above,\n        # but it's been that way for a long time. Should it change?\n        retval = escape.utf8(value)\n    elif isinstance(value, numbers.Integral):\n        # return immediately since we know the converted value will be safe\n        return str(value)\n    elif isinstance(value, datetime.datetime):\n        return httputil.format_timestamp(value)\n    else:\n        raise TypeError(\"Unsupported header value %r\" % value)\n    # If \\n is allowed into the header, it is possible to inject\n    # additional headers or split the request.\n    if RequestHandler._INVALID_HEADER_CHAR_RE.search(retval):\n        raise ValueError(\"Unsafe header value %r\", retval)\n    return retval",
                "def get_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n    \"\"\"\n    return self._get_argument(name, default, self.request.arguments, strip)",
                "def get_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n    \"\"\"\n\n    # Make sure `get_arguments` isn't accidentally being called with a\n    # positional argument that's assumed to be a default (like in\n    # `get_argument`.)\n    assert isinstance(strip, bool)\n\n    return self._get_arguments(name, self.request.arguments, strip)",
                "def get_body_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name\n    from the request body.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_argument(name, default, self.request.body_arguments,\n                              strip)",
                "def get_body_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the body arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_arguments(name, self.request.body_arguments, strip)",
                "def get_query_argument(self, name, default=_ARG_DEFAULT, strip=True):\n    \"\"\"Returns the value of the argument with the given name\n    from the request query string.\n\n    If default is not provided, the argument is considered to be\n    required, and we raise a `MissingArgumentError` if it is missing.\n\n    If the argument appears in the url more than once, we return the\n    last value.\n\n    The returned value is always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_argument(name, default,\n                              self.request.query_arguments, strip)",
                "def get_query_arguments(self, name, strip=True):\n    \"\"\"Returns a list of the query arguments with the given name.\n\n    If the argument is not present, returns an empty list.\n\n    The returned values are always unicode.\n\n    .. versionadded:: 3.2\n    \"\"\"\n    return self._get_arguments(name, self.request.query_arguments, strip)",
                "def _get_argument(self, name, default, source, strip=True):\n    args = self._get_arguments(name, source, strip=strip)\n    if not args:\n        if default is self._ARG_DEFAULT:\n            raise MissingArgumentError(name)\n        return default\n    return args[-1]",
                "def _get_arguments(self, name, source, strip=True):\n    values = []\n    for v in source.get(name, []):\n        v = self.decode_argument(v, name=name)\n        if isinstance(v, unicode_type):\n            # Get rid of any weird control chars (unless decoding gave\n            # us bytes, in which case leave it alone)\n            v = RequestHandler._remove_control_chars_regex.sub(\" \", v)\n        if strip:\n            v = v.strip()\n        values.append(v)\n    return values",
                "def decode_argument(self, value, name=None):\n    \"\"\"Decodes an argument from the request.\n\n    The argument has been percent-decoded and is now a byte string.\n    By default, this method decodes the argument as utf-8 and returns\n    a unicode string, but this may be overridden in subclasses.\n\n    This method is used as a filter for both `get_argument()` and for\n    values extracted from the url and passed to `get()`/`post()`/etc.\n\n    The name of the argument is provided if known, but may be None\n    (e.g. for unnamed groups in the url regex).\n    \"\"\"\n    try:\n        return _unicode(value)\n    except UnicodeDecodeError:\n        raise HTTPError(400, \"Invalid unicode in %s: %r\" %\n                        (name or \"url\", value[:40]))",
                "@property\ndef cookies(self):\n    \"\"\"An alias for\n    `self.request.cookies <.httputil.HTTPServerRequest.cookies>`.\"\"\"\n    return self.request.cookies",
                "def get_cookie(self, name, default=None):\n    \"\"\"Gets the value of the cookie with the given name, else default.\"\"\"\n    if self.request.cookies is not None and name in self.request.cookies:\n        return self.request.cookies[name].value\n    return default",
                "def set_cookie(self, name, value, domain=None, expires=None, path=\"/\",\n               expires_days=None, **kwargs):\n    \"\"\"Sets the given cookie name/value with the given options.\n\n    Additional keyword arguments are set on the Cookie.Morsel\n    directly.\n    See https://docs.python.org/2/library/cookie.html#Cookie.Morsel\n    for available attributes.\n    \"\"\"\n    # The cookie library only accepts type str, in both python 2 and 3\n    name = escape.native_str(name)\n    value = escape.native_str(value)\n    if re.search(r\"[\\x00-\\x20]\", name + value):\n        # Don't let us accidentally inject bad stuff\n        raise ValueError(\"Invalid cookie %r: %r\" % (name, value))\n    if not hasattr(self, \"_new_cookie\"):\n        self._new_cookie = Cookie.SimpleCookie()\n    if name in self._new_cookie:\n        del self._new_cookie[name]\n    self._new_cookie[name] = value\n    morsel = self._new_cookie[name]\n    if domain:\n        morsel[\"domain\"] = domain\n    if expires_days is not None and not expires:\n        expires = datetime.datetime.utcnow() + datetime.timedelta(\n            days=expires_days)\n    if expires:\n        morsel[\"expires\"] = httputil.format_timestamp(expires)\n    if path:\n        morsel[\"path\"] = path\n    for k, v in kwargs.items():\n        if k == 'max_age':\n            k = 'max-age'\n\n        # skip falsy values for httponly and secure flags because\n        # SimpleCookie sets them regardless\n        if k in ['httponly', 'secure'] and not v:\n            continue\n\n        morsel[k] = v",
                "def clear_cookie(self, name, path=\"/\", domain=None):\n    \"\"\"Deletes the cookie with the given name.\n\n    Due to limitations of the cookie protocol, you must pass the same\n    path and domain to clear a cookie as were used when that cookie\n    was set (but there is no way to find out on the server side\n    which values were used for a given cookie).\n    \"\"\"\n    expires = datetime.datetime.utcnow() - datetime.timedelta(days=365)\n    self.set_cookie(name, value=\"\", path=path, expires=expires,\n                    domain=domain)",
                "def clear_all_cookies(self, path=\"/\", domain=None):\n    \"\"\"Deletes all the cookies the user sent with this request.\n\n    See `clear_cookie` for more information on the path and domain\n    parameters.\n\n    .. versionchanged:: 3.2\n\n       Added the ``path`` and ``domain`` parameters.\n    \"\"\"\n    for name in self.request.cookies:\n        self.clear_cookie(name, path=path, domain=domain)",
                "def set_secure_cookie(self, name, value, expires_days=30, version=None,\n                      **kwargs):\n    \"\"\"Signs and timestamps a cookie so it cannot be forged.\n\n    You must specify the ``cookie_secret`` setting in your Application\n    to use this method. It should be a long, random sequence of bytes\n    to be used as the HMAC secret for the signature.\n\n    To read a cookie set with this method, use `get_secure_cookie()`.\n\n    Note that the ``expires_days`` parameter sets the lifetime of the\n    cookie in the browser, but is independent of the ``max_age_days``\n    parameter to `get_secure_cookie`.\n\n    Secure cookies may contain arbitrary byte values, not just unicode\n    strings (unlike regular cookies)\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``version`` argument.  Introduced cookie version 2\n       and made it the default.\n    \"\"\"\n    self.set_cookie(name, self.create_signed_value(name, value,\n                                                   version=version),\n                    expires_days=expires_days, **kwargs)",
                "def create_signed_value(self, name, value, version=None):\n    \"\"\"Signs and timestamps a string so it cannot be forged.\n\n    Normally used via set_secure_cookie, but provided as a separate\n    method for non-cookie uses.  To decode a value not stored\n    as a cookie use the optional value argument to get_secure_cookie.\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``version`` argument.  Introduced cookie version 2\n       and made it the default.\n    \"\"\"\n    self.require_setting(\"cookie_secret\", \"secure cookies\")\n    secret = self.application.settings[\"cookie_secret\"]\n    key_version = None\n    if isinstance(secret, dict):\n        if self.application.settings.get(\"key_version\") is None:\n            raise Exception(\"key_version setting must be used for secret_key dicts\")\n        key_version = self.application.settings[\"key_version\"]\n\n    return create_signed_value(secret, name, value, version=version,\n                               key_version=key_version)",
                "def get_secure_cookie(self, name, value=None, max_age_days=31,\n                      min_version=None):\n    \"\"\"Returns the given signed cookie if it validates, or None.\n\n    The decoded cookie value is returned as a byte string (unlike\n    `get_cookie`).\n\n    .. versionchanged:: 3.2.1\n\n       Added the ``min_version`` argument.  Introduced cookie version 2;\n       both versions 1 and 2 are accepted by default.\n    \"\"\"\n    self.require_setting(\"cookie_secret\", \"secure cookies\")\n    if value is None:\n        value = self.get_cookie(name)\n    return decode_signed_value(self.application.settings[\"cookie_secret\"],\n                               name, value, max_age_days=max_age_days,\n                               min_version=min_version)",
                "def get_secure_cookie_key_version(self, name, value=None):\n    \"\"\"Returns the signing key version of the secure cookie.\n\n    The version is returned as int.\n    \"\"\"\n    self.require_setting(\"cookie_secret\", \"secure cookies\")\n    if value is None:\n        value = self.get_cookie(name)\n    return get_signature_key_version(value)",
                "def redirect(self, url, permanent=False, status=None):\n    \"\"\"Sends a redirect to the given (optionally relative) URL.\n\n    If the ``status`` argument is specified, that value is used as the\n    HTTP status code; otherwise either 301 (permanent) or 302\n    (temporary) is chosen based on the ``permanent`` argument.\n    The default is 302 (temporary).\n    \"\"\"\n    if self._headers_written:\n        raise Exception(\"Cannot redirect after headers have been written\")\n    if status is None:\n        status = 301 if permanent else 302\n    else:\n        assert isinstance(status, int) and 300 <= status <= 399\n    self.set_status(status)\n    self.set_header(\"Location\", utf8(url))\n    self.finish()",
                "def write(self, chunk):\n    \"\"\"Writes the given chunk to the output buffer.\n\n    To write the output to the network, use the flush() method below.\n\n    If the given chunk is a dictionary, we write it as JSON and set\n    the Content-Type of the response to be ``application/json``.\n    (if you want to send JSON as a different ``Content-Type``, call\n    set_header *after* calling write()).\n\n    Note that lists are not converted to JSON because of a potential\n    cross-site security vulnerability.  All JSON output should be\n    wrapped in a dictionary.  More details at\n    http://haacked.com/archive/2009/06/25/json-hijacking.aspx/ and\n    https://github.com/facebook/tornado/issues/1009\n    \"\"\"\n    if self._finished:\n        raise RuntimeError(\"Cannot write() after finish()\")\n    if not isinstance(chunk, (bytes, unicode_type, dict)):\n        message = \"write() only accepts bytes, unicode, and dict objects\"\n        if isinstance(chunk, list):\n            message += \". Lists not accepted for security reasons; see http://www.tornadoweb.org/en/stable/web.html#tornado.web.RequestHandler.write\"\n        raise TypeError(message)\n    if isinstance(chunk, dict):\n        chunk = escape.json_encode(chunk)\n        self.set_header(\"Content-Type\", \"application/json; charset=UTF-8\")\n    chunk = utf8(chunk)\n    self._write_buffer.append(chunk)",
                "def render(self, template_name, **kwargs):\n    \"\"\"Renders the template with the given arguments as the response.\"\"\"\n    if self._finished:\n        raise RuntimeError(\"Cannot render() after finish()\")\n    html = self.render_string(template_name, **kwargs)\n\n    # Insert the additional JS and CSS added by the modules on the page\n    js_embed = []\n    js_files = []\n    css_embed = []\n    css_files = []\n    html_heads = []\n    html_bodies = []\n    for module in getattr(self, \"_active_modules\", {}).values():\n        embed_part = module.embedded_javascript()\n        if embed_part:\n            js_embed.append(utf8(embed_part))\n        file_part = module.javascript_files()\n        if file_part:\n            if isinstance(file_part, (unicode_type, bytes)):\n                js_files.append(file_part)\n            else:\n                js_files.extend(file_part)\n        embed_part = module.embedded_css()\n        if embed_part:\n            css_embed.append(utf8(embed_part))\n        file_part = module.css_files()\n        if file_part:\n            if isinstance(file_part, (unicode_type, bytes)):\n                css_files.append(file_part)\n            else:\n                css_files.extend(file_part)\n        head_part = module.html_head()\n        if head_part:\n            html_heads.append(utf8(head_part))\n        body_part = module.html_body()\n        if body_part:\n            html_bodies.append(utf8(body_part))\n\n    if js_files:\n        # Maintain order of JavaScript files given by modules\n        js = self.render_linked_js(js_files)\n        sloc = html.rindex(b'</body>')\n        html = html[:sloc] + utf8(js) + b'\\n' + html[sloc:]\n    if js_embed:\n        js = self.render_embed_js(js_embed)\n        sloc = html.rindex(b'</body>')\n        html = html[:sloc] + js + b'\\n' + html[sloc:]\n    if css_files:\n        css = self.render_linked_css(css_files)\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + utf8(css) + b'\\n' + html[hloc:]\n    if css_embed:\n        css = self.render_embed_css(css_embed)\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + css + b'\\n' + html[hloc:]\n    if html_heads:\n        hloc = html.index(b'</head>')\n        html = html[:hloc] + b''.join(html_heads) + b'\\n' + html[hloc:]\n    if html_bodies:\n        hloc = html.index(b'</body>')\n        html = html[:hloc] + b''.join(html_bodies) + b'\\n' + html[hloc:]\n    self.finish(html)",
                "def render_linked_js(self, js_files):\n    \"\"\"Default method used to render the final js links for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    paths = []\n    unique_paths = set()\n\n    for path in js_files:\n        if not is_absolute(path):\n            path = self.static_url(path)\n        if path not in unique_paths:\n            paths.append(path)\n            unique_paths.add(path)\n\n    return ''.join('<script src=\"' + escape.xhtml_escape(p) +\n                   '\" type=\"text/javascript\"></script>'\n                   for p in paths)",
                "def render_embed_js(self, js_embed):\n    \"\"\"Default method used to render the final embedded js for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    return b'<script type=\"text/javascript\">\\n//<![CDATA[\\n' + \\\n           b'\\n'.join(js_embed) + b'\\n//]]>\\n</script>'",
                "def render_linked_css(self, css_files):\n    \"\"\"Default method used to render the final css links for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    paths = []\n    unique_paths = set()\n\n    for path in css_files:\n        if not is_absolute(path):\n            path = self.static_url(path)\n        if path not in unique_paths:\n            paths.append(path)\n            unique_paths.add(path)\n\n    return ''.join('<link href=\"' + escape.xhtml_escape(p) + '\" '\n                   'type=\"text/css\" rel=\"stylesheet\"/>'\n                   for p in paths)",
                "def render_embed_css(self, css_embed):\n    \"\"\"Default method used to render the final embedded css for the\n    rendered webpage.\n\n    Override this method in a sub-classed controller to change the output.\n    \"\"\"\n    return b'<style type=\"text/css\">\\n' + b'\\n'.join(css_embed) + \\\n           b'\\n</style>'",
                "def render_string(self, template_name, **kwargs):\n    \"\"\"Generate the given template with the given arguments.\n\n    We return the generated byte string (in utf8). To generate and\n    write a template as a response, use render() above.\n    \"\"\"\n    # If no template_path is specified, use the path of the calling file\n    template_path = self.get_template_path()\n    if not template_path:\n        frame = sys._getframe(0)\n        web_file = frame.f_code.co_filename\n        while frame.f_code.co_filename == web_file:\n            frame = frame.f_back\n        template_path = os.path.dirname(frame.f_code.co_filename)\n    with RequestHandler._template_loader_lock:\n        if template_path not in RequestHandler._template_loaders:\n            loader = self.create_template_loader(template_path)\n            RequestHandler._template_loaders[template_path] = loader\n        else:\n            loader = RequestHandler._template_loaders[template_path]\n    t = loader.load(template_name)\n    namespace = self.get_template_namespace()\n    namespace.update(kwargs)\n    return t.generate(**namespace)",
                "def get_template_namespace(self):\n    \"\"\"Returns a dictionary to be used as the default template namespace.\n\n    May be overridden by subclasses to add or modify values.\n\n    The results of this method will be combined with additional\n    defaults in the `tornado.template` module and keyword arguments\n    to `render` or `render_string`.\n    \"\"\"\n    namespace = dict(\n        handler=self,\n        request=self.request,\n        current_user=self.current_user,\n        locale=self.locale,\n        _=self.locale.translate,\n        pgettext=self.locale.pgettext,\n        static_url=self.static_url,\n        xsrf_form_html=self.xsrf_form_html,\n        reverse_url=self.reverse_url\n    )\n    namespace.update(self.ui)\n    return namespace",
                "def create_template_loader(self, template_path):\n    \"\"\"Returns a new template loader for the given path.\n\n    May be overridden by subclasses.  By default returns a\n    directory-based loader on the given path, using the\n    ``autoescape`` and ``template_whitespace`` application\n    settings.  If a ``template_loader`` application setting is\n    supplied, uses that instead.\n    \"\"\"\n    settings = self.application.settings\n    if \"template_loader\" in settings:\n        return settings[\"template_loader\"]\n    kwargs = {}\n    if \"autoescape\" in settings:\n        # autoescape=None means \"no escaping\", so we have to be sure\n        # to only pass this kwarg if the user asked for it.\n        kwargs[\"autoescape\"] = settings[\"autoescape\"]\n    if \"template_whitespace\" in settings:\n        kwargs[\"whitespace\"] = settings[\"template_whitespace\"]\n    return template.Loader(template_path, **kwargs)",
                "def flush(self, include_footers=False, callback=None):\n    \"\"\"Flushes the current output buffer to the network.\n\n    The ``callback`` argument, if given, can be used for flow control:\n    it will be run when all flushed data has been written to the socket.\n    Note that only one flush callback can be outstanding at a time;\n    if another flush occurs before the previous flush's callback\n    has been run, the previous callback will be discarded.\n\n    .. versionchanged:: 4.0\n       Now returns a `.Future` if no callback is given.\n    \"\"\"\n    chunk = b\"\".join(self._write_buffer)\n    self._write_buffer = []\n    if not self._headers_written:\n        self._headers_written = True\n        for transform in self._transforms:\n            self._status_code, self._headers, chunk = \\\n                transform.transform_first_chunk(\n                    self._status_code, self._headers,\n                    chunk, include_footers)\n        # Ignore the chunk and only write the headers for HEAD requests\n        if self.request.method == \"HEAD\":\n            chunk = None\n\n        # Finalize the cookie headers (which have been stored in a side\n        # object so an outgoing cookie could be overwritten before it\n        # is sent).\n        if hasattr(self, \"_new_cookie\"):\n            for cookie in self._new_cookie.values():\n                self.add_header(\"Set-Cookie\", cookie.OutputString(None))\n\n        start_line = httputil.ResponseStartLine('',\n                                                self._status_code,\n                                                self._reason)\n        return self.request.connection.write_headers(\n            start_line, self._headers, chunk, callback=callback)\n    else:\n        for transform in self._transforms:\n            chunk = transform.transform_chunk(chunk, include_footers)\n        # Ignore the chunk and only write the headers for HEAD requests\n        if self.request.method != \"HEAD\":\n            return self.request.connection.write(chunk, callback=callback)\n        else:\n            future = Future()\n            future.set_result(None)\n            return future",
                "def finish(self, chunk=None):\n    \"\"\"Finishes this response, ending the HTTP request.\"\"\"\n    if self._finished:\n        raise RuntimeError(\"finish() called twice\")\n\n    if chunk is not None:\n        self.write(chunk)\n\n    # Automatically support ETags and add the Content-Length header if\n    # we have not flushed any content yet.\n    if not self._headers_written:\n        if (self._status_code == 200 and\n            self.request.method in (\"GET\", \"HEAD\") and\n                \"Etag\" not in self._headers):\n            self.set_etag_header()\n            if self.check_etag_header():\n                self._write_buffer = []\n                self.set_status(304)\n        if self._status_code in (204, 304):\n            assert not self._write_buffer, \"Cannot send body with %s\" % self._status_code\n            self._clear_headers_for_304()\n        elif \"Content-Length\" not in self._headers:\n            content_length = sum(len(part) for part in self._write_buffer)\n            self.set_header(\"Content-Length\", content_length)\n\n    if hasattr(self.request, \"connection\"):\n        # Now that the request is finished, clear the callback we\n        # set on the HTTPConnection (which would otherwise prevent the\n        # garbage collection of the RequestHandler when there\n        # are keepalive connections)\n        self.request.connection.set_close_callback(None)\n\n    self.flush(include_footers=True)\n    self.request.finish()\n    self._log()\n    self._finished = True\n    self.on_finish()\n    # Break up a reference cycle between this handler and the\n    # _ui_module closures to allow for faster GC on CPython.\n    self.ui = None",
                "def send_error(self, status_code=500, **kwargs):\n    \"\"\"Sends the given HTTP error code to the browser.\n\n    If `flush()` has already been called, it is not possible to send\n    an error, so this method will simply terminate the response.\n    If output has been written but not yet flushed, it will be discarded\n    and replaced with the error page.\n\n    Override `write_error()` to customize the error page that is returned.\n    Additional keyword arguments are passed through to `write_error`.\n    \"\"\"\n    if self._headers_written:\n        gen_log.error(\"Cannot send error response after headers written\")\n        if not self._finished:\n            # If we get an error between writing headers and finishing,\n            # we are unlikely to be able to finish due to a\n            # Content-Length mismatch. Try anyway to release the\n            # socket.\n            try:\n                self.finish()\n            except Exception:\n                gen_log.error(\"Failed to flush partial response\",\n                              exc_info=True)\n        return\n    self.clear()\n\n    reason = kwargs.get('reason')\n    if 'exc_info' in kwargs:\n        exception = kwargs['exc_info'][1]\n        if isinstance(exception, HTTPError) and exception.reason:\n            reason = exception.reason\n    self.set_status(status_code, reason=reason)\n    try:\n        self.write_error(status_code, **kwargs)\n    except Exception:\n        app_log.error(\"Uncaught exception in write_error\", exc_info=True)\n    if not self._finished:\n        self.finish()",
                "def write_error(self, status_code, **kwargs):\n    \"\"\"Override to implement custom error pages.\n\n    ``write_error`` may call `write`, `render`, `set_header`, etc\n    to produce output as usual.\n\n    If this error was caused by an uncaught exception (including\n    HTTPError), an ``exc_info`` triple will be available as\n    ``kwargs[\"exc_info\"]``.  Note that this exception may not be\n    the \"current\" exception for purposes of methods like\n    ``sys.exc_info()`` or ``traceback.format_exc``.\n    \"\"\"\n    if self.settings.get(\"serve_traceback\") and \"exc_info\" in kwargs:\n        # in debug mode, try to send a traceback\n        self.set_header('Content-Type', 'text/plain')\n        for line in traceback.format_exception(*kwargs[\"exc_info\"]):\n            self.write(line)\n        self.finish()\n    else:\n        self.finish(\"<html><title>%(code)d: %(message)s</title>\"\n                    \"<body>%(code)d: %(message)s</body></html>\" % {\n                        \"code\": status_code,\n                        \"message\": self._reason,\n                    })",
                "@property\ndef locale(self):\n    \"\"\"The locale for the current session.\n\n    Determined by either `get_user_locale`, which you can override to\n    set the locale based on, e.g., a user preference stored in a\n    database, or `get_browser_locale`, which uses the ``Accept-Language``\n    header.\n\n    .. versionchanged: 4.1\n       Added a property setter.\n    \"\"\"\n    if not hasattr(self, \"_locale\"):\n        self._locale = self.get_user_locale()\n        if not self._locale:\n            self._locale = self.get_browser_locale()\n            assert self._locale\n    return self._locale",
                "@locale.setter\ndef locale(self, value):\n    self._locale = value",
                "def get_user_locale(self):\n    \"\"\"Override to determine the locale from the authenticated user.\n\n    If None is returned, we fall back to `get_browser_locale()`.\n\n    This method should return a `tornado.locale.Locale` object,\n    most likely obtained via a call like ``tornado.locale.get(\"en\")``\n    \"\"\"\n    return None",
                "def get_browser_locale(self, default=\"en_US\"):\n    \"\"\"Determines the user's locale from ``Accept-Language`` header.\n\n    See http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4\n    \"\"\"\n    if \"Accept-Language\" in self.request.headers:\n        languages = self.request.headers[\"Accept-Language\"].split(\",\")\n        locales = []\n        for language in languages:\n            parts = language.strip().split(\";\")\n            if len(parts) > 1 and parts[1].startswith(\"q=\"):\n                try:\n                    score = float(parts[1][2:])\n                except (ValueError, TypeError):\n                    score = 0.0\n            else:\n                score = 1.0\n            locales.append((parts[0], score))\n        if locales:\n            locales.sort(key=lambda pair: pair[1], reverse=True)\n            codes = [l[0] for l in locales]\n            return locale.get(*codes)\n    return locale.get(default)",
                "@property\ndef current_user(self):\n    \"\"\"The authenticated user for this request.\n\n    This is set in one of two ways:\n\n    * A subclass may override `get_current_user()`, which will be called\n      automatically the first time ``self.current_user`` is accessed.\n      `get_current_user()` will only be called once per request,\n      and is cached for future access::\n\n          def get_current_user(self):\n              user_cookie = self.get_secure_cookie(\"user\")\n              if user_cookie:\n                  return json.loads(user_cookie)\n              return None\n\n    * It may be set as a normal variable, typically from an overridden\n      `prepare()`::\n\n          @gen.coroutine\n          def prepare(self):\n              user_id_cookie = self.get_secure_cookie(\"user_id\")\n              if user_id_cookie:\n                  self.current_user = yield load_user(user_id_cookie)\n\n    Note that `prepare()` may be a coroutine while `get_current_user()`\n    may not, so the latter form is necessary if loading the user requires\n    asynchronous operations.\n\n    The user object may be any type of the application's choosing.\n    \"\"\"\n    if not hasattr(self, \"_current_user\"):\n        self._current_user = self.get_current_user()\n    return self._current_user",
                "@current_user.setter\ndef current_user(self, value):\n    self._current_user = value",
                "def get_current_user(self):\n    \"\"\"Override to determine the current user from, e.g., a cookie.\n\n    This method may not be a coroutine.\n    \"\"\"\n    return None",
                "def get_login_url(self):\n    \"\"\"Override to customize the login URL based on the request.\n\n    By default, we use the ``login_url`` application setting.\n    \"\"\"\n    self.require_setting(\"login_url\", \"@tornado.web.authenticated\")\n    return self.application.settings[\"login_url\"]",
                "def get_template_path(self):\n    \"\"\"Override to customize template path for each handler.\n\n    By default, we use the ``template_path`` application setting.\n    Return None to load templates relative to the calling file.\n    \"\"\"\n    return self.application.settings.get(\"template_path\")",
                "@property\ndef xsrf_token(self):\n    \"\"\"The XSRF-prevention token for the current user/session.\n\n    To prevent cross-site request forgery, we set an '_xsrf' cookie\n    and include the same '_xsrf' value as an argument with all POST\n    requests. If the two do not match, we reject the form submission\n    as a potential forgery.\n\n    See http://en.wikipedia.org/wiki/Cross-site_request_forgery\n\n    .. versionchanged:: 3.2.2\n       The xsrf token will now be have a random mask applied in every\n       request, which makes it safe to include the token in pages\n       that are compressed.  See http://breachattack.com for more\n       information on the issue fixed by this change.  Old (version 1)\n       cookies will be converted to version 2 when this method is called\n       unless the ``xsrf_cookie_version`` `Application` setting is\n       set to 1.\n\n    .. versionchanged:: 4.3\n       The ``xsrf_cookie_kwargs`` `Application` setting may be\n       used to supply additional cookie options (which will be\n       passed directly to `set_cookie`). For example,\n       ``xsrf_cookie_kwargs=dict(httponly=True, secure=True)``\n       will set the ``secure`` and ``httponly`` flags on the\n       ``_xsrf`` cookie.\n    \"\"\"\n    if not hasattr(self, \"_xsrf_token\"):\n        version, token, timestamp = self._get_raw_xsrf_token()\n        output_version = self.settings.get(\"xsrf_cookie_version\", 2)\n        cookie_kwargs = self.settings.get(\"xsrf_cookie_kwargs\", {})\n        if output_version == 1:\n            self._xsrf_token = binascii.b2a_hex(token)\n        elif output_version == 2:\n            mask = os.urandom(4)\n            self._xsrf_token = b\"|\".join([\n                b\"2\",\n                binascii.b2a_hex(mask),\n                binascii.b2a_hex(_websocket_mask(mask, token)),\n                utf8(str(int(timestamp)))])\n        else:\n            raise ValueError(\"unknown xsrf cookie version %d\",\n                             output_version)\n        if version is None:\n            expires_days = 30 if self.current_user else None\n            self.set_cookie(\"_xsrf\", self._xsrf_token,\n                            expires_days=expires_days,\n                            **cookie_kwargs)\n    return self._xsrf_token",
                "def _get_raw_xsrf_token(self):\n    \"\"\"Read or generate the xsrf token in its raw form.\n\n    The raw_xsrf_token is a tuple containing:\n\n    * version: the version of the cookie from which this token was read,\n      or None if we generated a new token in this request.\n    * token: the raw token data; random (non-ascii) bytes.\n    * timestamp: the time this token was generated (will not be accurate\n      for version 1 cookies)\n    \"\"\"\n    if not hasattr(self, '_raw_xsrf_token'):\n        cookie = self.get_cookie(\"_xsrf\")\n        if cookie:\n            version, token, timestamp = self._decode_xsrf_token(cookie)\n        else:\n            version, token, timestamp = None, None, None\n        if token is None:\n            version = None\n            token = os.urandom(16)\n            timestamp = time.time()\n        self._raw_xsrf_token = (version, token, timestamp)\n    return self._raw_xsrf_token",
                "def _decode_xsrf_token(self, cookie):\n    \"\"\"Convert a cookie string into a the tuple form returned by\n    _get_raw_xsrf_token.\n    \"\"\"\n\n    try:\n        m = _signed_value_version_re.match(utf8(cookie))\n\n        if m:\n            version = int(m.group(1))\n            if version == 2:\n                _, mask, masked_token, timestamp = cookie.split(\"|\")\n\n                mask = binascii.a2b_hex(utf8(mask))\n                token = _websocket_mask(\n                    mask, binascii.a2b_hex(utf8(masked_token)))\n                timestamp = int(timestamp)\n                return version, token, timestamp\n            else:\n                # Treat unknown versions as not present instead of failing.\n                raise Exception(\"Unknown xsrf cookie version\")\n        else:\n            version = 1\n            try:\n                token = binascii.a2b_hex(utf8(cookie))\n            except (binascii.Error, TypeError):\n                token = utf8(cookie)\n            # We don't have a usable timestamp in older versions.\n            timestamp = int(time.time())\n            return (version, token, timestamp)\n    except Exception:\n        # Catch exceptions and return nothing instead of failing.\n        gen_log.debug(\"Uncaught exception in _decode_xsrf_token\",\n                      exc_info=True)\n        return None, None, None",
                "def check_xsrf_cookie(self):\n    \"\"\"Verifies that the ``_xsrf`` cookie matches the ``_xsrf`` argument.\n\n    To prevent cross-site request forgery, we set an ``_xsrf``\n    cookie and include the same value as a non-cookie\n    field with all ``POST`` requests. If the two do not match, we\n    reject the form submission as a potential forgery.\n\n    The ``_xsrf`` value may be set as either a form field named ``_xsrf``\n    or in a custom HTTP header named ``X-XSRFToken`` or ``X-CSRFToken``\n    (the latter is accepted for compatibility with Django).\n\n    See http://en.wikipedia.org/wiki/Cross-site_request_forgery\n\n    Prior to release 1.1.1, this check was ignored if the HTTP header\n    ``X-Requested-With: XMLHTTPRequest`` was present.  This exception\n    has been shown to be insecure and has been removed.  For more\n    information please see\n    http://www.djangoproject.com/weblog/2011/feb/08/security/\n    http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails\n\n    .. versionchanged:: 3.2.2\n       Added support for cookie version 2.  Both versions 1 and 2 are\n       supported.\n    \"\"\"\n    token = (self.get_argument(\"_xsrf\", None) or\n             self.request.headers.get(\"X-Xsrftoken\") or\n             self.request.headers.get(\"X-Csrftoken\"))\n    if not token:\n        raise HTTPError(403, \"'_xsrf' argument missing from POST\")\n    _, token, _ = self._decode_xsrf_token(token)\n    _, expected_token, _ = self._get_raw_xsrf_token()\n    if not token:\n        raise HTTPError(403, \"'_xsrf' argument has invalid format\")\n    if not _time_independent_equals(utf8(token), utf8(expected_token)):\n        raise HTTPError(403, \"XSRF cookie does not match POST argument\")",
                "def xsrf_form_html(self):\n    \"\"\"An HTML ``<input/>`` element to be included with all POST forms.\n\n    It defines the ``_xsrf`` input value, which we check on all POST\n    requests to prevent cross-site request forgery. If you have set\n    the ``xsrf_cookies`` application setting, you must include this\n    HTML within all of your HTML forms.\n\n    In a template, this method should be called with ``{% module\n    xsrf_form_html() %}``\n\n    See `check_xsrf_cookie()` above for more information.\n    \"\"\"\n    return '<input type=\"hidden\" name=\"_xsrf\" value=\"' + \\\n        escape.xhtml_escape(self.xsrf_token) + '\"/>'",
                "def static_url(self, path, include_host=None, **kwargs):\n    \"\"\"Returns a static URL for the given relative static file path.\n\n    This method requires you set the ``static_path`` setting in your\n    application (which specifies the root directory of your static\n    files).\n\n    This method returns a versioned url (by default appending\n    ``?v=<signature>``), which allows the static files to be\n    cached indefinitely.  This can be disabled by passing\n    ``include_version=False`` (in the default implementation;\n    other static file implementations are not required to support\n    this, but they may support other options).\n\n    By default this method returns URLs relative to the current\n    host, but if ``include_host`` is true the URL returned will be\n    absolute.  If this handler has an ``include_host`` attribute,\n    that value will be used as the default for all `static_url`\n    calls that do not pass ``include_host`` as a keyword argument.\n\n    \"\"\"\n    self.require_setting(\"static_path\", \"static_url\")\n    get_url = self.settings.get(\"static_handler_class\",\n                                StaticFileHandler).make_static_url\n\n    if include_host is None:\n        include_host = getattr(self, \"include_host\", False)\n\n    if include_host:\n        base = self.request.protocol + \"://\" + self.request.host\n    else:\n        base = \"\"\n\n    return base + get_url(self.settings, path, **kwargs)",
                "def require_setting(self, name, feature=\"this feature\"):\n    \"\"\"Raises an exception if the given app setting is not defined.\"\"\"\n    if not self.application.settings.get(name):\n        raise Exception(\"You must define the '%s' setting in your \"\n                        \"application to use %s\" % (name, feature))",
                "def reverse_url(self, name, *args):\n    \"\"\"Alias for `Application.reverse_url`.\"\"\"\n    return self.application.reverse_url(name, *args)",
                "def compute_etag(self):\n    \"\"\"Computes the etag header to be used for this request.\n\n    By default uses a hash of the content written so far.\n\n    May be overridden to provide custom etag implementations,\n    or may return None to disable tornado's default etag support.\n    \"\"\"\n    hasher = hashlib.sha1()\n    for part in self._write_buffer:\n        hasher.update(part)\n    return '\"%s\"' % hasher.hexdigest()",
                "def set_etag_header(self):\n    \"\"\"Sets the response's Etag header using ``self.compute_etag()``.\n\n    Note: no header will be set if ``compute_etag()`` returns ``None``.\n\n    This method is called automatically when the request is finished.\n    \"\"\"\n    etag = self.compute_etag()\n    if etag is not None:\n        self.set_header(\"Etag\", etag)",
                "def check_etag_header(self):\n    \"\"\"Checks the ``Etag`` header against requests's ``If-None-Match``.\n\n    Returns ``True`` if the request's Etag matches and a 304 should be\n    returned. For example::\n\n        self.set_etag_header()\n        if self.check_etag_header():\n            self.set_status(304)\n            return\n\n    This method is called automatically when the request is finished,\n    but may be called earlier for applications that override\n    `compute_etag` and want to do an early check for ``If-None-Match``\n    before completing the request.  The ``Etag`` header should be set\n    (perhaps with `set_etag_header`) before calling this method.\n    \"\"\"\n    computed_etag = utf8(self._headers.get(\"Etag\", \"\"))\n    # Find all weak and strong etag values from If-None-Match header\n    # because RFC 7232 allows multiple etag values in a single header.\n    etags = re.findall(\n        br'\\*|(?:W/)?\"[^\"]*\"',\n        utf8(self.request.headers.get(\"If-None-Match\", \"\"))\n    )\n    if not computed_etag or not etags:\n        return False\n\n    match = False\n    if etags[0] == b'*':\n        match = True\n    else:\n        # Use a weak comparison when comparing entity-tags.\n        def val(x):\n            return x[2:] if x.startswith(b'W/') else x\n\n        for etag in etags:\n            if val(etag) == val(computed_etag):\n                match = True\n                break\n    return match",
                "def _stack_context_handle_exception(self, type, value, traceback):\n    try:\n        # For historical reasons _handle_request_exception only takes\n        # the exception value instead of the full triple,\n        # so re-raise the exception to ensure that it's in\n        # sys.exc_info()\n        raise_exc_info((type, value, traceback))\n    except Exception:\n        self._handle_request_exception(value)\n    return True",
                "@gen.coroutine\ndef _execute(self, transforms, *args, **kwargs):\n    \"\"\"Executes this request with the given output transforms.\"\"\"\n    self._transforms = transforms\n    try:\n        if self.request.method not in self.SUPPORTED_METHODS:\n            raise HTTPError(405)\n        self.path_args = [self.decode_argument(arg) for arg in args]\n        self.path_kwargs = dict((k, self.decode_argument(v, name=k))\n                                for (k, v) in kwargs.items())\n        # If XSRF cookies are turned on, reject form submissions without\n        # the proper cookie\n        if self.request.method not in (\"GET\", \"HEAD\", \"OPTIONS\") and \\\n                self.application.settings.get(\"xsrf_cookies\"):\n            self.check_xsrf_cookie()\n\n        result = self.prepare()\n        if result is not None:\n            result = yield result\n        if self._prepared_future is not None:\n            # Tell the Application we've finished with prepare()\n            # and are ready for the body to arrive.\n            self._prepared_future.set_result(None)\n        if self._finished:\n            return\n\n        if _has_stream_request_body(self.__class__):\n            # In streaming mode request.body is a Future that signals\n            # the body has been completely received.  The Future has no\n            # result; the data has been passed to self.data_received\n            # instead.\n            try:\n                yield self.request.body\n            except iostream.StreamClosedError:\n                return\n\n        method = getattr(self, self.request.method.lower())\n        result = method(*self.path_args, **self.path_kwargs)\n        if result is not None:\n            result = yield result\n        if self._auto_finish and not self._finished:\n            self.finish()\n    except Exception as e:\n        try:\n            self._handle_request_exception(e)\n        except Exception:\n            app_log.error(\"Exception in exception handler\", exc_info=True)\n        if (self._prepared_future is not None and\n                not self._prepared_future.done()):\n            # In case we failed before setting _prepared_future, do it\n            # now (to unblock the HTTP server).  Note that this is not\n            # in a finally block to avoid GC issues prior to Python 3.4.\n            self._prepared_future.set_result(None)",
                "def data_received(self, chunk):\n    \"\"\"Implement this method to handle streamed request data.\n\n    Requires the `.stream_request_body` decorator.\n    \"\"\"\n    raise NotImplementedError()",
                "def _log(self):\n    \"\"\"Logs the current request.\n\n    Sort of deprecated since this functionality was moved to the\n    Application, but left in place for the benefit of existing apps\n    that have overridden this method.\n    \"\"\"\n    self.application.log_request(self)",
                "def _request_summary(self):\n    return \"%s %s (%s)\" % (self.request.method, self.request.uri,\n                           self.request.remote_ip)",
                "def _handle_request_exception(self, e):\n    if isinstance(e, Finish):\n        # Not an error; just finish the request without logging.\n        if not self._finished:\n            self.finish(*e.args)\n        return\n    try:\n        self.log_exception(*sys.exc_info())\n    except Exception:\n        # An error here should still get a best-effort send_error()\n        # to avoid leaking the connection.\n        app_log.error(\"Error in exception logger\", exc_info=True)\n    if self._finished:\n        # Extra errors after the request has been finished should\n        # be logged, but there is no reason to continue to try and\n        # send a response.\n        return\n    if isinstance(e, HTTPError):\n        if e.status_code not in httputil.responses and not e.reason:\n            gen_log.error(\"Bad HTTP status code: %d\", e.status_code)\n            self.send_error(500, exc_info=sys.exc_info())\n        else:\n            self.send_error(e.status_code, exc_info=sys.exc_info())\n    else:\n        self.send_error(500, exc_info=sys.exc_info())",
                "def log_exception(self, typ, value, tb):\n    \"\"\"Override to customize logging of uncaught exceptions.\n\n    By default logs instances of `HTTPError` as warnings without\n    stack traces (on the ``tornado.general`` logger), and all\n    other exceptions as errors with stack traces (on the\n    ``tornado.application`` logger).\n\n    .. versionadded:: 3.1\n    \"\"\"\n    if isinstance(value, HTTPError):\n        if value.log_message:\n            format = \"%d %s: \" + value.log_message\n            args = ([value.status_code, self._request_summary()] +\n                    list(value.args))\n            gen_log.warning(format, *args)\n    else:\n        app_log.error(\"Uncaught exception %s\\n%r\", self._request_summary(),\n                      self.request, exc_info=(typ, value, tb))",
                "def _ui_module(self, name, module):\n    def render(*args, **kwargs):\n        if not hasattr(self, \"_active_modules\"):\n            self._active_modules = {}\n        if name not in self._active_modules:\n            self._active_modules[name] = module(self)\n        rendered = self._active_modules[name].render(*args, **kwargs)\n        return rendered\n    return render",
                "def _ui_method(self, method):\n    return lambda *args, **kwargs: method(self, *args, **kwargs)",
                "def _clear_headers_for_304(self):\n    # 304 responses should not contain entity headers (defined in\n    # http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.1)\n    # not explicitly allowed by\n    # http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.5\n    headers = [\"Allow\", \"Content-Encoding\", \"Content-Language\",\n               \"Content-Length\", \"Content-MD5\", \"Content-Range\",\n               \"Content-Type\", \"Last-Modified\"]\n    for h in headers:\n        self.clear_header(h)",
                "@functools.wraps(method)\ndef wrapper(self, *args, **kwargs):\n    self._auto_finish = False\n    with stack_context.ExceptionStackContext(\n            self._stack_context_handle_exception):\n        result = method(self, *args, **kwargs)\n        if result is not None:\n            result = gen.convert_yielded(result)\n\n            # If @asynchronous is used with @gen.coroutine, (but\n            # not @gen.engine), we can automatically finish the\n            # request when the future resolves.  Additionally,\n            # the Future will swallow any exceptions so we need\n            # to throw them back out to the stack context to finish\n            # the request.\n            def future_complete(f):\n                f.result()\n                if not self._finished:\n                    self.finish()\n            IOLoop.current().add_future(result, future_complete)\n            # Once we have done this, hide the Future from our\n            # caller (i.e. RequestHandler._when_complete), which\n            # would otherwise set up its own callback and\n            # exception handler (resulting in exceptions being\n            # logged twice).\n            return None\n        return result",
                "@functools.wraps(method)\ndef wrapper(self, *args, **kwargs):\n    if self.request.path.endswith(\"/\"):\n        if self.request.method in (\"GET\", \"HEAD\"):\n            uri = self.request.path.rstrip(\"/\")\n            if uri:  # don't try to redirect '/' to ''\n                if self.request.query:\n                    uri += \"?\" + self.request.query\n                self.redirect(uri, permanent=True)\n                return\n        else:\n            raise HTTPError(404)\n    return method(self, *args, **kwargs)",
                "@functools.wraps(method)\ndef wrapper(self, *args, **kwargs):\n    if not self.request.path.endswith(\"/\"):\n        if self.request.method in (\"GET\", \"HEAD\"):\n            uri = self.request.path + \"/\"\n            if self.request.query:\n                uri += \"?\" + self.request.query\n            self.redirect(uri, permanent=True)\n            return\n        raise HTTPError(404)\n    return method(self, *args, **kwargs)",
                "def __init__(self, application, rules=None):\n    assert isinstance(application, Application)\n    self.application = application\n    super(_ApplicationRouter, self).__init__(rules)",
                "def process_rule(self, rule):\n    rule = super(_ApplicationRouter, self).process_rule(rule)\n\n    if isinstance(rule.target, (list, tuple)):\n        rule.target = _ApplicationRouter(self.application, rule.target)\n\n    return rule",
                "def get_target_delegate(self, target, request, **target_params):\n    if isclass(target) and issubclass(target, RequestHandler):\n        return self.application.get_handler_delegate(request, target, **target_params)\n\n    return super(_ApplicationRouter, self).get_target_delegate(target, request, **target_params)",
                "def __init__(self, handlers=None, default_host=None, transforms=None,\n             **settings):\n    if transforms is None:\n        self.transforms = []\n        if settings.get(\"compress_response\") or settings.get(\"gzip\"):\n            self.transforms.append(GZipContentEncoding)\n    else:\n        self.transforms = transforms\n    self.default_host = default_host\n    self.settings = settings\n    self.ui_modules = {'linkify': _linkify,\n                       'xsrf_form_html': _xsrf_form_html,\n                       'Template': TemplateModule,\n                       }\n    self.ui_methods = {}\n    self._load_ui_modules(settings.get(\"ui_modules\", {}))\n    self._load_ui_methods(settings.get(\"ui_methods\", {}))\n    if self.settings.get(\"static_path\"):\n        path = self.settings[\"static_path\"]\n        handlers = list(handlers or [])\n        static_url_prefix = settings.get(\"static_url_prefix\",\n                                         \"/static/\")\n        static_handler_class = settings.get(\"static_handler_class\",\n                                            StaticFileHandler)\n        static_handler_args = settings.get(\"static_handler_args\", {})\n        static_handler_args['path'] = path\n        for pattern in [re.escape(static_url_prefix) + r\"(.*)\",\n                        r\"/(favicon\\.ico)\", r\"/(robots\\.txt)\"]:\n            handlers.insert(0, (pattern, static_handler_class,\n                                static_handler_args))\n\n    if self.settings.get('debug'):\n        self.settings.setdefault('autoreload', True)\n        self.settings.setdefault('compiled_template_cache', False)\n        self.settings.setdefault('static_hash_cache', False)\n        self.settings.setdefault('serve_traceback', True)\n\n    self.wildcard_router = _ApplicationRouter(self, handlers)\n    self.default_router = _ApplicationRouter(self, [\n        Rule(AnyMatches(), self.wildcard_router)\n    ])\n\n    # Automatically reload modified modules\n    if self.settings.get('autoreload'):\n        from tornado import autoreload\n        autoreload.start()",
                "def listen(self, port, address=\"\", **kwargs):\n    \"\"\"Starts an HTTP server for this application on the given port.\n\n    This is a convenience alias for creating an `.HTTPServer`\n    object and calling its listen method.  Keyword arguments not\n    supported by `HTTPServer.listen <.TCPServer.listen>` are passed to the\n    `.HTTPServer` constructor.  For advanced uses\n    (e.g. multi-process mode), do not use this method; create an\n    `.HTTPServer` and call its\n    `.TCPServer.bind`/`.TCPServer.start` methods directly.\n\n    Note that after calling this method you still need to call\n    ``IOLoop.current().start()`` to start the server.\n\n    Returns the `.HTTPServer` object.\n\n    .. versionchanged:: 4.3\n       Now returns the `.HTTPServer` object.\n    \"\"\"\n    # import is here rather than top level because HTTPServer\n    # is not importable on appengine\n    from tornado.httpserver import HTTPServer\n    server = HTTPServer(self, **kwargs)\n    server.listen(port, address)\n    return server",
                "def add_handlers(self, host_pattern, host_handlers):\n    \"\"\"Appends the given handlers to our handler list.\n\n    Host patterns are processed sequentially in the order they were\n    added. All matching patterns will be considered.\n    \"\"\"\n    host_matcher = HostMatches(host_pattern)\n    rule = Rule(host_matcher, _ApplicationRouter(self, host_handlers))\n\n    self.default_router.rules.insert(-1, rule)\n\n    if self.default_host is not None:\n        self.wildcard_router.add_rules([(\n            DefaultHostMatches(self, host_matcher.host_pattern),\n            host_handlers\n        )])",
                "def add_transform(self, transform_class):\n    self.transforms.append(transform_class)",
                "def _load_ui_methods(self, methods):\n    if isinstance(methods, types.ModuleType):\n        self._load_ui_methods(dict((n, getattr(methods, n))\n                                   for n in dir(methods)))\n    elif isinstance(methods, list):\n        for m in methods:\n            self._load_ui_methods(m)\n    else:\n        for name, fn in methods.items():\n            if not name.startswith(\"_\") and hasattr(fn, \"__call__\") \\\n                    and name[0].lower() == name[0]:\n                self.ui_methods[name] = fn",
                "def _load_ui_modules(self, modules):\n    if isinstance(modules, types.ModuleType):\n        self._load_ui_modules(dict((n, getattr(modules, n))\n                                   for n in dir(modules)))\n    elif isinstance(modules, list):\n        for m in modules:\n            self._load_ui_modules(m)\n    else:\n        assert isinstance(modules, dict)\n        for name, cls in modules.items():\n            try:\n                if issubclass(cls, UIModule):\n                    self.ui_modules[name] = cls\n            except TypeError:\n                pass",
                "def __call__(self, request):\n    # Legacy HTTPServer interface\n    dispatcher = self.find_handler(request)\n    return dispatcher.execute()",
                "def find_handler(self, request, **kwargs):\n    route = self.default_router.find_handler(request)\n    if route is not None:\n        return route\n\n    if self.settings.get('default_handler_class'):\n        return self.get_handler_delegate(\n            request,\n            self.settings['default_handler_class'],\n            self.settings.get('default_handler_args', {}))\n\n    return self.get_handler_delegate(\n        request, ErrorHandler, {'status_code': 404})",
                "def get_handler_delegate(self, request, target_class, target_kwargs=None,\n                         path_args=None, path_kwargs=None):\n    \"\"\"Returns `~.httputil.HTTPMessageDelegate` that can serve a request\n    for application and `RequestHandler` subclass.\n\n    :arg httputil.HTTPServerRequest request: current HTTP request.\n    :arg RequestHandler target_class: a `RequestHandler` class.\n    :arg dict target_kwargs: keyword arguments for ``target_class`` constructor.\n    :arg list path_args: positional arguments for ``target_class`` HTTP method that\n        will be executed while handling a request (``get``, ``post`` or any other).\n    :arg dict path_kwargs: keyword arguments for ``target_class`` HTTP method.\n    \"\"\"\n    return _HandlerDelegate(\n        self, request, target_class, target_kwargs, path_args, path_kwargs)",
                "def reverse_url(self, name, *args):\n    \"\"\"Returns a URL path for handler named ``name``\n\n    The handler must be added to the application as a named `URLSpec`.\n\n    Args will be substituted for capturing groups in the `URLSpec` regex.\n    They will be converted to strings if necessary, encoded as utf8,\n    and url-escaped.\n    \"\"\"\n    reversed_url = self.default_router.reverse_url(name, *args)\n    if reversed_url is not None:\n        return reversed_url\n\n    raise KeyError(\"%s not found in named urls\" % name)",
                "def log_request(self, handler):\n    \"\"\"Writes a completed HTTP request to the logs.\n\n    By default writes to the python root logger.  To change\n    this behavior either subclass Application and override this method,\n    or pass a function in the application settings dictionary as\n    ``log_function``.\n    \"\"\"\n    if \"log_function\" in self.settings:\n        self.settings[\"log_function\"](handler)\n        return\n    if handler.get_status() < 400:\n        log_method = access_log.info\n    elif handler.get_status() < 500:\n        log_method = access_log.warning\n    else:\n        log_method = access_log.error\n    request_time = 1000.0 * handler.request.request_time()\n    log_method(\"%d %s %.2fms\", handler.get_status(),\n               handler._request_summary(), request_time)",
                "def __init__(self, application, request, handler_class, handler_kwargs,\n             path_args, path_kwargs):\n    self.application = application\n    self.connection = request.connection\n    self.request = request\n    self.handler_class = handler_class\n    self.handler_kwargs = handler_kwargs or {}\n    self.path_args = path_args or []\n    self.path_kwargs = path_kwargs or {}\n    self.chunks = []\n    self.stream_request_body = _has_stream_request_body(self.handler_class)",
                "def headers_received(self, start_line, headers):\n    if self.stream_request_body:\n        self.request.body = Future()\n        return self.execute()",
                "def data_received(self, data):\n    if self.stream_request_body:\n        return self.handler.data_received(data)\n    else:\n        self.chunks.append(data)",
                "def finish(self):\n    if self.stream_request_body:\n        self.request.body.set_result(None)\n    else:\n        self.request.body = b''.join(self.chunks)\n        self.request._parse_body()\n        self.execute()",
                "def on_connection_close(self):\n    if self.stream_request_body:\n        self.handler.on_connection_close()\n    else:\n        self.chunks = None",
                "def execute(self):\n    # If template cache is disabled (usually in the debug mode),\n    # re-compile templates and reload static files on every\n    # request so you don't need to restart to see changes\n    if not self.application.settings.get(\"compiled_template_cache\", True):\n        with RequestHandler._template_loader_lock:\n            for loader in RequestHandler._template_loaders.values():\n                loader.reset()\n    if not self.application.settings.get('static_hash_cache', True):\n        StaticFileHandler.reset()\n\n    self.handler = self.handler_class(self.application, self.request,\n                                      **self.handler_kwargs)\n    transforms = [t(self.request) for t in self.application.transforms]\n\n    if self.stream_request_body:\n        self.handler._prepared_future = Future()\n    # Note that if an exception escapes handler._execute it will be\n    # trapped in the Future it returns (which we are ignoring here,\n    # leaving it to be logged when the Future is GC'd).\n    # However, that shouldn't happen because _execute has a blanket\n    # except handler, and we cannot easily access the IOLoop here to\n    # call add_future (because of the requirement to remain compatible\n    # with WSGI)\n    self.handler._execute(transforms, *self.path_args,\n                          **self.path_kwargs)\n    # If we are streaming the request body, then execute() is finished\n    # when the handler has prepared to receive the body.  If not,\n    # it doesn't matter when execute() finishes (so we return None)\n    return self.handler._prepared_future",
                "def __init__(self, status_code=500, log_message=None, *args, **kwargs):\n    self.status_code = status_code\n    self.log_message = log_message\n    self.args = args\n    self.reason = kwargs.get('reason', None)\n    if log_message and not args:\n        self.log_message = log_message.replace('%', '%%')",
                "def __str__(self):\n    message = \"HTTP %d: %s\" % (\n        self.status_code,\n        self.reason or httputil.responses.get(self.status_code, 'Unknown'))\n    if self.log_message:\n        return message + \" (\" + (self.log_message % self.args) + \")\"\n    else:\n        return message",
                "def __init__(self, arg_name):\n    super(MissingArgumentError, self).__init__(\n        400, 'Missing argument %s' % arg_name)\n    self.arg_name = arg_name",
                "def initialize(self, status_code):\n    self.set_status(status_code)",
                "def prepare(self):\n    raise HTTPError(self._status_code)",
                "def check_xsrf_cookie(self):\n    # POSTs to an ErrorHandler don't actually have side effects,\n    # so we don't need to check the xsrf token.  This allows POSTs\n    # to the wrong url to return a 404 instead of 403.\n    pass",
                "def initialize(self, url, permanent=True):\n    self._url = url\n    self._permanent = permanent",
                "def get(self, *args):\n    self.redirect(self._url.format(*args), permanent=self._permanent)",
                "def initialize(self, path, default_filename=None):\n    self.root = path\n    self.default_filename = default_filename",
                "@classmethod\ndef reset(cls):\n    with cls._lock:\n        cls._static_hashes = {}",
                "def head(self, path):\n    return self.get(path, include_body=False)",
                "@gen.coroutine\ndef get(self, path, include_body=True):\n    # Set up our path instance variables.\n    self.path = self.parse_url_path(path)\n    del path  # make sure we don't refer to path instead of self.path again\n    absolute_path = self.get_absolute_path(self.root, self.path)\n    self.absolute_path = self.validate_absolute_path(\n        self.root, absolute_path)\n    if self.absolute_path is None:\n        return\n\n    self.modified = self.get_modified_time()\n    self.set_headers()\n\n    if self.should_return_304():\n        self.set_status(304)\n        return\n\n    request_range = None\n    range_header = self.request.headers.get(\"Range\")\n    if range_header:\n        # As per RFC 2616 14.16, if an invalid Range header is specified,\n        # the request will be treated as if the header didn't exist.\n        request_range = httputil._parse_request_range(range_header)\n\n    size = self.get_content_size()\n    if request_range:\n        start, end = request_range\n        if (start is not None and start >= size) or end == 0:\n            # As per RFC 2616 14.35.1, a range is not satisfiable only: if\n            # the first requested byte is equal to or greater than the\n            # content, or when a suffix with length 0 is specified\n            self.set_status(416)  # Range Not Satisfiable\n            self.set_header(\"Content-Type\", \"text/plain\")\n            self.set_header(\"Content-Range\", \"bytes */%s\" % (size, ))\n            return\n        if start is not None and start < 0:\n            start += size\n        if end is not None and end > size:\n            # Clients sometimes blindly use a large range to limit their\n            # download size; cap the endpoint at the actual file size.\n            end = size\n        # Note: only return HTTP 206 if less than the entire range has been\n        # requested. Not only is this semantically correct, but Chrome\n        # refuses to play audio if it gets an HTTP 206 in response to\n        # ``Range: bytes=0-``.\n        if size != (end or size) - (start or 0):\n            self.set_status(206)  # Partial Content\n            self.set_header(\"Content-Range\",\n                            httputil._get_content_range(start, end, size))\n    else:\n        start = end = None\n\n    if start is not None and end is not None:\n        content_length = end - start\n    elif end is not None:\n        content_length = end\n    elif start is not None:\n        content_length = size - start\n    else:\n        content_length = size\n    self.set_header(\"Content-Length\", content_length)\n\n    if include_body:\n        content = self.get_content(self.absolute_path, start, end)\n        if isinstance(content, bytes):\n            content = [content]\n        for chunk in content:\n            try:\n                self.write(chunk)\n                yield self.flush()\n            except iostream.StreamClosedError:\n                return\n    else:\n        assert self.request.method == \"HEAD\"",
                "def compute_etag(self):\n    \"\"\"Sets the ``Etag`` header based on static url version.\n\n    This allows efficient ``If-None-Match`` checks against cached\n    versions, and sends the correct ``Etag`` for a partial response\n    (i.e. the same ``Etag`` as the full file).\n\n    .. versionadded:: 3.1\n    \"\"\"\n    version_hash = self._get_cached_version(self.absolute_path)\n    if not version_hash:\n        return None\n    return '\"%s\"' % (version_hash, )",
                "def set_headers(self):\n    \"\"\"Sets the content and caching headers on the response.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    self.set_header(\"Accept-Ranges\", \"bytes\")\n    self.set_etag_header()\n\n    if self.modified is not None:\n        self.set_header(\"Last-Modified\", self.modified)\n\n    content_type = self.get_content_type()\n    if content_type:\n        self.set_header(\"Content-Type\", content_type)\n\n    cache_time = self.get_cache_time(self.path, self.modified,\n                                     content_type)\n    if cache_time > 0:\n        self.set_header(\"Expires\", datetime.datetime.utcnow() +\n                        datetime.timedelta(seconds=cache_time))\n        self.set_header(\"Cache-Control\", \"max-age=\" + str(cache_time))\n\n    self.set_extra_headers(self.path)",
                "def should_return_304(self):\n    \"\"\"Returns True if the headers indicate that we should return 304.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    if self.check_etag_header():\n        return True\n\n    # Check the If-Modified-Since, and don't send the result if the\n    # content has not been modified\n    ims_value = self.request.headers.get(\"If-Modified-Since\")\n    if ims_value is not None:\n        date_tuple = email.utils.parsedate(ims_value)\n        if date_tuple is not None:\n            if_since = datetime.datetime(*date_tuple[:6])\n            if if_since >= self.modified:\n                return True\n\n    return False",
                "@classmethod\ndef get_absolute_path(cls, root, path):\n    \"\"\"Returns the absolute location of ``path`` relative to ``root``.\n\n    ``root`` is the path configured for this `StaticFileHandler`\n    (in most cases the ``static_path`` `Application` setting).\n\n    This class method may be overridden in subclasses.  By default\n    it returns a filesystem path, but other strings may be used\n    as long as they are unique and understood by the subclass's\n    overridden `get_content`.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    abspath = os.path.abspath(os.path.join(root, path))\n    return abspath",
                "def validate_absolute_path(self, root, absolute_path):\n    \"\"\"Validate and return the absolute path.\n\n    ``root`` is the configured path for the `StaticFileHandler`,\n    and ``path`` is the result of `get_absolute_path`\n\n    This is an instance method called during request processing,\n    so it may raise `HTTPError` or use methods like\n    `RequestHandler.redirect` (return None after redirecting to\n    halt further processing).  This is where 404 errors for missing files\n    are generated.\n\n    This method may modify the path before returning it, but note that\n    any such modifications will not be understood by `make_static_url`.\n\n    In instance methods, this method's result is available as\n    ``self.absolute_path``.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    # os.path.abspath strips a trailing /.\n    # We must add it back to `root` so that we only match files\n    # in a directory named `root` instead of files starting with\n    # that prefix.\n    root = os.path.abspath(root)\n    if not root.endswith(os.path.sep):\n        # abspath always removes a trailing slash, except when\n        # root is '/'. This is an unusual case, but several projects\n        # have independently discovered this technique to disable\n        # Tornado's path validation and (hopefully) do their own,\n        # so we need to support it.\n        root += os.path.sep\n    # The trailing slash also needs to be temporarily added back\n    # the requested path so a request to root/ will match.\n    if not (absolute_path + os.path.sep).startswith(root):\n        raise HTTPError(403, \"%s is not in root static directory\",\n                        self.path)\n    if (os.path.isdir(absolute_path) and\n            self.default_filename is not None):\n        # need to look at the request.path here for when path is empty\n        # but there is some prefix to the path that was already\n        # trimmed by the routing\n        if not self.request.path.endswith(\"/\"):\n            self.redirect(self.request.path + \"/\", permanent=True)\n            return\n        absolute_path = os.path.join(absolute_path, self.default_filename)\n    if not os.path.exists(absolute_path):\n        raise HTTPError(404)\n    if not os.path.isfile(absolute_path):\n        raise HTTPError(403, \"%s is not a file\", self.path)\n    return absolute_path",
                "@classmethod\ndef get_content(cls, abspath, start=None, end=None):\n    \"\"\"Retrieve the content of the requested resource which is located\n    at the given absolute path.\n\n    This class method may be overridden by subclasses.  Note that its\n    signature is different from other overridable class methods\n    (no ``settings`` argument); this is deliberate to ensure that\n    ``abspath`` is able to stand on its own as a cache key.\n\n    This method should either return a byte string or an iterator\n    of byte strings.  The latter is preferred for large files\n    as it helps reduce memory fragmentation.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    with open(abspath, \"rb\") as file:\n        if start is not None:\n            file.seek(start)\n        if end is not None:\n            remaining = end - (start or 0)\n        else:\n            remaining = None\n        while True:\n            chunk_size = 64 * 1024\n            if remaining is not None and remaining < chunk_size:\n                chunk_size = remaining\n            chunk = file.read(chunk_size)\n            if chunk:\n                if remaining is not None:\n                    remaining -= len(chunk)\n                yield chunk\n            else:\n                if remaining is not None:\n                    assert remaining == 0\n                return",
                "@classmethod\ndef get_content_version(cls, abspath):\n    \"\"\"Returns a version string for the resource at the given path.\n\n    This class method may be overridden by subclasses.  The\n    default implementation is a hash of the file's contents.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    data = cls.get_content(abspath)\n    hasher = hashlib.md5()\n    if isinstance(data, bytes):\n        hasher.update(data)\n    else:\n        for chunk in data:\n            hasher.update(chunk)\n    return hasher.hexdigest()",
                "def _stat(self):\n    if not hasattr(self, '_stat_result'):\n        self._stat_result = os.stat(self.absolute_path)\n    return self._stat_result",
                "def get_content_size(self):\n    \"\"\"Retrieve the total size of the resource at the given path.\n\n    This method may be overridden by subclasses.\n\n    .. versionadded:: 3.1\n\n    .. versionchanged:: 4.0\n       This method is now always called, instead of only when\n       partial results are requested.\n    \"\"\"\n    stat_result = self._stat()\n    return stat_result[stat.ST_SIZE]",
                "def get_modified_time(self):\n    \"\"\"Returns the time that ``self.absolute_path`` was last modified.\n\n    May be overridden in subclasses.  Should return a `~datetime.datetime`\n    object or None.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    stat_result = self._stat()\n    modified = datetime.datetime.utcfromtimestamp(\n        stat_result[stat.ST_MTIME])\n    return modified",
                "def get_content_type(self):\n    \"\"\"Returns the ``Content-Type`` header to be used for this request.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    mime_type, encoding = mimetypes.guess_type(self.absolute_path)\n    # per RFC 6713, use the appropriate type for a gzip compressed file\n    if encoding == \"gzip\":\n        return \"application/gzip\"\n    # As of 2015-07-21 there is no bzip2 encoding defined at\n    # http://www.iana.org/assignments/media-types/media-types.xhtml\n    # So for that (and any other encoding), use octet-stream.\n    elif encoding is not None:\n        return \"application/octet-stream\"\n    elif mime_type is not None:\n        return mime_type\n    # if mime_type not detected, use application/octet-stream\n    else:\n        return \"application/octet-stream\"",
                "def set_extra_headers(self, path):\n    \"\"\"For subclass to add extra headers to the response\"\"\"\n    pass",
                "def get_cache_time(self, path, modified, mime_type):\n    \"\"\"Override to customize cache control behavior.\n\n    Return a positive number of seconds to make the result\n    cacheable for that amount of time or 0 to mark resource as\n    cacheable for an unspecified amount of time (subject to\n    browser heuristics).\n\n    By default returns cache expiry of 10 years for resources requested\n    with ``v`` argument.\n    \"\"\"\n    return self.CACHE_MAX_AGE if \"v\" in self.request.arguments else 0",
                "@classmethod\ndef make_static_url(cls, settings, path, include_version=True):\n    \"\"\"Constructs a versioned url for the given path.\n\n    This method may be overridden in subclasses (but note that it\n    is a class method rather than an instance method).  Subclasses\n    are only required to implement the signature\n    ``make_static_url(cls, settings, path)``; other keyword\n    arguments may be passed through `~RequestHandler.static_url`\n    but are not standard.\n\n    ``settings`` is the `Application.settings` dictionary.  ``path``\n    is the static path being requested.  The url returned should be\n    relative to the current host.\n\n    ``include_version`` determines whether the generated URL should\n    include the query string containing the version hash of the\n    file corresponding to the given ``path``.\n\n    \"\"\"\n    url = settings.get('static_url_prefix', '/static/') + path\n    if not include_version:\n        return url\n\n    version_hash = cls.get_version(settings, path)\n    if not version_hash:\n        return url\n\n    return '%s?v=%s' % (url, version_hash)",
                "def parse_url_path(self, url_path):\n    \"\"\"Converts a static URL path into a filesystem path.\n\n    ``url_path`` is the path component of the URL with\n    ``static_url_prefix`` removed.  The return value should be\n    filesystem path relative to ``static_path``.\n\n    This is the inverse of `make_static_url`.\n    \"\"\"\n    if os.path.sep != \"/\":\n        url_path = url_path.replace(\"/\", os.path.sep)\n    return url_path",
                "@classmethod\ndef get_version(cls, settings, path):\n    \"\"\"Generate the version string to be used in static URLs.\n\n    ``settings`` is the `Application.settings` dictionary and ``path``\n    is the relative location of the requested asset on the filesystem.\n    The returned value should be a string, or ``None`` if no version\n    could be determined.\n\n    .. versionchanged:: 3.1\n       This method was previously recommended for subclasses to override;\n       `get_content_version` is now preferred as it allows the base\n       class to handle caching of the result.\n    \"\"\"\n    abs_path = cls.get_absolute_path(settings['static_path'], path)\n    return cls._get_cached_version(abs_path)",
                "@classmethod\ndef _get_cached_version(cls, abs_path):\n    with cls._lock:\n        hashes = cls._static_hashes\n        if abs_path not in hashes:\n            try:\n                hashes[abs_path] = cls.get_content_version(abs_path)\n            except Exception:\n                gen_log.error(\"Could not open static file %r\", abs_path)\n                hashes[abs_path] = None\n        hsh = hashes.get(abs_path)\n        if hsh:\n            return hsh\n    return None",
                "def initialize(self, fallback):\n    self.fallback = fallback",
                "def prepare(self):\n    self.fallback(self.request)\n    self._finished = True",
                "def __init__(self, request):\n    pass",
                "def transform_first_chunk(self, status_code, headers, chunk, finishing):\n    # type: (int, httputil.HTTPHeaders, bytes, bool) -> typing.Tuple[int, httputil.HTTPHeaders, bytes]\n    return status_code, headers, chunk",
                "def transform_chunk(self, chunk, finishing):\n    return chunk",
                "def __init__(self, request):\n    self._gzipping = \"gzip\" in request.headers.get(\"Accept-Encoding\", \"\")",
                "def _compressible_type(self, ctype):\n    return ctype.startswith('text/') or ctype in self.CONTENT_TYPES",
                "def transform_first_chunk(self, status_code, headers, chunk, finishing):\n    # type: (int, httputil.HTTPHeaders, bytes, bool) -> typing.Tuple[int, httputil.HTTPHeaders, bytes]\n    # TODO: can/should this type be inherited from the superclass?\n    if 'Vary' in headers:\n        headers['Vary'] += ', Accept-Encoding'\n    else:\n        headers['Vary'] = 'Accept-Encoding'\n    if self._gzipping:\n        ctype = _unicode(headers.get(\"Content-Type\", \"\")).split(\";\")[0]\n        self._gzipping = self._compressible_type(ctype) and \\\n            (not finishing or len(chunk) >= self.MIN_LENGTH) and \\\n            (\"Content-Encoding\" not in headers)\n    if self._gzipping:\n        headers[\"Content-Encoding\"] = \"gzip\"\n        self._gzip_value = BytesIO()\n        self._gzip_file = gzip.GzipFile(mode=\"w\", fileobj=self._gzip_value,\n                                        compresslevel=self.GZIP_LEVEL)\n        chunk = self.transform_chunk(chunk, finishing)\n        if \"Content-Length\" in headers:\n            # The original content length is no longer correct.\n            # If this is the last (and only) chunk, we can set the new\n            # content-length; otherwise we remove it and fall back to\n            # chunked encoding.\n            if finishing:\n                headers[\"Content-Length\"] = str(len(chunk))\n            else:\n                del headers[\"Content-Length\"]\n    return status_code, headers, chunk",
                "def transform_chunk(self, chunk, finishing):\n    if self._gzipping:\n        self._gzip_file.write(chunk)\n        if finishing:\n            self._gzip_file.close()\n        else:\n            self._gzip_file.flush()\n        chunk = self._gzip_value.getvalue()\n        self._gzip_value.truncate(0)\n        self._gzip_value.seek(0)\n    return chunk",
                "@functools.wraps(method)\ndef wrapper(self, *args, **kwargs):\n    if not self.current_user:\n        if self.request.method in (\"GET\", \"HEAD\"):\n            url = self.get_login_url()\n            if \"?\" not in url:\n                if urlparse.urlsplit(url).scheme:\n                    # if login url is absolute, make next absolute too\n                    next_url = self.request.full_url()\n                else:\n                    next_url = self.request.uri\n                url += \"?\" + urlencode(dict(next=next_url))\n            self.redirect(url)\n            return\n        raise HTTPError(403)\n    return method(self, *args, **kwargs)",
                "def __init__(self, handler):\n    self.handler = handler\n    self.request = handler.request\n    self.ui = handler.ui\n    self.locale = handler.locale",
                "@property\ndef current_user(self):\n    return self.handler.current_user",
                "def render(self, *args, **kwargs):\n    \"\"\"Override in subclasses to return this module's output.\"\"\"\n    raise NotImplementedError()",
                "def embedded_javascript(self):\n    \"\"\"Override to return a JavaScript string\n    to be embedded in the page.\"\"\"\n    return None",
                "def javascript_files(self):\n    \"\"\"Override to return a list of JavaScript files needed by this module.\n\n    If the return values are relative paths, they will be passed to\n    `RequestHandler.static_url`; otherwise they will be used as-is.\n    \"\"\"\n    return None",
                "def embedded_css(self):\n    \"\"\"Override to return a CSS string\n    that will be embedded in the page.\"\"\"\n    return None",
                "def css_files(self):\n    \"\"\"Override to returns a list of CSS files required by this module.\n\n    If the return values are relative paths, they will be passed to\n    `RequestHandler.static_url`; otherwise they will be used as-is.\n    \"\"\"\n    return None",
                "def html_head(self):\n    \"\"\"Override to return an HTML string that will be put in the <head/>\n    element.\n    \"\"\"\n    return None",
                "def html_body(self):\n    \"\"\"Override to return an HTML string that will be put at the end of\n    the <body/> element.\n    \"\"\"\n    return None",
                "def render_string(self, path, **kwargs):\n    \"\"\"Renders a template and returns it as a string.\"\"\"\n    return self.handler.render_string(path, **kwargs)",
                "def render(self, text, **kwargs):\n    return escape.linkify(text, **kwargs)",
                "def render(self):\n    return self.handler.xsrf_form_html()",
                "def __init__(self, handler):\n    super(TemplateModule, self).__init__(handler)\n    # keep resources in both a list and a dict to preserve order\n    self._resource_list = []\n    self._resource_dict = {}",
                "def render(self, path, **kwargs):\n    def set_resources(**kwargs):\n        if path not in self._resource_dict:\n            self._resource_list.append(kwargs)\n            self._resource_dict[path] = kwargs\n        else:\n            if self._resource_dict[path] != kwargs:\n                raise ValueError(\"set_resources called with different \"\n                                 \"resources for the same template\")\n        return \"\"\n    return self.render_string(path, set_resources=set_resources,\n                              **kwargs)",
                "def _get_resources(self, key):\n    return (r[key] for r in self._resource_list if key in r)",
                "def embedded_javascript(self):\n    return \"\\n\".join(self._get_resources(\"embedded_javascript\"))",
                "def javascript_files(self):\n    result = []\n    for f in self._get_resources(\"javascript_files\"):\n        if isinstance(f, (unicode_type, bytes)):\n            result.append(f)\n        else:\n            result.extend(f)\n    return result",
                "def embedded_css(self):\n    return \"\\n\".join(self._get_resources(\"embedded_css\"))",
                "def css_files(self):\n    result = []\n    for f in self._get_resources(\"css_files\"):\n        if isinstance(f, (unicode_type, bytes)):\n            result.append(f)\n        else:\n            result.extend(f)\n    return result",
                "def html_head(self):\n    return \"\".join(self._get_resources(\"html_head\"))",
                "def html_body(self):\n    return \"\".join(self._get_resources(\"html_body\"))",
                "def __init__(self, handler, ui_modules):\n    self.handler = handler\n    self.ui_modules = ui_modules",
                "def __getitem__(self, key):\n    return self.handler._ui_module(key, self.ui_modules[key])",
                "def __getattr__(self, key):\n    try:\n        return self[key]\n    except KeyError as e:\n        raise AttributeError(str(e))",
                "def _time_independent_equals(a, b):\n    if len(a) != len(b):\n        return False\n    result = 0\n    if isinstance(a[0], int):  # python3 byte strings\n        for x, y in zip(a, b):\n            result |= x ^ y\n    else:  # python2\n        for x, y in zip(a, b):\n            result |= ord(x) ^ ord(y)\n    return result == 0",
                "def _consume_field(s):\n    length, _, rest = s.partition(b':')\n    n = int(length)\n    field_value = rest[:n]\n    # In python 3, indexing bytes returns small integers; we must\n    # use a slice to get a byte string as in python 2.\n    if rest[n:n + 1] != b'|':\n        raise ValueError(\"malformed v2 signed value field\")\n    rest = rest[n + 1:]\n    return field_value, rest",
                "def render(*args, **kwargs):\n    if not hasattr(self, \"_active_modules\"):\n        self._active_modules = {}\n    if name not in self._active_modules:\n        self._active_modules[name] = module(self)\n    rendered = self._active_modules[name].render(*args, **kwargs)\n    return rendered",
                "def set_resources(**kwargs):\n    if path not in self._resource_dict:\n        self._resource_list.append(kwargs)\n        self._resource_dict[path] = kwargs\n    else:\n        if self._resource_dict[path] != kwargs:\n            raise ValueError(\"set_resources called with different \"\n                             \"resources for the same template\")\n    return \"\"",
                "def val(x):\n    return x[2:] if x.startswith(b'W/') else x",
                "def format_field(s):\n    return utf8(\"%d:\" % len(s)) + utf8(s)",
                "def future_complete(f):\n    f.result()\n    if not self._finished:\n        self.finish()"
            ],
            "inscope_function_signatures": [
                "asynchronous(method)",
                "stream_request_body(cls)",
                "_has_stream_request_body(cls)",
                "removeslash(method)",
                "addslash(method)",
                "authenticated(method)",
                "create_signed_value(secret, name, value, version=None, clock=None, key_version=None)",
                "_get_version(value)",
                "decode_signed_value(secret, name, value, max_age_days=31, clock=None, min_version=None)",
                "_decode_signed_value_v1(secret, name, value, max_age_days, clock)",
                "_decode_fields_v2(value)",
                "_decode_signed_value_v2(secret, name, value, max_age_days, clock)",
                "get_signature_key_version(value)",
                "_create_signature_v1(secret, *parts)",
                "_create_signature_v2(secret, s)",
                "is_absolute(path)",
                "__init__(self, application, request, **kwargs)",
                "initialize(self)",
                "settings(self)",
                "head(self, *args, **kwargs)",
                "get(self, *args, **kwargs)",
                "post(self, *args, **kwargs)",
                "delete(self, *args, **kwargs)",
                "patch(self, *args, **kwargs)",
                "put(self, *args, **kwargs)",
                "options(self, *args, **kwargs)",
                "prepare(self)",
                "on_finish(self)",
                "on_connection_close(self)",
                "clear(self)",
                "set_default_headers(self)",
                "set_status(self, status_code, reason=None)",
                "get_status(self)",
                "set_header(self, name, value)",
                "add_header(self, name, value)",
                "clear_header(self, name)",
                "_convert_header_value(self, value)",
                "get_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                "get_arguments(self, name, strip=True)",
                "get_body_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                "get_body_arguments(self, name, strip=True)",
                "get_query_argument(self, name, default=_ARG_DEFAULT, strip=True)",
                "get_query_arguments(self, name, strip=True)",
                "_get_argument(self, name, default, source, strip=True)",
                "_get_arguments(self, name, source, strip=True)",
                "decode_argument(self, value, name=None)",
                "cookies(self)",
                "get_cookie(self, name, default=None)",
                "set_cookie(self, name, value, domain=None, expires=None, path='/', expires_days=None, **kwargs)",
                "clear_cookie(self, name, path='/', domain=None)",
                "clear_all_cookies(self, path='/', domain=None)",
                "set_secure_cookie(self, name, value, expires_days=30, version=None, **kwargs)",
                "create_signed_value(self, name, value, version=None)",
                "get_secure_cookie(self, name, value=None, max_age_days=31, min_version=None)",
                "get_secure_cookie_key_version(self, name, value=None)",
                "redirect(self, url, permanent=False, status=None)",
                "write(self, chunk)",
                "render(self, template_name, **kwargs)",
                "render_linked_js(self, js_files)",
                "render_embed_js(self, js_embed)",
                "render_linked_css(self, css_files)",
                "render_embed_css(self, css_embed)",
                "render_string(self, template_name, **kwargs)",
                "get_template_namespace(self)",
                "create_template_loader(self, template_path)",
                "flush(self, include_footers=False, callback=None)",
                "finish(self, chunk=None)",
                "send_error(self, status_code=500, **kwargs)",
                "write_error(self, status_code, **kwargs)",
                "locale(self)",
                "locale(self, value)",
                "get_user_locale(self)",
                "get_browser_locale(self, default='en_US')",
                "current_user(self)",
                "current_user(self, value)",
                "get_current_user(self)",
                "get_login_url(self)",
                "get_template_path(self)",
                "xsrf_token(self)",
                "_get_raw_xsrf_token(self)",
                "_decode_xsrf_token(self, cookie)",
                "check_xsrf_cookie(self)",
                "xsrf_form_html(self)",
                "static_url(self, path, include_host=None, **kwargs)",
                "require_setting(self, name, feature='this feature')",
                "reverse_url(self, name, *args)",
                "compute_etag(self)",
                "set_etag_header(self)",
                "check_etag_header(self)",
                "_stack_context_handle_exception(self, type, value, traceback)",
                "_execute(self, transforms, *args, **kwargs)",
                "data_received(self, chunk)",
                "_log(self)",
                "_request_summary(self)",
                "_handle_request_exception(self, e)",
                "log_exception(self, typ, value, tb)",
                "_ui_module(self, name, module)",
                "_ui_method(self, method)",
                "_clear_headers_for_304(self)",
                "wrapper(self, *args, **kwargs)",
                "wrapper(self, *args, **kwargs)",
                "wrapper(self, *args, **kwargs)",
                "__init__(self, application, rules=None)",
                "process_rule(self, rule)",
                "get_target_delegate(self, target, request, **target_params)",
                "__init__(self, handlers=None, default_host=None, transforms=None, **settings)",
                "listen(self, port, address='', **kwargs)",
                "add_handlers(self, host_pattern, host_handlers)",
                "add_transform(self, transform_class)",
                "_load_ui_methods(self, methods)",
                "_load_ui_modules(self, modules)",
                "__call__(self, request)",
                "find_handler(self, request, **kwargs)",
                "get_handler_delegate(self, request, target_class, target_kwargs=None, path_args=None, path_kwargs=None)",
                "reverse_url(self, name, *args)",
                "log_request(self, handler)",
                "__init__(self, application, request, handler_class, handler_kwargs, path_args, path_kwargs)",
                "headers_received(self, start_line, headers)",
                "data_received(self, data)",
                "finish(self)",
                "on_connection_close(self)",
                "execute(self)",
                "__init__(self, status_code=500, log_message=None, *args, **kwargs)",
                "__str__(self)",
                "__init__(self, arg_name)",
                "initialize(self, status_code)",
                "prepare(self)",
                "check_xsrf_cookie(self)",
                "initialize(self, url, permanent=True)",
                "get(self, *args)",
                "initialize(self, path, default_filename=None)",
                "reset(cls)",
                "head(self, path)",
                "get(self, path, include_body=True)",
                "compute_etag(self)",
                "set_headers(self)",
                "should_return_304(self)",
                "get_absolute_path(cls, root, path)",
                "validate_absolute_path(self, root, absolute_path)",
                "get_content(cls, abspath, start=None, end=None)",
                "get_content_version(cls, abspath)",
                "_stat(self)",
                "get_content_size(self)",
                "get_modified_time(self)",
                "get_content_type(self)",
                "set_extra_headers(self, path)",
                "get_cache_time(self, path, modified, mime_type)",
                "make_static_url(cls, settings, path, include_version=True)",
                "parse_url_path(self, url_path)",
                "get_version(cls, settings, path)",
                "_get_cached_version(cls, abs_path)",
                "initialize(self, fallback)",
                "prepare(self)",
                "__init__(self, request)",
                "transform_first_chunk(self, status_code, headers, chunk, finishing)",
                "transform_chunk(self, chunk, finishing)",
                "__init__(self, request)",
                "_compressible_type(self, ctype)",
                "transform_first_chunk(self, status_code, headers, chunk, finishing)",
                "transform_chunk(self, chunk, finishing)",
                "wrapper(self, *args, **kwargs)",
                "__init__(self, handler)",
                "current_user(self)",
                "render(self, *args, **kwargs)",
                "embedded_javascript(self)",
                "javascript_files(self)",
                "embedded_css(self)",
                "css_files(self)",
                "html_head(self)",
                "html_body(self)",
                "render_string(self, path, **kwargs)",
                "render(self, text, **kwargs)",
                "render(self)",
                "__init__(self, handler)",
                "render(self, path, **kwargs)",
                "_get_resources(self, key)",
                "embedded_javascript(self)",
                "javascript_files(self)",
                "embedded_css(self)",
                "css_files(self)",
                "html_head(self)",
                "html_body(self)",
                "__init__(self, handler, ui_modules)",
                "__getitem__(self, key)",
                "__getattr__(self, key)",
                "_time_independent_equals(a, b)",
                "_consume_field(s)",
                "render(*args, **kwargs)",
                "set_resources(**kwargs)",
                "val(x)",
                "format_field(s)",
                "future_complete(f)"
            ],
            "variables_in_file": {
                "url": [
                    99,
                    2883,
                    2884,
                    2885,
                    2695,
                    2697,
                    2890,
                    2891,
                    2701,
                    2703,
                    688,
                    2258
                ],
                "URLSpec": [
                    99
                ],
                "PY3": [
                    101
                ],
                "_HeaderTypes": [
                    115
                ],
                "typing.Union": [
                    115
                ],
                "typing": [
                    115
                ],
                "bytes": [
                    739,
                    709,
                    2599,
                    3017,
                    748,
                    2413,
                    370,
                    115,
                    3029
                ],
                "unicode_type": [
                    739,
                    709,
                    489,
                    3017,
                    748,
                    115,
                    3029,
                    374
                ],
                "numbers.Integral": [
                    378,
                    116
                ],
                "numbers": [
                    378,
                    116
                ],
                "datetime.datetime": [
                    578,
                    553,
                    2634,
                    2476,
                    116,
                    2456,
                    381
                ],
                "datetime": [
                    578,
                    553,
                    2634,
                    2476,
                    116,
                    2456,
                    2457,
                    381
                ],
                "ImportError": [
                    117
                ],
                "MIN_SUPPORTED_SIGNED_VALUE_VERSION": [
                    121
                ],
                "MAX_SUPPORTED_SIGNED_VALUE_VERSION": [
                    129
                ],
                "DEFAULT_SIGNED_VALUE_VERSION": [
                    137,
                    3077
                ],
                "DEFAULT_SIGNED_VALUE_MIN_VERSION": [
                    145,
                    3156
                ],
                "object": [
                    3042,
                    391,
                    2898,
                    2775,
                    154
                ],
                "SUPPORTED_METHODS": [
                    160
                ],
                "_template_loaders": [
                    163
                ],
                "_template_loader_lock": [
                    164
                ],
                "threading.Lock": [
                    164,
                    2334
                ],
                "threading": [
                    164,
                    2334
                ],
                "_remove_control_chars_regex": [
                    165
                ],
                "re.compile": [
                    3125,
                    165,
                    359
                ],
                "re": [
                    165,
                    359,
                    1896,
                    3125,
                    541,
                    1437
                ],
                "__init__": [
                    168,
                    2209,
                    2990,
                    1782
                ],
                "super": [
                    2209,
                    1796,
                    168,
                    2990,
                    1782,
                    1785
                ],
                "RequestHandler": [
                    1793,
                    387,
                    2265,
                    2214,
                    168,
                    2107,
                    492,
                    1712,
                    2229,
                    1719,
                    856,
                    857,
                    2106,
                    859,
                    861,
                    2751
                ],
                "self": [
                    2049,
                    2050,
                    2066,
                    2067,
                    2068,
                    2069,
                    2070,
                    2071,
                    2072,
                    2073,
                    2074,
                    2077,
                    2078,
                    2079,
                    2082,
                    2083,
                    2085,
                    2088,
                    2089,
                    2091,
                    2092,
                    2093,
                    2096,
                    2097,
                    2099,
                    2105,
                    2109,
                    2112,
                    2113,
                    2114,
                    2116,
                    2117,
                    2125,
                    2126,
                    2130,
                    2156,
                    2157,
                    2158,
                    2159,
                    2161,
                    2165,
                    2166,
                    2167,
                    2168,
                    2209,
                    2211,
                    168,
                    2217,
                    170,
                    171,
                    172,
                    173,
                    174,
                    175,
                    176,
                    177,
                    178,
                    179,
                    180,
                    2220,
                    187,
                    189,
                    190,
                    191,
                    192,
                    2258,
                    2259,
                    2262,
                    218,
                    282,
                    283,
                    284,
                    285,
                    289,
                    2337,
                    2338,
                    294,
                    295,
                    296,
                    297,
                    2346,
                    2351,
                    2353,
                    2354,
                    2355,
                    2356,
                    2359,
                    2360,
                    2362,
                    2363,
                    318,
                    2367,
                    320,
                    323,
                    2373,
                    329,
                    2380,
                    2381,
                    2382,
                    339,
                    2395,
                    348,
                    2396,
                    356,
                    357,
                    2409,
                    2412,
                    2417,
                    2418,
                    2422,
                    2433,
                    2443,
                    2444,
                    2446,
                    2447,
                    2449,
                    2451,
                    404,
                    2453,
                    2456,
                    2458,
                    2460,
                    419,
                    2467,
                    2472,
                    2477,
                    435,
                    447,
                    463,
                    464,
                    475,
                    478,
                    480,
                    2535,
                    488,
                    2537,
                    2541,
                    2542,
                    2544,
                    2548,
                    521,
                    525,
                    526,
                    544,
                    545,
                    546,
                    547,
                    548,
                    549,
                    2607,
                    2608,
                    2609,
                    2622,
                    579,
                    2633,
                    592,
                    593,
                    2643,
                    617,
                    2673,
                    633,
                    634,
                    637,
                    639,
                    656,
                    658,
                    659,
                    668,
                    670,
                    681,
                    687,
                    688,
                    689,
                    707,
                    716,
                    718,
                    2768,
                    722,
                    2771,
                    724,
                    2772,
                    733,
                    761,
                    765,
                    769,
                    773,
                    2821,
                    2824,
                    782,
                    2833,
                    2835,
                    2836,
                    2838,
                    2840,
                    2841,
                    2842,
                    795,
                    2843,
                    2856,
                    2857,
                    2859,
                    2861,
                    2862,
                    2863,
                    2864,
                    824,
                    2881,
                    2882,
                    2883,
                    2887,
                    2889,
                    2891,
                    2894,
                    849,
                    858,
                    2908,
                    2909,
                    2910,
                    863,
                    2911,
                    2915,
                    877,
                    878,
                    879,
                    880,
                    881,
                    882,
                    883,
                    884,
                    885,
                    887,
                    899,
                    2961,
                    923,
                    924,
                    925,
                    926,
                    927,
                    928,
                    2971,
                    930,
                    933,
                    939,
                    940,
                    941,
                    2990,
                    944,
                    945,
                    946,
                    947,
                    2992,
                    949,
                    2993,
                    2997,
                    952,
                    953,
                    2998,
                    2999,
                    3001,
                    3005,
                    961,
                    3009,
                    3012,
                    965,
                    3016,
                    969,
                    970,
                    971,
                    972,
                    973,
                    974,
                    975,
                    976,
                    977,
                    978,
                    979,
                    980,
                    981,
                    982,
                    3024,
                    984,
                    3028,
                    3036,
                    989,
                    991,
                    992,
                    993,
                    994,
                    995,
                    3039,
                    3045,
                    998,
                    3046,
                    3049,
                    3053,
                    1011,
                    1013,
                    1019,
                    1024,
                    1031,
                    1033,
                    1036,
                    1037,
                    1051,
                    1053,
                    1055,
                    1056,
                    1058,
                    1061,
                    1076,
                    1077,
                    1078,
                    1079,
                    1080,
                    1081,
                    1085,
                    1102,
                    1103,
                    1153,
                    1154,
                    1155,
                    1159,
                    1173,
                    1174,
                    1182,
                    1212,
                    1213,
                    1214,
                    1215,
                    1217,
                    1220,
                    1229,
                    1230,
                    1233,
                    1246,
                    1247,
                    1249,
                    1256,
                    1257,
                    1320,
                    1321,
                    1322,
                    1325,
                    1326,
                    1346,
                    1369,
                    1370,
                    1374,
                    1377,
                    1381,
                    1385,
                    1391,
                    1402,
                    1413,
                    1415,
                    1434,
                    1439,
                    1466,
                    1472,
                    1474,
                    1476,
                    1477,
                    1481,
                    1482,
                    1483,
                    1485,
                    1488,
                    1491,
                    1492,
                    1495,
                    1501,
                    1505,
                    1506,
                    1509,
                    1510,
                    1513,
                    1516,
                    1517,
                    1521,
                    1537,
                    1540,
                    1541,
                    1546,
                    1547,
                    1550,
                    1555,
                    1563,
                    1565,
                    1567,
                    1582,
                    1586,
                    1587,
                    1591,
                    1592,
                    1593,
                    1594,
                    1595,
                    1600,
                    1611,
                    1663,
                    1665,
                    1666,
                    1678,
                    1679,
                    1733,
                    1734,
                    1735,
                    1737,
                    1738,
                    1739,
                    1743,
                    1756,
                    1757,
                    1758,
                    1759,
                    1760,
                    1761,
                    1764,
                    1781,
                    1782,
                    1785,
                    1788,
                    1794,
                    1796,
                    1873,
                    1875,
                    1877,
                    1878,
                    1879,
                    1880,
                    1884,
                    1885,
                    1886,
                    1887,
                    1888,
                    1901,
                    1902,
                    1903,
                    1904,
                    1905,
                    1907,
                    1908,
                    1909,
                    1913,
                    1939,
                    1950,
                    1952,
                    1954,
                    1955,
                    1956,
                    1961,
                    1965,
                    1969,
                    1974,
                    1978,
                    1982,
                    1988,
                    1994,
                    1998,
                    2002,
                    2003,
                    2005,
                    2006,
                    2008,
                    2024,
                    2035
                ],
                "self.application": [
                    1537,
                    1794,
                    899,
                    2066,
                    659,
                    1174,
                    1182,
                    170,
                    2105,
                    2109,
                    2112,
                    2114,
                    1482,
                    218,
                    1385,
                    1391,
                    1781,
                    634,
                    1788,
                    637,
                    639
                ],
                "application": [
                    170,
                    2066,
                    1780,
                    1781,
                    181,
                    188
                ],
                "self.request": [
                    1540,
                    1541,
                    521,
                    525,
                    526,
                    404,
                    2068,
                    283,
                    284,
                    285,
                    2078,
                    1439,
                    419,
                    933,
                    2472,
                    1321,
                    1322,
                    171,
                    2089,
                    2091,
                    2092,
                    946,
                    435,
                    1587,
                    952,
                    953,
                    447,
                    191,
                    2112,
                    1474,
                    2114,
                    2367,
                    1733,
                    1734,
                    1735,
                    2882,
                    1481,
                    1737,
                    971,
                    1738,
                    2887,
                    1102,
                    1103,
                    464,
                    592,
                    2889,
                    2771,
                    984,
                    475,
                    1756,
                    989,
                    1501,
                    1757,
                    992,
                    1377,
                    1505,
                    1758,
                    1759,
                    1760,
                    2909,
                    2541,
                    878,
                    2542,
                    2673,
                    2422
                ],
                "request": [
                    1794,
                    1796,
                    2821,
                    2024,
                    1994,
                    171,
                    1998,
                    2067,
                    2004,
                    2068,
                    2009
                ],
                "self._headers_written": [
                    681,
                    969,
                    172,
                    1011,
                    925,
                    926
                ],
                "self._finished": [
                    961,
                    994,
                    707,
                    1509,
                    1546,
                    1036,
                    173,
                    1678,
                    722,
                    1555,
                    1492,
                    1013,
                    2772
                ],
                "self._auto_finish": [
                    1509,
                    174,
                    1663
                ],
                "self._transforms": [
                    927,
                    1472,
                    949,
                    175
                ],
                "self._prepared_future": [
                    1516,
                    1517,
                    176,
                    1488,
                    1521,
                    1491
                ],
                "self._headers": [
                    928,
                    289,
                    930,
                    356,
                    357,
                    972,
                    177,
                    339,
                    947,
                    980,
                    1434,
                    348
                ],
                "self.path_args": [
                    1506,
                    1476,
                    2125,
                    178,
                    2071
                ],
                "self.path_kwargs": [
                    1506,
                    1477,
                    2126,
                    179,
                    2072
                ],
                "self.ui": [
                    998,
                    180,
                    887,
                    187,
                    189,
                    2910
                ],
                "ObjectDict": [
                    180
                ],
                "n": [
                    3210,
                    3211,
                    1965,
                    1966,
                    3214,
                    3216,
                    180,
                    1978,
                    1979
                ],
                "self._ui_method": [
                    180
                ],
                "m": [
                    3137,
                    1968,
                    1265,
                    1969,
                    1267,
                    180,
                    1268,
                    3133,
                    3132,
                    1981,
                    1982
                ],
                "application.ui_methods.items": [
                    181
                ],
                "application.ui_methods": [
                    181
                ],
                "_UIModuleNamespace": [
                    187
                ],
                "application.ui_modules": [
                    188
                ],
                "self.clear": [
                    1024,
                    190
                ],
                "self.request.connection.set_close_callback": [
                    989,
                    191
                ],
                "self.request.connection": [
                    953,
                    946,
                    989,
                    191
                ],
                "self.on_connection_close": [
                    191
                ],
                "self.initialize": [
                    192
                ],
                "kwargs": [
                    1026,
                    1027,
                    1028,
                    1666,
                    902,
                    1033,
                    906,
                    908,
                    909,
                    2961,
                    1939,
                    2966,
                    1051,
                    1054,
                    559,
                    2998,
                    2999,
                    3001,
                    1595,
                    3006,
                    192,
                    1600,
                    1478,
                    2894,
                    1743,
                    724,
                    864,
                    1764,
                    1381,
                    619,
                    2159
                ],
                "self.application.settings": [
                    899,
                    1385,
                    1482,
                    659,
                    2109,
                    634,
                    1174,
                    2105,
                    218,
                    637,
                    1182,
                    639
                ],
                "property": [
                    1184,
                    1121,
                    2913,
                    517,
                    1064,
                    215
                ],
                "HTTPError": [
                    514,
                    1029,
                    2200,
                    1560,
                    1579,
                    1324,
                    2220,
                    1328,
                    1330,
                    1475,
                    2893,
                    1742,
                    221,
                    224,
                    227,
                    1763,
                    230,
                    2534,
                    233,
                    236,
                    239,
                    2546,
                    2548
                ],
                "_has_stream_request_body": [
                    282,
                    2074,
                    1495
                ],
                "self.__class__": [
                    282,
                    1495
                ],
                "self.request.body.done": [
                    283
                ],
                "self.request.body": [
                    2089,
                    2091,
                    285,
                    283,
                    284,
                    1501,
                    2078
                ],
                "self.request.body.set_exception": [
                    284
                ],
                "iostream.StreamClosedError": [
                    2419,
                    284,
                    1502
                ],
                "iostream": [
                    2419,
                    284,
                    1502
                ],
                "self.request.body.exception": [
                    285
                ],
                "httputil.HTTPHeaders": [
                    289
                ],
                "httputil": [
                    289,
                    323,
                    292,
                    2371,
                    297,
                    556,
                    943,
                    2063,
                    2166,
                    1561,
                    2397,
                    382
                ],
                "tornado.version": [
                    290
                ],
                "tornado": [
                    290
                ],
                "httputil.format_timestamp": [
                    292,
                    382,
                    556
                ],
                "time.time": [
                    292,
                    3079,
                    1287,
                    1255,
                    3154
                ],
                "time": [
                    292,
                    3079,
                    1287,
                    1255,
                    3154
                ],
                "self.set_default_headers": [
                    294
                ],
                "self._write_buffer": [
                    295,
                    718,
                    975,
                    978,
                    981,
                    1402,
                    923,
                    924
                ],
                "self._status_code": [
                    928,
                    930,
                    296,
                    329,
                    970,
                    2220,
                    944,
                    977,
                    978,
                    318
                ],
                "self._reason": [
                    320,
                    323,
                    1061,
                    297,
                    945
                ],
                "httputil.responses": [
                    297,
                    2166,
                    323,
                    1561
                ],
                "status_code": [
                    323,
                    1060,
                    325,
                    2787,
                    1031,
                    2853,
                    1033,
                    2217,
                    2156,
                    318
                ],
                "reason": [
                    320,
                    1026,
                    1030,
                    1031,
                    319
                ],
                "escape.native_str": [
                    320,
                    539,
                    540
                ],
                "escape": [
                    320,
                    800,
                    1346,
                    715,
                    2966,
                    377,
                    539,
                    540,
                    829
                ],
                "KeyError": [
                    324,
                    3237,
                    3054,
                    2039
                ],
                "ValueError": [
                    388,
                    325,
                    1226,
                    3146,
                    3215,
                    3120,
                    1110,
                    3158,
                    3002,
                    3262,
                    3230,
                    543
                ],
                "name": [
                    641,
                    515,
                    3084,
                    525,
                    526,
                    658,
                    404,
                    660,
                    539,
                    541,
                    670,
                    543,
                    546,
                    419,
                    547,
                    548,
                    549,
                    3108,
                    3243,
                    435,
                    1971,
                    1972,
                    1973,
                    1974,
                    1593,
                    1594,
                    1595,
                    447,
                    1985,
                    579,
                    1988,
                    463,
                    592,
                    593,
                    339,
                    475,
                    348,
                    478,
                    3168,
                    481,
                    3171,
                    356,
                    357,
                    487,
                    488,
                    617,
                    1385,
                    1387,
                    3181,
                    1391,
                    2035,
                    2039
                ],
                "self._convert_header_value": [
                    339,
                    348
                ],
                "value": [
                    384,
                    512,
                    641,
                    515,
                    1159,
                    3082,
                    3084,
                    3085,
                    526,
                    3086,
                    657,
                    658,
                    3219,
                    660,
                    540,
                    541,
                    669,
                    543,
                    670,
                    671,
                    3229,
                    3232,
                    548,
                    3109,
                    1579,
                    1580,
                    1581,
                    1582,
                    1583,
                    1587,
                    1464,
                    3256,
                    1466,
                    3257,
                    3132,
                    1085,
                    3261,
                    3196,
                    339,
                    3159,
                    3162,
                    3163,
                    348,
                    3168,
                    3171,
                    617,
                    3178,
                    3183,
                    368,
                    369,
                    370,
                    3187,
                    373,
                    374,
                    377,
                    378,
                    380,
                    381,
                    382,
                    3199
                ],
                "self._headers.add": [
                    348
                ],
                "_INVALID_HEADER_CHAR_RE": [
                    359
                ],
                "isinstance": [
                    1029,
                    1544,
                    1560,
                    417,
                    3234,
                    2599,
                    3112,
                    1579,
                    1964,
                    686,
                    1967,
                    1977,
                    1980,
                    1984,
                    709,
                    711,
                    3017,
                    714,
                    3029,
                    739,
                    489,
                    748,
                    2413,
                    368,
                    370,
                    1780,
                    374,
                    3065,
                    378,
                    1787,
                    636,
                    381
                ],
                "str": [
                    2850,
                    3106,
                    1224,
                    3081,
                    3055,
                    368,
                    2458,
                    380
                ],
                "retval": [
                    387,
                    388,
                    389,
                    369,
                    373,
                    377
                ],
                "value.decode": [
                    373
                ],
                "escape.utf8": [
                    377
                ],
                "TypeError": [
                    384,
                    1284,
                    1989,
                    713,
                    1713,
                    1110,
                    1720
                ],
                "RequestHandler._INVALID_HEADER_CHAR_RE.search": [
                    387
                ],
                "RequestHandler._INVALID_HEADER_CHAR_RE": [
                    387
                ],
                "_ARG_DEFAULT": [
                    393,
                    449,
                    421,
                    391
                ],
                "self._get_argument": [
                    435,
                    404,
                    463
                ],
                "default": [
                    480,
                    482,
                    463,
                    527,
                    435,
                    404,
                    1119
                ],
                "self.request.arguments": [
                    2673,
                    419,
                    404
                ],
                "strip": [
                    417,
                    419,
                    493,
                    464,
                    436,
                    404,
                    475,
                    478,
                    447
                ],
                "bool": [
                    417
                ],
                "self._get_arguments": [
                    419,
                    478,
                    475,
                    447
                ],
                "self.request.body_arguments": [
                    435,
                    447
                ],
                "self.request.query_arguments": [
                    464,
                    475
                ],
                "args": [
                    1600,
                    1666,
                    483,
                    1476,
                    1764,
                    1582,
                    1391,
                    1584,
                    1743,
                    2158,
                    2035,
                    2160,
                    2894,
                    2262,
                    1595,
                    478,
                    479
                ],
                "source": [
                    478,
                    487
                ],
                "self._ARG_DEFAULT": [
                    480
                ],
                "MissingArgumentError": [
                    481,
                    2209
                ],
                "values": [
                    496,
                    733,
                    486,
                    495
                ],
                "v": [
                    1477,
                    1478,
                    487,
                    488,
                    489,
                    492,
                    494,
                    495,
                    559,
                    565,
                    568
                ],
                "source.get": [
                    487
                ],
                "self.decode_argument": [
                    488,
                    1476,
                    1477
                ],
                "RequestHandler._remove_control_chars_regex.sub": [
                    492
                ],
                "RequestHandler._remove_control_chars_regex": [
                    492
                ],
                "v.strip": [
                    494
                ],
                "values.append": [
                    495
                ],
                "_unicode": [
                    512,
                    2834
                ],
                "UnicodeDecodeError": [
                    513
                ],
                "self.request.cookies": [
                    592,
                    521,
                    525,
                    526
                ],
                "re.search": [
                    541
                ],
                "hasattr": [
                    544,
                    1153,
                    939,
                    2607,
                    3058,
                    1076,
                    1972,
                    1591,
                    984,
                    1212,
                    1246
                ],
                "self._new_cookie": [
                    545,
                    546,
                    547,
                    548,
                    549,
                    940
                ],
                "Cookie.SimpleCookie": [
                    545
                ],
                "Cookie": [
                    545
                ],
                "morsel": [
                    549,
                    551,
                    556,
                    558,
                    568
                ],
                "domain": [
                    593,
                    580,
                    550,
                    551
                ],
                "expires_days": [
                    552,
                    554,
                    619,
                    1229,
                    1231
                ],
                "expires": [
                    578,
                    579,
                    552,
                    553,
                    555,
                    556
                ],
                "datetime.datetime.utcnow": [
                    2456,
                    553,
                    578
                ],
                "datetime.timedelta": [
                    553,
                    578,
                    2457
                ],
                "path": [
                    2695,
                    2699,
                    2961,
                    793,
                    794,
                    795,
                    796,
                    797,
                    798,
                    2337,
                    2346,
                    2732,
                    557,
                    558,
                    2351,
                    2352,
                    2997,
                    822,
                    823,
                    824,
                    825,
                    826,
                    827,
                    2999,
                    3001,
                    3005,
                    2496,
                    579,
                    593,
                    3282,
                    1888,
                    1381,
                    1895
                ],
                "k": [
                    1477,
                    1478,
                    559,
                    560,
                    561,
                    565,
                    568
                ],
                "kwargs.items": [
                    1478,
                    559
                ],
                "self.set_cookie": [
                    617,
                    579,
                    1230
                ],
                "self.clear_cookie": [
                    593
                ],
                "self.create_signed_value": [
                    617
                ],
                "version": [
                    641,
                    1281,
                    3076,
                    3077,
                    1288,
                    3083,
                    3087,
                    3114,
                    3120,
                    3257,
                    3258,
                    1213,
                    3134,
                    3137,
                    3138,
                    3145,
                    3147,
                    1228,
                    3148,
                    3163,
                    3165,
                    3167,
                    1249,
                    3170,
                    1251,
                    1253,
                    1256,
                    618,
                    1268,
                    1269,
                    1276
                ],
                "self.require_setting": [
                    1369,
                    656,
                    1173,
                    633,
                    668
                ],
                "secret": [
                    3168,
                    641,
                    3234,
                    3171,
                    3236,
                    3269,
                    3112,
                    3240,
                    3115,
                    3084,
                    3117,
                    3181,
                    3276,
                    634,
                    636
                ],
                "key_version": [
                    3265,
                    642,
                    3106,
                    3236,
                    3113,
                    3115,
                    3220,
                    3261,
                    3224,
                    635,
                    3229,
                    639
                ],
                "dict": [
                    1984,
                    3234,
                    1477,
                    709,
                    3112,
                    714,
                    2890,
                    876,
                    1965,
                    1978,
                    636
                ],
                "self.application.settings.get": [
                    1385,
                    1482,
                    2109,
                    2105,
                    637,
                    1182
                ],
                "Exception": [
                    3203,
                    1511,
                    1289,
                    682,
                    1034,
                    1386,
                    1514,
                    1551,
                    3251,
                    2133,
                    2742,
                    1465,
                    1020,
                    2173,
                    638,
                    1279
                ],
                "create_signed_value": [
                    641
                ],
                "self.get_cookie": [
                    658,
                    670,
                    1247
                ],
                "decode_signed_value": [
                    659
                ],
                "max_age_days": [
                    3169,
                    3172,
                    3246,
                    3186,
                    660
                ],
                "min_version": [
                    3155,
                    3156,
                    3157,
                    661,
                    3158,
                    3165
                ],
                "get_signature_key_version": [
                    671
                ],
                "status": [
                    683,
                    684,
                    686,
                    687
                ],
                "permanent": [
                    2259,
                    684
                ],
                "int": [
                    3137,
                    1287,
                    1224,
                    3081,
                    3210,
                    3245,
                    686,
                    3185,
                    1268,
                    3224,
                    3065,
                    1275
                ],
                "self.set_status": [
                    1031,
                    2217,
                    2380,
                    687,
                    976,
                    2395,
                    2363
                ],
                "self.set_header": [
                    1415,
                    2409,
                    2443,
                    716,
                    2381,
                    2382,
                    2447,
                    688,
                    2451,
                    982,
                    2456,
                    2458,
                    2396,
                    1053
                ],
                "utf8": [
                    771,
                    1283,
                    1285,
                    3081,
                    3082,
                    1434,
                    1439,
                    3103,
                    3243,
                    688,
                    1329,
                    3256,
                    3269,
                    3271,
                    1224,
                    3272,
                    3276,
                    717,
                    3277,
                    3278,
                    3162,
                    736,
                    745,
                    3178,
                    1265,
                    754,
                    757,
                    1272,
                    1274,
                    763
                ],
                "self.finish": [
                    1056,
                    1058,
                    1510,
                    1547,
                    1037,
                    782,
                    1679,
                    689,
                    1019
                ],
                "RuntimeError": [
                    962,
                    723,
                    708
                ],
                "chunk": [
                    2578,
                    2579,
                    2836,
                    2581,
                    2582,
                    923,
                    2843,
                    928,
                    2850,
                    931,
                    2853,
                    934,
                    2857,
                    2602,
                    2603,
                    2862,
                    2865,
                    947,
                    950,
                    953,
                    964,
                    709,
                    965,
                    711,
                    714,
                    715,
                    717,
                    718,
                    2787,
                    2790,
                    2415,
                    2417
                ],
                "message": [
                    710,
                    712,
                    713,
                    2164,
                    2168,
                    2170
                ],
                "list": [
                    1889,
                    711,
                    1967,
                    1583,
                    1787,
                    1980
                ],
                "escape.json_encode": [
                    715
                ],
                "self._write_buffer.append": [
                    718
                ],
                "html": [
                    770,
                    771,
                    774,
                    775,
                    777,
                    778,
                    780,
                    781,
                    782,
                    724,
                    762,
                    763,
                    766,
                    767
                ],
                "self.render_string": [
                    724,
                    3005
                ],
                "template_name": [
                    724,
                    862
                ],
                "js_embed": [
                    736,
                    811,
                    727,
                    764,
                    765
                ],
                "js_files": [
                    740,
                    742,
                    793,
                    759,
                    728,
                    761
                ],
                "css_embed": [
                    772,
                    773,
                    839,
                    745,
                    729
                ],
                "css_files": [
                    768,
                    769,
                    749,
                    751,
                    822,
                    730
                ],
                "html_heads": [
                    776,
                    778,
                    754,
                    731
                ],
                "html_bodies": [
                    781,
                    779,
                    732,
                    757
                ],
                "module": [
                    737,
                    743,
                    746,
                    752,
                    755,
                    1594,
                    733,
                    734
                ],
                "getattr": [
                    1505,
                    1965,
                    1721,
                    1978,
                    733,
                    1374
                ],
                "embed_part": [
                    736,
                    743,
                    744,
                    745,
                    734,
                    735
                ],
                "module.embedded_javascript": [
                    734
                ],
                "js_embed.append": [
                    736
                ],
                "file_part": [
                    737,
                    738,
                    739,
                    740,
                    742,
                    746,
                    747,
                    748,
                    749,
                    751
                ],
                "module.javascript_files": [
                    737
                ],
                "js_files.append": [
                    740
                ],
                "js_files.extend": [
                    742
                ],
                "module.embedded_css": [
                    743
                ],
                "css_embed.append": [
                    745
                ],
                "module.css_files": [
                    746
                ],
                "css_files.append": [
                    749
                ],
                "css_files.extend": [
                    751
                ],
                "head_part": [
                    752,
                    753,
                    754
                ],
                "module.html_head": [
                    752
                ],
                "html_heads.append": [
                    754
                ],
                "body_part": [
                    755,
                    756,
                    757
                ],
                "module.html_body": [
                    755
                ],
                "html_bodies.append": [
                    757
                ],
                "js": [
                    761,
                    763,
                    765,
                    767
                ],
                "self.render_linked_js": [
                    761
                ],
                "sloc": [
                    762,
                    763,
                    766,
                    767
                ],
                "html.rindex": [
                    762,
                    766
                ],
                "self.render_embed_js": [
                    765
                ],
                "css": [
                    769,
                    771,
                    773,
                    775
                ],
                "self.render_linked_css": [
                    769
                ],
                "hloc": [
                    770,
                    771,
                    774,
                    775,
                    777,
                    778,
                    780,
                    781
                ],
                "html.index": [
                    777,
                    770,
                    780,
                    774
                ],
                "self.render_embed_css": [
                    773
                ],
                "join": [
                    800,
                    3104,
                    1220,
                    3012,
                    839,
                    778,
                    811,
                    2091,
                    781,
                    3085,
                    3024,
                    923,
                    3036,
                    829,
                    3039
                ],
                "paths": [
                    802,
                    819,
                    790,
                    826,
                    797,
                    831
                ],
                "unique_paths": [
                    820,
                    791,
                    825,
                    827,
                    796,
                    798
                ],
                "set": [
                    820,
                    2805,
                    791
                ],
                "is_absolute": [
                    794,
                    823
                ],
                "self.static_url": [
                    824,
                    883,
                    795
                ],
                "paths.append": [
                    826,
                    797
                ],
                "unique_paths.add": [
                    827,
                    798
                ],
                "escape.xhtml_escape": [
                    800,
                    1346,
                    829
                ],
                "p": [
                    800,
                    802,
                    829,
                    831
                ],
                "template_path": [
                    909,
                    849,
                    850,
                    855,
                    857,
                    858,
                    859,
                    861
                ],
                "self.get_template_path": [
                    849
                ],
                "frame": [
                    851,
                    852,
                    853,
                    854,
                    855
                ],
                "sys._getframe": [
                    851
                ],
                "sys": [
                    1550,
                    851,
                    1563,
                    1565,
                    1567
                ],
                "web_file": [
                    852,
                    853
                ],
                "frame.f_code.co_filename": [
                    852,
                    853,
                    855
                ],
                "frame.f_code": [
                    852,
                    853,
                    855
                ],
                "frame.f_back": [
                    854
                ],
                "os.path.dirname": [
                    855
                ],
                "os.path": [
                    2496,
                    2530,
                    2533,
                    2536,
                    2715,
                    2544,
                    2545,
                    2547,
                    855,
                    2714,
                    2523,
                    2524
                ],
                "os": [
                    2496,
                    2530,
                    1219,
                    2533,
                    1254,
                    2536,
                    2715,
                    2544,
                    2545,
                    2608,
                    2547,
                    855,
                    2714,
                    2523,
                    2524
                ],
                "RequestHandler._template_loader_lock": [
                    856,
                    2106
                ],
                "RequestHandler._template_loaders": [
                    2107,
                    857,
                    859,
                    861
                ],
                "loader": [
                    859,
                    858,
                    2107,
                    2108,
                    861,
                    862
                ],
                "self.create_template_loader": [
                    858
                ],
                "t": [
                    865,
                    2114,
                    862
                ],
                "loader.load": [
                    862
                ],
                "namespace": [
                    864,
                    865,
                    876,
                    887,
                    888,
                    863
                ],
                "self.get_template_namespace": [
                    863
                ],
                "namespace.update": [
                    864,
                    887
                ],
                "t.generate": [
                    865
                ],
                "self.current_user": [
                    2881,
                    1229,
                    879
                ],
                "self.locale": [
                    880,
                    881,
                    882,
                    2911
                ],
                "self.locale.translate": [
                    881
                ],
                "self.locale.pgettext": [
                    882
                ],
                "self.xsrf_form_html": [
                    884
                ],
                "self.reverse_url": [
                    885
                ],
                "settings": [
                    1890,
                    899,
                    900,
                    901,
                    1892,
                    903,
                    1894,
                    2695,
                    906,
                    907,
                    908,
                    2699,
                    2732,
                    1874,
                    1879,
                    1885,
                    1886
                ],
                "template.Loader": [
                    909
                ],
                "template": [
                    909
                ],
                "transform": [
                    929,
                    949,
                    950,
                    927
                ],
                "transform.transform_first_chunk": [
                    929
                ],
                "include_footers": [
                    931,
                    950
                ],
                "self.request.method": [
                    1505,
                    1474,
                    2882,
                    1540,
                    933,
                    1734,
                    1481,
                    971,
                    2422,
                    952,
                    1757
                ],
                "cookie": [
                    1248,
                    1249,
                    1283,
                    1285,
                    940,
                    941,
                    1265,
                    1270,
                    1247
                ],
                "self._new_cookie.values": [
                    940
                ],
                "self.add_header": [
                    941
                ],
                "cookie.OutputString": [
                    941
                ],
                "start_line": [
                    947,
                    943
                ],
                "httputil.ResponseStartLine": [
                    943
                ],
                "self.request.connection.write_headers": [
                    946
                ],
                "callback": [
                    953,
                    947
                ],
                "transform.transform_chunk": [
                    950
                ],
                "self.request.connection.write": [
                    953
                ],
                "future": [
                    955,
                    956,
                    957
                ],
                "Future": [
                    955,
                    2117,
                    2078
                ],
                "future.set_result": [
                    956
                ],
                "self.write": [
                    2417,
                    965,
                    1055
                ],
                "self.set_etag_header": [
                    2444,
                    973
                ],
                "self.check_etag_header": [
                    2467,
                    974
                ],
                "self._clear_headers_for_304": [
                    979
                ],
                "content_length": [
                    2402,
                    2404,
                    2406,
                    2408,
                    2409,
                    981,
                    982
                ],
                "sum": [
                    981
                ],
                "len": [
                    3232,
                    2850,
                    3179,
                    1107,
                    2836,
                    2581,
                    981,
                    3062,
                    3103
                ],
                "part": [
                    3270,
                    3271,
                    981,
                    1402,
                    1403
                ],
                "self.flush": [
                    2418,
                    991
                ],
                "self.request.finish": [
                    992
                ],
                "self._log": [
                    993
                ],
                "self.on_finish": [
                    995
                ],
                "gen_log.error": [
                    1562,
                    1012,
                    1021,
                    2743
                ],
                "gen_log": [
                    1291,
                    3183,
                    1584,
                    3187,
                    1012,
                    2743,
                    1562,
                    3195,
                    1021,
                    3199
                ],
                "kwargs.get": [
                    1026,
                    2159
                ],
                "exception": [
                    1028,
                    1029,
                    1030
                ],
                "exception.reason": [
                    1029,
                    1030
                ],
                "self.write_error": [
                    1033
                ],
                "app_log.error": [
                    1554,
                    1035,
                    1586,
                    1515
                ],
                "app_log": [
                    1554,
                    1035,
                    1586,
                    1515
                ],
                "self.settings.get": [
                    1215,
                    1901,
                    2002,
                    2006,
                    1913,
                    1370,
                    1051,
                    1214,
                    1887
                ],
                "self.settings": [
                    2049,
                    2050,
                    1051,
                    1214,
                    1215,
                    2002,
                    2005,
                    2006,
                    1879,
                    1370,
                    1887,
                    1888,
                    1381,
                    1901,
                    1902,
                    1903,
                    1904,
                    1905,
                    1913
                ],
                "line": [
                    1054,
                    1055
                ],
                "traceback.format_exception": [
                    1054
                ],
                "traceback": [
                    1464,
                    1054
                ],
                "self._locale": [
                    1077,
                    1078,
                    1079,
                    1080,
                    1081,
                    1085
                ],
                "self.get_user_locale": [
                    1077
                ],
                "self.get_browser_locale": [
                    1079
                ],
                "locale.setter": [
                    1083
                ],
                "locale": [
                    1083,
                    1118,
                    1119
                ],
                "self.request.headers": [
                    2367,
                    2472,
                    1321,
                    1322,
                    1102,
                    1103,
                    1439
                ],
                "languages": [
                    1105,
                    1103
                ],
                "split": [
                    1106,
                    2834,
                    3178,
                    1103
                ],
                "locales": [
                    1104,
                    1114,
                    1115,
                    1116,
                    1117
                ],
                "language": [
                    1105,
                    1106
                ],
                "parts": [
                    3202,
                    3270,
                    3178,
                    3179,
                    3181,
                    3182,
                    3185,
                    1106,
                    1107,
                    1109,
                    1114,
                    3198
                ],
                "language.strip": [
                    1106
                ],
                "startswith": [
                    1107,
                    2533,
                    3198
                ],
                "score": [
                    1113,
                    1114,
                    1109,
                    1111
                ],
                "float": [
                    1109
                ],
                "locales.append": [
                    1114
                ],
                "locales.sort": [
                    1116
                ],
                "pair": [
                    1116
                ],
                "codes": [
                    1117,
                    1118
                ],
                "l": [
                    1117
                ],
                "locale.get": [
                    1118,
                    1119
                ],
                "self._current_user": [
                    1154,
                    1155,
                    1159
                ],
                "self.get_current_user": [
                    1154
                ],
                "current_user.setter": [
                    1157
                ],
                "current_user": [
                    1157
                ],
                "token": [
                    1217,
                    1249,
                    1251,
                    1252,
                    1283,
                    1254,
                    1223,
                    1256,
                    1285,
                    1288,
                    1320,
                    1323,
                    1325,
                    1327,
                    1329,
                    1273,
                    1276,
                    1213
                ],
                "timestamp": [
                    1287,
                    1288,
                    3081,
                    3084,
                    3085,
                    3221,
                    3224,
                    3229,
                    3107,
                    3245,
                    3246,
                    1213,
                    1224,
                    1249,
                    1251,
                    1255,
                    1256,
                    3185,
                    3186,
                    3189,
                    1270,
                    1275,
                    1276
                ],
                "self._get_raw_xsrf_token": [
                    1213,
                    1326
                ],
                "output_version": [
                    1216,
                    1218,
                    1227,
                    1214
                ],
                "cookie_kwargs": [
                    1232,
                    1215
                ],
                "self._xsrf_token": [
                    1217,
                    1220,
                    1230,
                    1233
                ],
                "binascii.b2a_hex": [
                    1217,
                    1222,
                    1223
                ],
                "binascii": [
                    1217,
                    1283,
                    1284,
                    1222,
                    1223,
                    1272,
                    1274
                ],
                "mask": [
                    1219,
                    1222,
                    1223,
                    1270,
                    1272,
                    1274
                ],
                "os.urandom": [
                    1219,
                    1254
                ],
                "_websocket_mask": [
                    1273,
                    1223
                ],
                "self._decode_xsrf_token": [
                    1249,
                    1325
                ],
                "self._raw_xsrf_token": [
                    1256,
                    1257
                ],
                "_signed_value_version_re.match": [
                    1265,
                    3132
                ],
                "_signed_value_version_re": [
                    1265,
                    3132,
                    3125
                ],
                "m.group": [
                    3137,
                    1268
                ],
                "_": [
                    3209,
                    1325,
                    1326,
                    1270,
                    3261
                ],
                "masked_token": [
                    1274,
                    1270
                ],
                "cookie.split": [
                    1270
                ],
                "binascii.a2b_hex": [
                    1272,
                    1274,
                    1283
                ],
                "binascii.Error": [
                    1284
                ],
                "gen_log.debug": [
                    1291
                ],
                "self.get_argument": [
                    1320
                ],
                "self.request.headers.get": [
                    2472,
                    1321,
                    1322,
                    1439,
                    2367
                ],
                "expected_token": [
                    1329,
                    1326
                ],
                "_time_independent_equals": [
                    3241,
                    1329,
                    3059,
                    3182
                ],
                "self.xsrf_token": [
                    1346
                ],
                "get_url": [
                    1370,
                    1381
                ],
                "make_static_url": [
                    1370
                ],
                "StaticFileHandler": [
                    1371,
                    1893,
                    2110
                ],
                "include_host": [
                    1376,
                    1373,
                    1374
                ],
                "base": [
                    1377,
                    1379,
                    1381
                ],
                "self.request.protocol": [
                    1377
                ],
                "self.request.host": [
                    1377
                ],
                "feature": [
                    1387
                ],
                "self.application.reverse_url": [
                    1391
                ],
                "hasher": [
                    2598,
                    2600,
                    2603,
                    2604,
                    1401,
                    1403,
                    1404
                ],
                "hashlib.sha1": [
                    1401,
                    3269
                ],
                "hashlib": [
                    1401,
                    3276,
                    3269,
                    2598
                ],
                "hasher.update": [
                    2600,
                    2603,
                    1403
                ],
                "hasher.hexdigest": [
                    1404,
                    2604
                ],
                "etag": [
                    1413,
                    1414,
                    1415,
                    1452,
                    1453
                ],
                "self.compute_etag": [
                    1413
                ],
                "computed_etag": [
                    1441,
                    1434,
                    1453
                ],
                "self._headers.get": [
                    1434
                ],
                "etags": [
                    1441,
                    1452,
                    1437,
                    1445
                ],
                "re.findall": [
                    1437
                ],
                "match": [
                    1456,
                    1444,
                    1446,
                    1454
                ],
                "x.startswith": [
                    1450
                ],
                "x": [
                    1450,
                    3282,
                    3066,
                    3067,
                    3069,
                    3070
                ],
                "val": [
                    1453
                ],
                "raise_exc_info": [
                    1464
                ],
                "type": [
                    1464
                ],
                "self._handle_request_exception": [
                    1513,
                    1466
                ],
                "transforms": [
                    1472,
                    2114,
                    2125,
                    1872,
                    1877
                ],
                "self.SUPPORTED_METHODS": [
                    1474
                ],
                "arg": [
                    1476
                ],
                "self.check_xsrf_cookie": [
                    1483
                ],
                "result": [
                    1666,
                    1667,
                    1668,
                    1680,
                    1687,
                    3015,
                    3018,
                    3020,
                    1485,
                    1486,
                    1487,
                    3021,
                    3027,
                    3030,
                    3032,
                    3033,
                    1506,
                    1507,
                    1508,
                    3064,
                    3067,
                    3070,
                    3071
                ],
                "self.prepare": [
                    1485
                ],
                "self._prepared_future.set_result": [
                    1521,
                    1491
                ],
                "method": [
                    1600,
                    1505,
                    1506,
                    1666,
                    1731,
                    1764,
                    2894,
                    1743,
                    1754,
                    1661,
                    2879
                ],
                "self.request.method.lower": [
                    1505
                ],
                "e": [
                    1544,
                    1513,
                    1547,
                    3055,
                    1560,
                    1561,
                    1562,
                    1565
                ],
                "self._prepared_future.done": [
                    1517
                ],
                "gen.coroutine": [
                    2348,
                    1469
                ],
                "gen": [
                    1668,
                    1469,
                    2348
                ],
                "NotImplementedError": [
                    1528,
                    2919
                ],
                "self.application.log_request": [
                    1537
                ],
                "self.request.uri": [
                    2889,
                    1540
                ],
                "self.request.remote_ip": [
                    1541
                ],
                "Finish": [
                    1544
                ],
                "e.args": [
                    1547
                ],
                "self.log_exception": [
                    1550
                ],
                "sys.exc_info": [
                    1563,
                    1565,
                    1550,
                    1567
                ],
                "e.status_code": [
                    1561,
                    1562,
                    1565
                ],
                "e.reason": [
                    1561
                ],
                "self.send_error": [
                    1563,
                    1565,
                    1567
                ],
                "value.log_message": [
                    1580,
                    1581
                ],
                "format": [
                    1584,
                    1581
                ],
                "value.status_code": [
                    1582
                ],
                "self._request_summary": [
                    1586,
                    1582
                ],
                "value.args": [
                    1583
                ],
                "gen_log.warning": [
                    3183,
                    1584,
                    3187,
                    3195,
                    3199
                ],
                "typ": [
                    1587
                ],
                "tb": [
                    1587
                ],
                "self._active_modules": [
                    1592,
                    1593,
                    1594,
                    1595
                ],
                "rendered": [
                    1595,
                    1596
                ],
                "render": [
                    1595,
                    1597
                ],
                "headers": [
                    2850,
                    2787,
                    2852,
                    2853,
                    1607,
                    1610,
                    2829,
                    2830,
                    2832,
                    2834,
                    2837,
                    2839,
                    2844
                ],
                "h": [
                    1610,
                    1611
                ],
                "self.clear_header": [
                    1611
                ],
                "stack_context.ExceptionStackContext": [
                    1664
                ],
                "stack_context": [
                    1664
                ],
                "self._stack_context_handle_exception": [
                    1665
                ],
                "gen.convert_yielded": [
                    1668
                ],
                "f.result": [
                    1677
                ],
                "f": [
                    3016,
                    3017,
                    3018,
                    3020,
                    1677,
                    3028,
                    3029,
                    3030,
                    3032
                ],
                "add_future": [
                    1680
                ],
                "IOLoop.current": [
                    1680
                ],
                "IOLoop": [
                    1680
                ],
                "future_complete": [
                    1680
                ],
                "functools.wraps": [
                    1754,
                    1731,
                    1661,
                    2879
                ],
                "functools": [
                    1754,
                    1731,
                    1661,
                    2879
                ],
                "wrapper": [
                    1688,
                    1765,
                    2895,
                    1744
                ],
                "issubclass": [
                    1712,
                    1793,
                    1987,
                    1719
                ],
                "cls": [
                    2699,
                    2597,
                    2342,
                    2343,
                    2732,
                    2733,
                    1712,
                    1713,
                    1714,
                    1715,
                    2737,
                    2738,
                    2741,
                    1719,
                    1720,
                    1721,
                    1985,
                    1987,
                    1988
                ],
                "cls._stream_request_body": [
                    1714
                ],
                "self.request.path.endswith": [
                    2541,
                    1756,
                    1733
                ],
                "self.request.path": [
                    1733,
                    1735,
                    2541,
                    2542,
                    1756,
                    1758
                ],
                "uri": [
                    1760,
                    1761,
                    1735,
                    1736,
                    1738,
                    1739,
                    1758
                ],
                "self.request.path.rstrip": [
                    1735
                ],
                "self.request.query": [
                    1760,
                    1737,
                    1738,
                    1759
                ],
                "self.redirect": [
                    1761,
                    2891,
                    1739,
                    2542,
                    2262
                ],
                "ReversibleRuleRouter": [
                    1768
                ],
                "Application": [
                    1780
                ],
                "_ApplicationRouter": [
                    1796,
                    1907,
                    1908,
                    1782,
                    1785,
                    1788,
                    1950
                ],
                "rules": [
                    1782
                ],
                "rule": [
                    1952,
                    1950,
                    1785,
                    1787,
                    1788,
                    1790
                ],
                "process_rule": [
                    1785
                ],
                "rule.target": [
                    1787,
                    1788
                ],
                "tuple": [
                    1787
                ],
                "isclass": [
                    1793
                ],
                "target": [
                    1793,
                    1794,
                    1796
                ],
                "self.application.get_handler_delegate": [
                    1794
                ],
                "target_params": [
                    1794,
                    1796
                ],
                "get_target_delegate": [
                    1796
                ],
                "ReversibleRouter": [
                    1799
                ],
                "self.transforms": [
                    1873,
                    1875,
                    1877,
                    1961
                ],
                "settings.get": [
                    1890,
                    1892,
                    1894,
                    2695,
                    1874,
                    1885,
                    1886
                ],
                "self.transforms.append": [
                    1961,
                    1875
                ],
                "GZipContentEncoding": [
                    1875
                ],
                "self.default_host": [
                    1954,
                    1878
                ],
                "default_host": [
                    1878
                ],
                "self.ui_modules": [
                    1880,
                    3049,
                    1988,
                    3046
                ],
                "_linkify": [
                    1880
                ],
                "_xsrf_form_html": [
                    1881
                ],
                "TemplateModule": [
                    1882,
                    2990
                ],
                "self.ui_methods": [
                    1884,
                    1974
                ],
                "self._load_ui_modules": [
                    1978,
                    1885,
                    1982
                ],
                "self._load_ui_methods": [
                    1969,
                    1965,
                    1886
                ],
                "handlers": [
                    1889,
                    1898,
                    1907
                ],
                "static_url_prefix": [
                    1896,
                    1890
                ],
                "static_handler_class": [
                    1898,
                    1892
                ],
                "static_handler_args": [
                    1899,
                    1894,
                    1895
                ],
                "pattern": [
                    1896,
                    1898
                ],
                "re.escape": [
                    1896
                ],
                "handlers.insert": [
                    1898
                ],
                "self.settings.setdefault": [
                    1904,
                    1905,
                    1902,
                    1903
                ],
                "self.wildcard_router": [
                    1955,
                    1907,
                    1909
                ],
                "self.default_router": [
                    1952,
                    2035,
                    1908,
                    1998
                ],
                "Rule": [
                    1909,
                    1950
                ],
                "AnyMatches": [
                    1909
                ],
                "autoreload.start": [
                    1915
                ],
                "autoreload": [
                    1915
                ],
                "server": [
                    1939,
                    1940,
                    1941
                ],
                "HTTPServer": [
                    1939
                ],
                "server.listen": [
                    1940
                ],
                "port": [
                    1940
                ],
                "address": [
                    1940
                ],
                "host_matcher": [
                    1956,
                    1949,
                    1950
                ],
                "HostMatches": [
                    1949
                ],
                "host_pattern": [
                    1949
                ],
                "host_handlers": [
                    1957,
                    1950
                ],
                "self.default_router.rules.insert": [
                    1952
                ],
                "self.default_router.rules": [
                    1952
                ],
                "self.wildcard_router.add_rules": [
                    1955
                ],
                "DefaultHostMatches": [
                    1956
                ],
                "host_matcher.host_pattern": [
                    1956
                ],
                "transform_class": [
                    1961
                ],
                "methods": [
                    1964,
                    1965,
                    1966,
                    1967,
                    1968,
                    1971
                ],
                "types.ModuleType": [
                    1977,
                    1964
                ],
                "types": [
                    1977,
                    1964
                ],
                "dir": [
                    1979,
                    1966
                ],
                "fn": [
                    1971,
                    1972,
                    1974
                ],
                "methods.items": [
                    1971
                ],
                "name.startswith": [
                    1972
                ],
                "lower": [
                    1973
                ],
                "modules": [
                    1984,
                    1985,
                    1977,
                    1978,
                    1979,
                    1980,
                    1981
                ],
                "modules.items": [
                    1985
                ],
                "UIModule": [
                    2969,
                    1987,
                    2964,
                    2974
                ],
                "dispatcher": [
                    1994,
                    1995
                ],
                "self.find_handler": [
                    1994
                ],
                "dispatcher.execute": [
                    1995
                ],
                "route": [
                    2000,
                    1998,
                    1999
                ],
                "self.default_router.find_handler": [
                    1998
                ],
                "self.get_handler_delegate": [
                    2008,
                    2003
                ],
                "ErrorHandler": [
                    2009
                ],
                "_HandlerDelegate": [
                    2023
                ],
                "target_class": [
                    2024
                ],
                "target_kwargs": [
                    2024
                ],
                "path_args": [
                    2024,
                    2071
                ],
                "path_kwargs": [
                    2024,
                    2072
                ],
                "reversed_url": [
                    2035,
                    2036,
                    2037
                ],
                "self.default_router.reverse_url": [
                    2035
                ],
                "handler": [
                    2050,
                    2052,
                    3045,
                    2054,
                    2058,
                    2059,
                    2060,
                    2990,
                    2908,
                    2909,
                    2910,
                    2911
                ],
                "handler.get_status": [
                    2059,
                    2052,
                    2054
                ],
                "log_method": [
                    2057,
                    2059,
                    2053,
                    2055
                ],
                "access_log.info": [
                    2053
                ],
                "access_log": [
                    2057,
                    2053,
                    2055
                ],
                "access_log.warning": [
                    2055
                ],
                "access_log.error": [
                    2057
                ],
                "request_time": [
                    2058,
                    2060
                ],
                "handler.request.request_time": [
                    2058
                ],
                "handler.request": [
                    2058,
                    2909
                ],
                "handler._request_summary": [
                    2060
                ],
                "httputil.HTTPMessageDelegate": [
                    2063
                ],
                "self.connection": [
                    2067
                ],
                "request.connection": [
                    2067
                ],
                "self.handler_class": [
                    2112,
                    2074,
                    2069
                ],
                "handler_class": [
                    2069
                ],
                "self.handler_kwargs": [
                    2113,
                    2070
                ],
                "handler_kwargs": [
                    2070
                ],
                "self.chunks": [
                    2099,
                    2073,
                    2091,
                    2085
                ],
                "self.stream_request_body": [
                    2082,
                    2116,
                    2088,
                    2096,
                    2074,
                    2077
                ],
                "self.execute": [
                    2093,
                    2079
                ],
                "self.handler.data_received": [
                    2083
                ],
                "self.handler": [
                    2112,
                    2083,
                    2915,
                    2117,
                    3045,
                    3049,
                    2125,
                    2097,
                    2130,
                    2961,
                    2971,
                    2908
                ],
                "data": [
                    2083,
                    2597,
                    2085,
                    2599,
                    2600,
                    2602
                ],
                "self.chunks.append": [
                    2085
                ],
                "self.request.body.set_result": [
                    2089
                ],
                "self.request._parse_body": [
                    2092
                ],
                "self.handler.on_connection_close": [
                    2097
                ],
                "RequestHandler._template_loaders.values": [
                    2107
                ],
                "loader.reset": [
                    2108
                ],
                "StaticFileHandler.reset": [
                    2110
                ],
                "self.application.transforms": [
                    2114
                ],
                "self.handler._prepared_future": [
                    2130,
                    2117
                ],
                "self.handler._execute": [
                    2125
                ],
                "self.status_code": [
                    2156,
                    2165,
                    2166
                ],
                "self.log_message": [
                    2168,
                    2161,
                    2157,
                    2167
                ],
                "log_message": [
                    2160,
                    2161,
                    2157
                ],
                "self.args": [
                    2168,
                    2158
                ],
                "self.reason": [
                    2166,
                    2159
                ],
                "log_message.replace": [
                    2161
                ],
                "httputil.responses.get": [
                    2166
                ],
                "arg_name": [
                    2210,
                    2211
                ],
                "self.arg_name": [
                    2211
                ],
                "self._url": [
                    2258,
                    2262
                ],
                "self._permanent": [
                    2259,
                    2262
                ],
                "self._url.format": [
                    2262
                ],
                "CACHE_MAX_AGE": [
                    2331
                ],
                "_static_hashes": [
                    2333
                ],
                "_lock": [
                    2334
                ],
                "self.root": [
                    2337,
                    2355,
                    2353
                ],
                "self.default_filename": [
                    2544,
                    2537,
                    2338
                ],
                "default_filename": [
                    2338
                ],
                "cls._lock": [
                    2737,
                    2342
                ],
                "cls._static_hashes": [
                    2738,
                    2343
                ],
                "classmethod": [
                    2340,
                    2735,
                    2482,
                    2675,
                    2551,
                    2588,
                    2718
                ],
                "self.get": [
                    2346
                ],
                "self.path": [
                    2535,
                    2351,
                    2353,
                    2548,
                    2453,
                    2460
                ],
                "self.parse_url_path": [
                    2351
                ],
                "absolute_path": [
                    2533,
                    2536,
                    2544,
                    2353,
                    2545,
                    2355,
                    2547,
                    2549
                ],
                "self.get_absolute_path": [
                    2353
                ],
                "self.absolute_path": [
                    2433,
                    2412,
                    2608,
                    2354,
                    2643,
                    2356
                ],
                "self.validate_absolute_path": [
                    2354
                ],
                "self.modified": [
                    2477,
                    2446,
                    2447,
                    2453,
                    2359
                ],
                "self.get_modified_time": [
                    2359
                ],
                "self.set_headers": [
                    2360
                ],
                "self.should_return_304": [
                    2362
                ],
                "request_range": [
                    2374,
                    2371,
                    2366,
                    2375
                ],
                "range_header": [
                    2368,
                    2371,
                    2367
                ],
                "httputil._parse_request_range": [
                    2371
                ],
                "size": [
                    2373,
                    2406,
                    2376,
                    2408,
                    2382,
                    2385,
                    2386,
                    2389,
                    2394,
                    2397
                ],
                "self.get_content_size": [
                    2373
                ],
                "start": [
                    2401,
                    2402,
                    2405,
                    2406,
                    2375,
                    2376,
                    2568,
                    2569,
                    2571,
                    2412,
                    2384,
                    2385,
                    2394,
                    2397,
                    2399
                ],
                "end": [
                    2401,
                    2402,
                    2403,
                    2404,
                    2375,
                    2376,
                    2570,
                    2571,
                    2412,
                    2386,
                    2389,
                    2394,
                    2397,
                    2399
                ],
                "httputil._get_content_range": [
                    2397
                ],
                "include_body": [
                    2411
                ],
                "content": [
                    2412,
                    2413,
                    2414,
                    2415
                ],
                "self.get_content": [
                    2412
                ],
                "version_hash": [
                    2433,
                    2434,
                    2436,
                    2699,
                    2700,
                    2703
                ],
                "self._get_cached_version": [
                    2433
                ],
                "content_type": [
                    2449,
                    2450,
                    2451,
                    2454
                ],
                "self.get_content_type": [
                    2449
                ],
                "cache_time": [
                    2457,
                    2458,
                    2453,
                    2455
                ],
                "self.get_cache_time": [
                    2453
                ],
                "self.set_extra_headers": [
                    2460
                ],
                "ims_value": [
                    2472,
                    2473,
                    2474
                ],
                "date_tuple": [
                    2474,
                    2475,
                    2476
                ],
                "email.utils.parsedate": [
                    2474
                ],
                "email.utils": [
                    2474
                ],
                "email": [
                    2474
                ],
                "if_since": [
                    2476,
                    2477
                ],
                "abspath": [
                    2496,
                    2497,
                    2597,
                    2567
                ],
                "os.path.abspath": [
                    2496,
                    2523
                ],
                "os.path.join": [
                    2496,
                    2544
                ],
                "root": [
                    2496,
                    2530,
                    2533,
                    2523,
                    2524
                ],
                "root.endswith": [
                    2524
                ],
                "os.path.sep": [
                    2530,
                    2533,
                    2714,
                    2715,
                    2524
                ],
                "os.path.isdir": [
                    2536
                ],
                "os.path.exists": [
                    2545
                ],
                "os.path.isfile": [
                    2547
                ],
                "open": [
                    2567
                ],
                "file": [
                    2569,
                    2578,
                    2567
                ],
                "file.seek": [
                    2569
                ],
                "remaining": [
                    2571,
                    2573,
                    2576,
                    2577,
                    2580,
                    2581,
                    2584,
                    2585
                ],
                "chunk_size": [
                    2576,
                    2577,
                    2578,
                    2575
                ],
                "file.read": [
                    2578
                ],
                "cls.get_content": [
                    2597
                ],
                "hashlib.md5": [
                    2598
                ],
                "self._stat_result": [
                    2608,
                    2609
                ],
                "os.stat": [
                    2608
                ],
                "stat_result": [
                    2633,
                    2635,
                    2622,
                    2623
                ],
                "self._stat": [
                    2633,
                    2622
                ],
                "stat.ST_SIZE": [
                    2623
                ],
                "stat": [
                    2635,
                    2623
                ],
                "modified": [
                    2634,
                    2636
                ],
                "datetime.datetime.utcfromtimestamp": [
                    2634
                ],
                "stat.ST_MTIME": [
                    2635
                ],
                "mime_type": [
                    2643,
                    2652,
                    2653
                ],
                "encoding": [
                    2650,
                    2643,
                    2645
                ],
                "mimetypes.guess_type": [
                    2643
                ],
                "mimetypes": [
                    2643
                ],
                "self.CACHE_MAX_AGE": [
                    2673
                ],
                "include_version": [
                    2696
                ],
                "cls.get_version": [
                    2699
                ],
                "url_path": [
                    2715,
                    2716
                ],
                "url_path.replace": [
                    2715
                ],
                "abs_path": [
                    2732,
                    2733,
                    2739,
                    2741,
                    2743,
                    2744,
                    2745
                ],
                "cls.get_absolute_path": [
                    2732
                ],
                "cls._get_cached_version": [
                    2733
                ],
                "hashes": [
                    2738,
                    2739,
                    2741,
                    2744,
                    2745
                ],
                "cls.get_content_version": [
                    2741
                ],
                "hsh": [
                    2745,
                    2746,
                    2747
                ],
                "hashes.get": [
                    2745
                ],
                "self.fallback": [
                    2768,
                    2771
                ],
                "fallback": [
                    2768
                ],
                "OutputTransform": [
                    2793
                ],
                "CONTENT_TYPES": [
                    2805
                ],
                "GZIP_LEVEL": [
                    2812
                ],
                "MIN_LENGTH": [
                    2818
                ],
                "self._gzipping": [
                    2821,
                    2856,
                    2833,
                    2835,
                    2838
                ],
                "request.headers.get": [
                    2821
                ],
                "request.headers": [
                    2821
                ],
                "ctype.startswith": [
                    2824
                ],
                "ctype": [
                    2824,
                    2834,
                    2835
                ],
                "self.CONTENT_TYPES": [
                    2824
                ],
                "headers.get": [
                    2834
                ],
                "self._compressible_type": [
                    2835
                ],
                "finishing": [
                    2849,
                    2858,
                    2843,
                    2836
                ],
                "self.MIN_LENGTH": [
                    2836
                ],
                "self._gzip_value": [
                    2862,
                    2863,
                    2864,
                    2840,
                    2841
                ],
                "BytesIO": [
                    2840
                ],
                "self._gzip_file": [
                    2841,
                    2859,
                    2861,
                    2857
                ],
                "gzip.GzipFile": [
                    2841
                ],
                "gzip": [
                    2841
                ],
                "self.GZIP_LEVEL": [
                    2842
                ],
                "self.transform_chunk": [
                    2843
                ],
                "self._gzip_file.write": [
                    2857
                ],
                "self._gzip_file.close": [
                    2859
                ],
                "self._gzip_file.flush": [
                    2861
                ],
                "self._gzip_value.getvalue": [
                    2862
                ],
                "self._gzip_value.truncate": [
                    2863
                ],
                "self._gzip_value.seek": [
                    2864
                ],
                "self.get_login_url": [
                    2883
                ],
                "scheme": [
                    2885
                ],
                "urlparse.urlsplit": [
                    2885
                ],
                "urlparse": [
                    2885
                ],
                "next_url": [
                    2889,
                    2890,
                    2887
                ],
                "self.request.full_url": [
                    2887
                ],
                "urlencode": [
                    2890
                ],
                "handler.ui": [
                    2910
                ],
                "handler.locale": [
                    2911
                ],
                "self.handler.current_user": [
                    2915
                ],
                "self.handler.render_string": [
                    2961
                ],
                "escape.linkify": [
                    2966
                ],
                "text": [
                    2966
                ],
                "self.handler.xsrf_form_html": [
                    2971
                ],
                "self._resource_list": [
                    2992,
                    3009,
                    2998
                ],
                "self._resource_dict": [
                    2993,
                    3001,
                    2997,
                    2999
                ],
                "self._resource_list.append": [
                    2998
                ],
                "set_resources": [
                    3005
                ],
                "r": [
                    3009
                ],
                "key": [
                    3053,
                    3009,
                    3049
                ],
                "self._get_resources": [
                    3012,
                    3016,
                    3024,
                    3028,
                    3036,
                    3039
                ],
                "result.append": [
                    3018,
                    3030
                ],
                "result.extend": [
                    3032,
                    3020
                ],
                "ui_modules": [
                    3046
                ],
                "self.handler._ui_module": [
                    3049
                ],
                "AttributeError": [
                    3055
                ],
                "hmac": [
                    3058,
                    3059,
                    3276,
                    3269
                ],
                "hmac.compare_digest": [
                    3059
                ],
                "a": [
                    3065,
                    3066,
                    3069,
                    3062
                ],
                "b": [
                    3066,
                    3069,
                    3062
                ],
                "y": [
                    3066,
                    3067,
                    3069,
                    3070
                ],
                "zip": [
                    3066,
                    3069
                ],
                "ord": [
                    3070
                ],
                "clock": [
                    3169,
                    3172,
                    3078,
                    3079,
                    3081,
                    3246,
                    3153,
                    3154,
                    3186,
                    3189
                ],
                "base64.b64encode": [
                    3082
                ],
                "base64": [
                    3250,
                    3082,
                    3202
                ],
                "signature": [
                    3084,
                    3181,
                    3117,
                    3085,
                    3118,
                    3182
                ],
                "_create_signature_v1": [
                    3084,
                    3181
                ],
                "s": [
                    3209,
                    3277,
                    3103
                ],
                "to_sign": [
                    3104,
                    3117,
                    3118
                ],
                "format_field": [
                    3106,
                    3107,
                    3108,
                    3109
                ],
                "_create_signature_v2": [
                    3240,
                    3117
                ],
                "_get_version": [
                    3257,
                    3163
                ],
                "_decode_signed_value_v1": [
                    3168
                ],
                "_decode_signed_value_v2": [
                    3171
                ],
                "base64.b64decode": [
                    3250,
                    3202
                ],
                "length": [
                    3209,
                    3210
                ],
                "rest": [
                    3209,
                    3211,
                    3214,
                    3216,
                    3217,
                    3219,
                    3220,
                    3221,
                    3222,
                    3223
                ],
                "s.partition": [
                    3209
                ],
                "field_value": [
                    3217,
                    3211
                ],
                "_consume_field": [
                    3220,
                    3221,
                    3222,
                    3223
                ],
                "name_field": [
                    3224,
                    3243,
                    3229,
                    3222
                ],
                "value_field": [
                    3224,
                    3250,
                    3229,
                    3223
                ],
                "passed_sig": [
                    3232,
                    3241,
                    3223,
                    3224,
                    3229
                ],
                "_decode_fields_v2": [
                    3229,
                    3261
                ],
                "signed_string": [
                    3232,
                    3240
                ],
                "expected_sig": [
                    3240,
                    3241
                ],
                "hash": [
                    3269,
                    3271,
                    3272,
                    3276,
                    3277,
                    3278
                ],
                "hmac.new": [
                    3276,
                    3269
                ],
                "hash.update": [
                    3277,
                    3271
                ],
                "hash.hexdigest": [
                    3272,
                    3278
                ],
                "hashlib.sha256": [
                    3276
                ],
                "any": [
                    3282
                ],
                "path.startswith": [
                    3282
                ]
            },
            "filtered_variables_in_file": {
                "url": [
                    99,
                    2883,
                    2884,
                    2885,
                    2695,
                    2697,
                    2890,
                    2891,
                    2701,
                    2703,
                    688,
                    2258
                ],
                "URLSpec": [
                    99
                ],
                "PY3": [
                    101
                ],
                "_HeaderTypes": [
                    115
                ],
                "typing.Union": [
                    115
                ],
                "typing": [
                    115
                ],
                "unicode_type": [
                    739,
                    709,
                    489,
                    3017,
                    748,
                    115,
                    3029,
                    374
                ],
                "numbers.Integral": [
                    378,
                    116
                ],
                "numbers": [
                    378,
                    116
                ],
                "datetime.datetime": [
                    578,
                    553,
                    2634,
                    2476,
                    116,
                    2456,
                    381
                ],
                "datetime": [
                    578,
                    553,
                    2634,
                    2476,
                    116,
                    2456,
                    2457,
                    381
                ],
                "MIN_SUPPORTED_SIGNED_VALUE_VERSION": [
                    121
                ],
                "MAX_SUPPORTED_SIGNED_VALUE_VERSION": [
                    129
                ],
                "DEFAULT_SIGNED_VALUE_VERSION": [
                    137,
                    3077
                ],
                "DEFAULT_SIGNED_VALUE_MIN_VERSION": [
                    145,
                    3156
                ],
                "SUPPORTED_METHODS": [
                    160
                ],
                "_template_loaders": [
                    163
                ],
                "_template_loader_lock": [
                    164
                ],
                "threading.Lock": [
                    164,
                    2334
                ],
                "threading": [
                    164,
                    2334
                ],
                "_remove_control_chars_regex": [
                    165
                ],
                "re.compile": [
                    3125,
                    165,
                    359
                ],
                "re": [
                    165,
                    359,
                    1896,
                    3125,
                    541,
                    1437
                ],
                "__init__": [
                    168,
                    2209,
                    2990,
                    1782
                ],
                "RequestHandler": [
                    1793,
                    387,
                    2265,
                    2214,
                    168,
                    2107,
                    492,
                    1712,
                    2229,
                    1719,
                    856,
                    857,
                    2106,
                    859,
                    861,
                    2751
                ],
                "self": [
                    2049,
                    2050,
                    2066,
                    2067,
                    2068,
                    2069,
                    2070,
                    2071,
                    2072,
                    2073,
                    2074,
                    2077,
                    2078,
                    2079,
                    2082,
                    2083,
                    2085,
                    2088,
                    2089,
                    2091,
                    2092,
                    2093,
                    2096,
                    2097,
                    2099,
                    2105,
                    2109,
                    2112,
                    2113,
                    2114,
                    2116,
                    2117,
                    2125,
                    2126,
                    2130,
                    2156,
                    2157,
                    2158,
                    2159,
                    2161,
                    2165,
                    2166,
                    2167,
                    2168,
                    2209,
                    2211,
                    168,
                    2217,
                    170,
                    171,
                    172,
                    173,
                    174,
                    175,
                    176,
                    177,
                    178,
                    179,
                    180,
                    2220,
                    187,
                    189,
                    190,
                    191,
                    192,
                    2258,
                    2259,
                    2262,
                    218,
                    282,
                    283,
                    284,
                    285,
                    289,
                    2337,
                    2338,
                    294,
                    295,
                    296,
                    297,
                    2346,
                    2351,
                    2353,
                    2354,
                    2355,
                    2356,
                    2359,
                    2360,
                    2362,
                    2363,
                    318,
                    2367,
                    320,
                    323,
                    2373,
                    329,
                    2380,
                    2381,
                    2382,
                    339,
                    2395,
                    348,
                    2396,
                    356,
                    357,
                    2409,
                    2412,
                    2417,
                    2418,
                    2422,
                    2433,
                    2443,
                    2444,
                    2446,
                    2447,
                    2449,
                    2451,
                    404,
                    2453,
                    2456,
                    2458,
                    2460,
                    419,
                    2467,
                    2472,
                    2477,
                    435,
                    447,
                    463,
                    464,
                    475,
                    478,
                    480,
                    2535,
                    488,
                    2537,
                    2541,
                    2542,
                    2544,
                    2548,
                    521,
                    525,
                    526,
                    544,
                    545,
                    546,
                    547,
                    548,
                    549,
                    2607,
                    2608,
                    2609,
                    2622,
                    579,
                    2633,
                    592,
                    593,
                    2643,
                    617,
                    2673,
                    633,
                    634,
                    637,
                    639,
                    656,
                    658,
                    659,
                    668,
                    670,
                    681,
                    687,
                    688,
                    689,
                    707,
                    716,
                    718,
                    2768,
                    722,
                    2771,
                    724,
                    2772,
                    733,
                    761,
                    765,
                    769,
                    773,
                    2821,
                    2824,
                    782,
                    2833,
                    2835,
                    2836,
                    2838,
                    2840,
                    2841,
                    2842,
                    795,
                    2843,
                    2856,
                    2857,
                    2859,
                    2861,
                    2862,
                    2863,
                    2864,
                    824,
                    2881,
                    2882,
                    2883,
                    2887,
                    2889,
                    2891,
                    2894,
                    849,
                    858,
                    2908,
                    2909,
                    2910,
                    863,
                    2911,
                    2915,
                    877,
                    878,
                    879,
                    880,
                    881,
                    882,
                    883,
                    884,
                    885,
                    887,
                    899,
                    2961,
                    923,
                    924,
                    925,
                    926,
                    927,
                    928,
                    2971,
                    930,
                    933,
                    939,
                    940,
                    941,
                    2990,
                    944,
                    945,
                    946,
                    947,
                    2992,
                    949,
                    2993,
                    2997,
                    952,
                    953,
                    2998,
                    2999,
                    3001,
                    3005,
                    961,
                    3009,
                    3012,
                    965,
                    3016,
                    969,
                    970,
                    971,
                    972,
                    973,
                    974,
                    975,
                    976,
                    977,
                    978,
                    979,
                    980,
                    981,
                    982,
                    3024,
                    984,
                    3028,
                    3036,
                    989,
                    991,
                    992,
                    993,
                    994,
                    995,
                    3039,
                    3045,
                    998,
                    3046,
                    3049,
                    3053,
                    1011,
                    1013,
                    1019,
                    1024,
                    1031,
                    1033,
                    1036,
                    1037,
                    1051,
                    1053,
                    1055,
                    1056,
                    1058,
                    1061,
                    1076,
                    1077,
                    1078,
                    1079,
                    1080,
                    1081,
                    1085,
                    1102,
                    1103,
                    1153,
                    1154,
                    1155,
                    1159,
                    1173,
                    1174,
                    1182,
                    1212,
                    1213,
                    1214,
                    1215,
                    1217,
                    1220,
                    1229,
                    1230,
                    1233,
                    1246,
                    1247,
                    1249,
                    1256,
                    1257,
                    1320,
                    1321,
                    1322,
                    1325,
                    1326,
                    1346,
                    1369,
                    1370,
                    1374,
                    1377,
                    1381,
                    1385,
                    1391,
                    1402,
                    1413,
                    1415,
                    1434,
                    1439,
                    1466,
                    1472,
                    1474,
                    1476,
                    1477,
                    1481,
                    1482,
                    1483,
                    1485,
                    1488,
                    1491,
                    1492,
                    1495,
                    1501,
                    1505,
                    1506,
                    1509,
                    1510,
                    1513,
                    1516,
                    1517,
                    1521,
                    1537,
                    1540,
                    1541,
                    1546,
                    1547,
                    1550,
                    1555,
                    1563,
                    1565,
                    1567,
                    1582,
                    1586,
                    1587,
                    1591,
                    1592,
                    1593,
                    1594,
                    1595,
                    1600,
                    1611,
                    1663,
                    1665,
                    1666,
                    1678,
                    1679,
                    1733,
                    1734,
                    1735,
                    1737,
                    1738,
                    1739,
                    1743,
                    1756,
                    1757,
                    1758,
                    1759,
                    1760,
                    1761,
                    1764,
                    1781,
                    1782,
                    1785,
                    1788,
                    1794,
                    1796,
                    1873,
                    1875,
                    1877,
                    1878,
                    1879,
                    1880,
                    1884,
                    1885,
                    1886,
                    1887,
                    1888,
                    1901,
                    1902,
                    1903,
                    1904,
                    1905,
                    1907,
                    1908,
                    1909,
                    1913,
                    1939,
                    1950,
                    1952,
                    1954,
                    1955,
                    1956,
                    1961,
                    1965,
                    1969,
                    1974,
                    1978,
                    1982,
                    1988,
                    1994,
                    1998,
                    2002,
                    2003,
                    2005,
                    2006,
                    2008,
                    2024,
                    2035
                ],
                "self.application": [
                    1537,
                    1794,
                    899,
                    2066,
                    659,
                    1174,
                    1182,
                    170,
                    2105,
                    2109,
                    2112,
                    2114,
                    1482,
                    218,
                    1385,
                    1391,
                    1781,
                    634,
                    1788,
                    637,
                    639
                ],
                "application": [
                    170,
                    2066,
                    1780,
                    1781,
                    181,
                    188
                ],
                "self.request": [
                    1540,
                    1541,
                    521,
                    525,
                    526,
                    404,
                    2068,
                    283,
                    284,
                    285,
                    2078,
                    1439,
                    419,
                    933,
                    2472,
                    1321,
                    1322,
                    171,
                    2089,
                    2091,
                    2092,
                    946,
                    435,
                    1587,
                    952,
                    953,
                    447,
                    191,
                    2112,
                    1474,
                    2114,
                    2367,
                    1733,
                    1734,
                    1735,
                    2882,
                    1481,
                    1737,
                    971,
                    1738,
                    2887,
                    1102,
                    1103,
                    464,
                    592,
                    2889,
                    2771,
                    984,
                    475,
                    1756,
                    989,
                    1501,
                    1757,
                    992,
                    1377,
                    1505,
                    1758,
                    1759,
                    1760,
                    2909,
                    2541,
                    878,
                    2542,
                    2673,
                    2422
                ],
                "request": [
                    1794,
                    1796,
                    2821,
                    2024,
                    1994,
                    171,
                    1998,
                    2067,
                    2004,
                    2068,
                    2009
                ],
                "self._headers_written": [
                    681,
                    969,
                    172,
                    1011,
                    925,
                    926
                ],
                "self._finished": [
                    961,
                    994,
                    707,
                    1509,
                    1546,
                    1036,
                    173,
                    1678,
                    722,
                    1555,
                    1492,
                    1013,
                    2772
                ],
                "self._auto_finish": [
                    1509,
                    174,
                    1663
                ],
                "self._transforms": [
                    927,
                    1472,
                    949,
                    175
                ],
                "self._prepared_future": [
                    1516,
                    1517,
                    176,
                    1488,
                    1521,
                    1491
                ],
                "self._headers": [
                    928,
                    289,
                    930,
                    356,
                    357,
                    972,
                    177,
                    339,
                    947,
                    980,
                    1434,
                    348
                ],
                "self.path_args": [
                    1506,
                    1476,
                    2125,
                    178,
                    2071
                ],
                "self.path_kwargs": [
                    1506,
                    1477,
                    2126,
                    179,
                    2072
                ],
                "self.ui": [
                    998,
                    180,
                    887,
                    187,
                    189,
                    2910
                ],
                "ObjectDict": [
                    180
                ],
                "n": [
                    3210,
                    3211,
                    1965,
                    1966,
                    3214,
                    3216,
                    180,
                    1978,
                    1979
                ],
                "self._ui_method": [
                    180
                ],
                "m": [
                    3137,
                    1968,
                    1265,
                    1969,
                    1267,
                    180,
                    1268,
                    3133,
                    3132,
                    1981,
                    1982
                ],
                "application.ui_methods.items": [
                    181
                ],
                "application.ui_methods": [
                    181
                ],
                "_UIModuleNamespace": [
                    187
                ],
                "application.ui_modules": [
                    188
                ],
                "self.clear": [
                    1024,
                    190
                ],
                "self.request.connection.set_close_callback": [
                    989,
                    191
                ],
                "self.request.connection": [
                    953,
                    946,
                    989,
                    191
                ],
                "self.on_connection_close": [
                    191
                ],
                "self.initialize": [
                    192
                ],
                "kwargs": [
                    1026,
                    1027,
                    1028,
                    1666,
                    902,
                    1033,
                    906,
                    908,
                    909,
                    2961,
                    1939,
                    2966,
                    1051,
                    1054,
                    559,
                    2998,
                    2999,
                    3001,
                    1595,
                    3006,
                    192,
                    1600,
                    1478,
                    2894,
                    1743,
                    724,
                    864,
                    1764,
                    1381,
                    619,
                    2159
                ],
                "self.application.settings": [
                    899,
                    1385,
                    1482,
                    659,
                    2109,
                    634,
                    1174,
                    2105,
                    218,
                    637,
                    1182,
                    639
                ],
                "HTTPError": [
                    514,
                    1029,
                    2200,
                    1560,
                    1579,
                    1324,
                    2220,
                    1328,
                    1330,
                    1475,
                    2893,
                    1742,
                    221,
                    224,
                    227,
                    1763,
                    230,
                    2534,
                    233,
                    236,
                    239,
                    2546,
                    2548
                ],
                "_has_stream_request_body": [
                    282,
                    2074,
                    1495
                ],
                "self.__class__": [
                    282,
                    1495
                ],
                "self.request.body.done": [
                    283
                ],
                "self.request.body": [
                    2089,
                    2091,
                    285,
                    283,
                    284,
                    1501,
                    2078
                ],
                "self.request.body.set_exception": [
                    284
                ],
                "iostream.StreamClosedError": [
                    2419,
                    284,
                    1502
                ],
                "iostream": [
                    2419,
                    284,
                    1502
                ],
                "self.request.body.exception": [
                    285
                ],
                "httputil.HTTPHeaders": [
                    289
                ],
                "httputil": [
                    289,
                    323,
                    292,
                    2371,
                    297,
                    556,
                    943,
                    2063,
                    2166,
                    1561,
                    2397,
                    382
                ],
                "tornado.version": [
                    290
                ],
                "tornado": [
                    290
                ],
                "httputil.format_timestamp": [
                    292,
                    382,
                    556
                ],
                "time.time": [
                    292,
                    3079,
                    1287,
                    1255,
                    3154
                ],
                "time": [
                    292,
                    3079,
                    1287,
                    1255,
                    3154
                ],
                "self.set_default_headers": [
                    294
                ],
                "self._write_buffer": [
                    295,
                    718,
                    975,
                    978,
                    981,
                    1402,
                    923,
                    924
                ],
                "self._status_code": [
                    928,
                    930,
                    296,
                    329,
                    970,
                    2220,
                    944,
                    977,
                    978,
                    318
                ],
                "self._reason": [
                    320,
                    323,
                    1061,
                    297,
                    945
                ],
                "httputil.responses": [
                    297,
                    2166,
                    323,
                    1561
                ],
                "status_code": [
                    323,
                    1060,
                    325,
                    2787,
                    1031,
                    2853,
                    1033,
                    2217,
                    2156,
                    318
                ],
                "reason": [
                    320,
                    1026,
                    1030,
                    1031,
                    319
                ],
                "escape.native_str": [
                    320,
                    539,
                    540
                ],
                "escape": [
                    320,
                    800,
                    1346,
                    715,
                    2966,
                    377,
                    539,
                    540,
                    829
                ],
                "name": [
                    641,
                    515,
                    3084,
                    525,
                    526,
                    658,
                    404,
                    660,
                    539,
                    541,
                    670,
                    543,
                    546,
                    419,
                    547,
                    548,
                    549,
                    3108,
                    3243,
                    435,
                    1971,
                    1972,
                    1973,
                    1974,
                    1593,
                    1594,
                    1595,
                    447,
                    1985,
                    579,
                    1988,
                    463,
                    592,
                    593,
                    339,
                    475,
                    348,
                    478,
                    3168,
                    481,
                    3171,
                    356,
                    357,
                    487,
                    488,
                    617,
                    1385,
                    1387,
                    3181,
                    1391,
                    2035,
                    2039
                ],
                "self._convert_header_value": [
                    339,
                    348
                ],
                "value": [
                    384,
                    512,
                    641,
                    515,
                    1159,
                    3082,
                    3084,
                    3085,
                    526,
                    3086,
                    657,
                    658,
                    3219,
                    660,
                    540,
                    541,
                    669,
                    543,
                    670,
                    671,
                    3229,
                    3232,
                    548,
                    3109,
                    1579,
                    1580,
                    1581,
                    1582,
                    1583,
                    1587,
                    1464,
                    3256,
                    1466,
                    3257,
                    3132,
                    1085,
                    3261,
                    3196,
                    339,
                    3159,
                    3162,
                    3163,
                    348,
                    3168,
                    3171,
                    617,
                    3178,
                    3183,
                    368,
                    369,
                    370,
                    3187,
                    373,
                    374,
                    377,
                    378,
                    380,
                    381,
                    382,
                    3199
                ],
                "self._headers.add": [
                    348
                ],
                "_INVALID_HEADER_CHAR_RE": [
                    359
                ],
                "retval": [
                    387,
                    388,
                    389,
                    369,
                    373,
                    377
                ],
                "value.decode": [
                    373
                ],
                "escape.utf8": [
                    377
                ],
                "RequestHandler._INVALID_HEADER_CHAR_RE.search": [
                    387
                ],
                "RequestHandler._INVALID_HEADER_CHAR_RE": [
                    387
                ],
                "_ARG_DEFAULT": [
                    393,
                    449,
                    421,
                    391
                ],
                "self._get_argument": [
                    435,
                    404,
                    463
                ],
                "default": [
                    480,
                    482,
                    463,
                    527,
                    435,
                    404,
                    1119
                ],
                "self.request.arguments": [
                    2673,
                    419,
                    404
                ],
                "strip": [
                    417,
                    419,
                    493,
                    464,
                    436,
                    404,
                    475,
                    478,
                    447
                ],
                "self._get_arguments": [
                    419,
                    478,
                    475,
                    447
                ],
                "self.request.body_arguments": [
                    435,
                    447
                ],
                "self.request.query_arguments": [
                    464,
                    475
                ],
                "args": [
                    1600,
                    1666,
                    483,
                    1476,
                    1764,
                    1582,
                    1391,
                    1584,
                    1743,
                    2158,
                    2035,
                    2160,
                    2894,
                    2262,
                    1595,
                    478,
                    479
                ],
                "source": [
                    478,
                    487
                ],
                "self._ARG_DEFAULT": [
                    480
                ],
                "MissingArgumentError": [
                    481,
                    2209
                ],
                "values": [
                    496,
                    733,
                    486,
                    495
                ],
                "v": [
                    1477,
                    1478,
                    487,
                    488,
                    489,
                    492,
                    494,
                    495,
                    559,
                    565,
                    568
                ],
                "source.get": [
                    487
                ],
                "self.decode_argument": [
                    488,
                    1476,
                    1477
                ],
                "RequestHandler._remove_control_chars_regex.sub": [
                    492
                ],
                "RequestHandler._remove_control_chars_regex": [
                    492
                ],
                "v.strip": [
                    494
                ],
                "values.append": [
                    495
                ],
                "_unicode": [
                    512,
                    2834
                ],
                "self.request.cookies": [
                    592,
                    521,
                    525,
                    526
                ],
                "re.search": [
                    541
                ],
                "self._new_cookie": [
                    545,
                    546,
                    547,
                    548,
                    549,
                    940
                ],
                "Cookie.SimpleCookie": [
                    545
                ],
                "Cookie": [
                    545
                ],
                "morsel": [
                    549,
                    551,
                    556,
                    558,
                    568
                ],
                "domain": [
                    593,
                    580,
                    550,
                    551
                ],
                "expires_days": [
                    552,
                    554,
                    619,
                    1229,
                    1231
                ],
                "expires": [
                    578,
                    579,
                    552,
                    553,
                    555,
                    556
                ],
                "datetime.datetime.utcnow": [
                    2456,
                    553,
                    578
                ],
                "datetime.timedelta": [
                    553,
                    578,
                    2457
                ],
                "path": [
                    2695,
                    2699,
                    2961,
                    793,
                    794,
                    795,
                    796,
                    797,
                    798,
                    2337,
                    2346,
                    2732,
                    557,
                    558,
                    2351,
                    2352,
                    2997,
                    822,
                    823,
                    824,
                    825,
                    826,
                    827,
                    2999,
                    3001,
                    3005,
                    2496,
                    579,
                    593,
                    3282,
                    1888,
                    1381,
                    1895
                ],
                "k": [
                    1477,
                    1478,
                    559,
                    560,
                    561,
                    565,
                    568
                ],
                "kwargs.items": [
                    1478,
                    559
                ],
                "self.set_cookie": [
                    617,
                    579,
                    1230
                ],
                "self.clear_cookie": [
                    593
                ],
                "self.create_signed_value": [
                    617
                ],
                "version": [
                    641,
                    1281,
                    3076,
                    3077,
                    1288,
                    3083,
                    3087,
                    3114,
                    3120,
                    3257,
                    3258,
                    1213,
                    3134,
                    3137,
                    3138,
                    3145,
                    3147,
                    1228,
                    3148,
                    3163,
                    3165,
                    3167,
                    1249,
                    3170,
                    1251,
                    1253,
                    1256,
                    618,
                    1268,
                    1269,
                    1276
                ],
                "self.require_setting": [
                    1369,
                    656,
                    1173,
                    633,
                    668
                ],
                "secret": [
                    3168,
                    641,
                    3234,
                    3171,
                    3236,
                    3269,
                    3112,
                    3240,
                    3115,
                    3084,
                    3117,
                    3181,
                    3276,
                    634,
                    636
                ],
                "key_version": [
                    3265,
                    642,
                    3106,
                    3236,
                    3113,
                    3115,
                    3220,
                    3261,
                    3224,
                    635,
                    3229,
                    639
                ],
                "self.application.settings.get": [
                    1385,
                    1482,
                    2109,
                    2105,
                    637,
                    1182
                ],
                "create_signed_value": [
                    641
                ],
                "self.get_cookie": [
                    658,
                    670,
                    1247
                ],
                "decode_signed_value": [
                    659
                ],
                "max_age_days": [
                    3169,
                    3172,
                    3246,
                    3186,
                    660
                ],
                "min_version": [
                    3155,
                    3156,
                    3157,
                    661,
                    3158,
                    3165
                ],
                "get_signature_key_version": [
                    671
                ],
                "status": [
                    683,
                    684,
                    686,
                    687
                ],
                "permanent": [
                    2259,
                    684
                ],
                "self.set_status": [
                    1031,
                    2217,
                    2380,
                    687,
                    976,
                    2395,
                    2363
                ],
                "self.set_header": [
                    1415,
                    2409,
                    2443,
                    716,
                    2381,
                    2382,
                    2447,
                    688,
                    2451,
                    982,
                    2456,
                    2458,
                    2396,
                    1053
                ],
                "utf8": [
                    771,
                    1283,
                    1285,
                    3081,
                    3082,
                    1434,
                    1439,
                    3103,
                    3243,
                    688,
                    1329,
                    3256,
                    3269,
                    3271,
                    1224,
                    3272,
                    3276,
                    717,
                    3277,
                    3278,
                    3162,
                    736,
                    745,
                    3178,
                    1265,
                    754,
                    757,
                    1272,
                    1274,
                    763
                ],
                "self.finish": [
                    1056,
                    1058,
                    1510,
                    1547,
                    1037,
                    782,
                    1679,
                    689,
                    1019
                ],
                "chunk": [
                    2578,
                    2579,
                    2836,
                    2581,
                    2582,
                    923,
                    2843,
                    928,
                    2850,
                    931,
                    2853,
                    934,
                    2857,
                    2602,
                    2603,
                    2862,
                    2865,
                    947,
                    950,
                    953,
                    964,
                    709,
                    965,
                    711,
                    714,
                    715,
                    717,
                    718,
                    2787,
                    2790,
                    2415,
                    2417
                ],
                "message": [
                    710,
                    712,
                    713,
                    2164,
                    2168,
                    2170
                ],
                "escape.json_encode": [
                    715
                ],
                "self._write_buffer.append": [
                    718
                ],
                "html": [
                    770,
                    771,
                    774,
                    775,
                    777,
                    778,
                    780,
                    781,
                    782,
                    724,
                    762,
                    763,
                    766,
                    767
                ],
                "self.render_string": [
                    724,
                    3005
                ],
                "template_name": [
                    724,
                    862
                ],
                "js_embed": [
                    736,
                    811,
                    727,
                    764,
                    765
                ],
                "js_files": [
                    740,
                    742,
                    793,
                    759,
                    728,
                    761
                ],
                "css_embed": [
                    772,
                    773,
                    839,
                    745,
                    729
                ],
                "css_files": [
                    768,
                    769,
                    749,
                    751,
                    822,
                    730
                ],
                "html_heads": [
                    776,
                    778,
                    754,
                    731
                ],
                "html_bodies": [
                    781,
                    779,
                    732,
                    757
                ],
                "module": [
                    737,
                    743,
                    746,
                    752,
                    755,
                    1594,
                    733,
                    734
                ],
                "embed_part": [
                    736,
                    743,
                    744,
                    745,
                    734,
                    735
                ],
                "module.embedded_javascript": [
                    734
                ],
                "js_embed.append": [
                    736
                ],
                "file_part": [
                    737,
                    738,
                    739,
                    740,
                    742,
                    746,
                    747,
                    748,
                    749,
                    751
                ],
                "module.javascript_files": [
                    737
                ],
                "js_files.append": [
                    740
                ],
                "js_files.extend": [
                    742
                ],
                "module.embedded_css": [
                    743
                ],
                "css_embed.append": [
                    745
                ],
                "module.css_files": [
                    746
                ],
                "css_files.append": [
                    749
                ],
                "css_files.extend": [
                    751
                ],
                "head_part": [
                    752,
                    753,
                    754
                ],
                "module.html_head": [
                    752
                ],
                "html_heads.append": [
                    754
                ],
                "body_part": [
                    755,
                    756,
                    757
                ],
                "module.html_body": [
                    755
                ],
                "html_bodies.append": [
                    757
                ],
                "js": [
                    761,
                    763,
                    765,
                    767
                ],
                "self.render_linked_js": [
                    761
                ],
                "sloc": [
                    762,
                    763,
                    766,
                    767
                ],
                "html.rindex": [
                    762,
                    766
                ],
                "self.render_embed_js": [
                    765
                ],
                "css": [
                    769,
                    771,
                    773,
                    775
                ],
                "self.render_linked_css": [
                    769
                ],
                "hloc": [
                    770,
                    771,
                    774,
                    775,
                    777,
                    778,
                    780,
                    781
                ],
                "html.index": [
                    777,
                    770,
                    780,
                    774
                ],
                "self.render_embed_css": [
                    773
                ],
                "join": [
                    800,
                    3104,
                    1220,
                    3012,
                    839,
                    778,
                    811,
                    2091,
                    781,
                    3085,
                    3024,
                    923,
                    3036,
                    829,
                    3039
                ],
                "paths": [
                    802,
                    819,
                    790,
                    826,
                    797,
                    831
                ],
                "unique_paths": [
                    820,
                    791,
                    825,
                    827,
                    796,
                    798
                ],
                "is_absolute": [
                    794,
                    823
                ],
                "self.static_url": [
                    824,
                    883,
                    795
                ],
                "paths.append": [
                    826,
                    797
                ],
                "unique_paths.add": [
                    827,
                    798
                ],
                "escape.xhtml_escape": [
                    800,
                    1346,
                    829
                ],
                "p": [
                    800,
                    802,
                    829,
                    831
                ],
                "template_path": [
                    909,
                    849,
                    850,
                    855,
                    857,
                    858,
                    859,
                    861
                ],
                "self.get_template_path": [
                    849
                ],
                "frame": [
                    851,
                    852,
                    853,
                    854,
                    855
                ],
                "sys._getframe": [
                    851
                ],
                "sys": [
                    1550,
                    851,
                    1563,
                    1565,
                    1567
                ],
                "web_file": [
                    852,
                    853
                ],
                "frame.f_code.co_filename": [
                    852,
                    853,
                    855
                ],
                "frame.f_code": [
                    852,
                    853,
                    855
                ],
                "frame.f_back": [
                    854
                ],
                "os.path.dirname": [
                    855
                ],
                "os.path": [
                    2496,
                    2530,
                    2533,
                    2536,
                    2715,
                    2544,
                    2545,
                    2547,
                    855,
                    2714,
                    2523,
                    2524
                ],
                "os": [
                    2496,
                    2530,
                    1219,
                    2533,
                    1254,
                    2536,
                    2715,
                    2544,
                    2545,
                    2608,
                    2547,
                    855,
                    2714,
                    2523,
                    2524
                ],
                "RequestHandler._template_loader_lock": [
                    856,
                    2106
                ],
                "RequestHandler._template_loaders": [
                    2107,
                    857,
                    859,
                    861
                ],
                "loader": [
                    859,
                    858,
                    2107,
                    2108,
                    861,
                    862
                ],
                "self.create_template_loader": [
                    858
                ],
                "t": [
                    865,
                    2114,
                    862
                ],
                "loader.load": [
                    862
                ],
                "namespace": [
                    864,
                    865,
                    876,
                    887,
                    888,
                    863
                ],
                "self.get_template_namespace": [
                    863
                ],
                "namespace.update": [
                    864,
                    887
                ],
                "t.generate": [
                    865
                ],
                "self.current_user": [
                    2881,
                    1229,
                    879
                ],
                "self.locale": [
                    880,
                    881,
                    882,
                    2911
                ],
                "self.locale.translate": [
                    881
                ],
                "self.locale.pgettext": [
                    882
                ],
                "self.xsrf_form_html": [
                    884
                ],
                "self.reverse_url": [
                    885
                ],
                "settings": [
                    1890,
                    899,
                    900,
                    901,
                    1892,
                    903,
                    1894,
                    2695,
                    906,
                    907,
                    908,
                    2699,
                    2732,
                    1874,
                    1879,
                    1885,
                    1886
                ],
                "template.Loader": [
                    909
                ],
                "template": [
                    909
                ],
                "transform": [
                    929,
                    949,
                    950,
                    927
                ],
                "transform.transform_first_chunk": [
                    929
                ],
                "include_footers": [
                    931,
                    950
                ],
                "self.request.method": [
                    1505,
                    1474,
                    2882,
                    1540,
                    933,
                    1734,
                    1481,
                    971,
                    2422,
                    952,
                    1757
                ],
                "cookie": [
                    1248,
                    1249,
                    1283,
                    1285,
                    940,
                    941,
                    1265,
                    1270,
                    1247
                ],
                "self._new_cookie.values": [
                    940
                ],
                "self.add_header": [
                    941
                ],
                "cookie.OutputString": [
                    941
                ],
                "start_line": [
                    947,
                    943
                ],
                "httputil.ResponseStartLine": [
                    943
                ],
                "self.request.connection.write_headers": [
                    946
                ],
                "callback": [
                    953,
                    947
                ],
                "transform.transform_chunk": [
                    950
                ],
                "self.request.connection.write": [
                    953
                ],
                "future": [
                    955,
                    956,
                    957
                ],
                "Future": [
                    955,
                    2117,
                    2078
                ],
                "future.set_result": [
                    956
                ],
                "self.write": [
                    2417,
                    965,
                    1055
                ],
                "self.set_etag_header": [
                    2444,
                    973
                ],
                "self.check_etag_header": [
                    2467,
                    974
                ],
                "self._clear_headers_for_304": [
                    979
                ],
                "content_length": [
                    2402,
                    2404,
                    2406,
                    2408,
                    2409,
                    981,
                    982
                ],
                "part": [
                    3270,
                    3271,
                    981,
                    1402,
                    1403
                ],
                "self.flush": [
                    2418,
                    991
                ],
                "self.request.finish": [
                    992
                ],
                "self._log": [
                    993
                ],
                "self.on_finish": [
                    995
                ],
                "gen_log.error": [
                    1562,
                    1012,
                    1021,
                    2743
                ],
                "gen_log": [
                    1291,
                    3183,
                    1584,
                    3187,
                    1012,
                    2743,
                    1562,
                    3195,
                    1021,
                    3199
                ],
                "kwargs.get": [
                    1026,
                    2159
                ],
                "exception": [
                    1028,
                    1029,
                    1030
                ],
                "exception.reason": [
                    1029,
                    1030
                ],
                "self.write_error": [
                    1033
                ],
                "app_log.error": [
                    1554,
                    1035,
                    1586,
                    1515
                ],
                "app_log": [
                    1554,
                    1035,
                    1586,
                    1515
                ],
                "self.settings.get": [
                    1215,
                    1901,
                    2002,
                    2006,
                    1913,
                    1370,
                    1051,
                    1214,
                    1887
                ],
                "self.settings": [
                    2049,
                    2050,
                    1051,
                    1214,
                    1215,
                    2002,
                    2005,
                    2006,
                    1879,
                    1370,
                    1887,
                    1888,
                    1381,
                    1901,
                    1902,
                    1903,
                    1904,
                    1905,
                    1913
                ],
                "line": [
                    1054,
                    1055
                ],
                "traceback.format_exception": [
                    1054
                ],
                "traceback": [
                    1464,
                    1054
                ],
                "self._locale": [
                    1077,
                    1078,
                    1079,
                    1080,
                    1081,
                    1085
                ],
                "self.get_user_locale": [
                    1077
                ],
                "self.get_browser_locale": [
                    1079
                ],
                "locale.setter": [
                    1083
                ],
                "locale": [
                    1083,
                    1118,
                    1119
                ],
                "self.request.headers": [
                    2367,
                    2472,
                    1321,
                    1322,
                    1102,
                    1103,
                    1439
                ],
                "languages": [
                    1105,
                    1103
                ],
                "split": [
                    1106,
                    2834,
                    3178,
                    1103
                ],
                "locales": [
                    1104,
                    1114,
                    1115,
                    1116,
                    1117
                ],
                "language": [
                    1105,
                    1106
                ],
                "parts": [
                    3202,
                    3270,
                    3178,
                    3179,
                    3181,
                    3182,
                    3185,
                    1106,
                    1107,
                    1109,
                    1114,
                    3198
                ],
                "language.strip": [
                    1106
                ],
                "startswith": [
                    1107,
                    2533,
                    3198
                ],
                "score": [
                    1113,
                    1114,
                    1109,
                    1111
                ],
                "locales.append": [
                    1114
                ],
                "locales.sort": [
                    1116
                ],
                "pair": [
                    1116
                ],
                "codes": [
                    1117,
                    1118
                ],
                "l": [
                    1117
                ],
                "locale.get": [
                    1118,
                    1119
                ],
                "self._current_user": [
                    1154,
                    1155,
                    1159
                ],
                "self.get_current_user": [
                    1154
                ],
                "current_user.setter": [
                    1157
                ],
                "current_user": [
                    1157
                ],
                "token": [
                    1217,
                    1249,
                    1251,
                    1252,
                    1283,
                    1254,
                    1223,
                    1256,
                    1285,
                    1288,
                    1320,
                    1323,
                    1325,
                    1327,
                    1329,
                    1273,
                    1276,
                    1213
                ],
                "timestamp": [
                    1287,
                    1288,
                    3081,
                    3084,
                    3085,
                    3221,
                    3224,
                    3229,
                    3107,
                    3245,
                    3246,
                    1213,
                    1224,
                    1249,
                    1251,
                    1255,
                    1256,
                    3185,
                    3186,
                    3189,
                    1270,
                    1275,
                    1276
                ],
                "self._get_raw_xsrf_token": [
                    1213,
                    1326
                ],
                "output_version": [
                    1216,
                    1218,
                    1227,
                    1214
                ],
                "cookie_kwargs": [
                    1232,
                    1215
                ],
                "self._xsrf_token": [
                    1217,
                    1220,
                    1230,
                    1233
                ],
                "binascii.b2a_hex": [
                    1217,
                    1222,
                    1223
                ],
                "binascii": [
                    1217,
                    1283,
                    1284,
                    1222,
                    1223,
                    1272,
                    1274
                ],
                "mask": [
                    1219,
                    1222,
                    1223,
                    1270,
                    1272,
                    1274
                ],
                "os.urandom": [
                    1219,
                    1254
                ],
                "_websocket_mask": [
                    1273,
                    1223
                ],
                "self._decode_xsrf_token": [
                    1249,
                    1325
                ],
                "self._raw_xsrf_token": [
                    1256,
                    1257
                ],
                "_signed_value_version_re.match": [
                    1265,
                    3132
                ],
                "_signed_value_version_re": [
                    1265,
                    3132,
                    3125
                ],
                "m.group": [
                    3137,
                    1268
                ],
                "_": [
                    3209,
                    1325,
                    1326,
                    1270,
                    3261
                ],
                "masked_token": [
                    1274,
                    1270
                ],
                "cookie.split": [
                    1270
                ],
                "binascii.a2b_hex": [
                    1272,
                    1274,
                    1283
                ],
                "binascii.Error": [
                    1284
                ],
                "gen_log.debug": [
                    1291
                ],
                "self.get_argument": [
                    1320
                ],
                "self.request.headers.get": [
                    2472,
                    1321,
                    1322,
                    1439,
                    2367
                ],
                "expected_token": [
                    1329,
                    1326
                ],
                "_time_independent_equals": [
                    3241,
                    1329,
                    3059,
                    3182
                ],
                "self.xsrf_token": [
                    1346
                ],
                "get_url": [
                    1370,
                    1381
                ],
                "make_static_url": [
                    1370
                ],
                "StaticFileHandler": [
                    1371,
                    1893,
                    2110
                ],
                "include_host": [
                    1376,
                    1373,
                    1374
                ],
                "base": [
                    1377,
                    1379,
                    1381
                ],
                "self.request.protocol": [
                    1377
                ],
                "self.request.host": [
                    1377
                ],
                "feature": [
                    1387
                ],
                "self.application.reverse_url": [
                    1391
                ],
                "hasher": [
                    2598,
                    2600,
                    2603,
                    2604,
                    1401,
                    1403,
                    1404
                ],
                "hashlib.sha1": [
                    1401,
                    3269
                ],
                "hashlib": [
                    1401,
                    3276,
                    3269,
                    2598
                ],
                "hasher.update": [
                    2600,
                    2603,
                    1403
                ],
                "hasher.hexdigest": [
                    1404,
                    2604
                ],
                "etag": [
                    1413,
                    1414,
                    1415,
                    1452,
                    1453
                ],
                "self.compute_etag": [
                    1413
                ],
                "computed_etag": [
                    1441,
                    1434,
                    1453
                ],
                "self._headers.get": [
                    1434
                ],
                "etags": [
                    1441,
                    1452,
                    1437,
                    1445
                ],
                "re.findall": [
                    1437
                ],
                "match": [
                    1456,
                    1444,
                    1446,
                    1454
                ],
                "x.startswith": [
                    1450
                ],
                "x": [
                    1450,
                    3282,
                    3066,
                    3067,
                    3069,
                    3070
                ],
                "val": [
                    1453
                ],
                "raise_exc_info": [
                    1464
                ],
                "self._handle_request_exception": [
                    1513,
                    1466
                ],
                "transforms": [
                    1472,
                    2114,
                    2125,
                    1872,
                    1877
                ],
                "self.SUPPORTED_METHODS": [
                    1474
                ],
                "arg": [
                    1476
                ],
                "self.check_xsrf_cookie": [
                    1483
                ],
                "result": [
                    1666,
                    1667,
                    1668,
                    1680,
                    1687,
                    3015,
                    3018,
                    3020,
                    1485,
                    1486,
                    1487,
                    3021,
                    3027,
                    3030,
                    3032,
                    3033,
                    1506,
                    1507,
                    1508,
                    3064,
                    3067,
                    3070,
                    3071
                ],
                "self.prepare": [
                    1485
                ],
                "self._prepared_future.set_result": [
                    1521,
                    1491
                ],
                "method": [
                    1600,
                    1505,
                    1506,
                    1666,
                    1731,
                    1764,
                    2894,
                    1743,
                    1754,
                    1661,
                    2879
                ],
                "self.request.method.lower": [
                    1505
                ],
                "e": [
                    1544,
                    1513,
                    1547,
                    3055,
                    1560,
                    1561,
                    1562,
                    1565
                ],
                "self._prepared_future.done": [
                    1517
                ],
                "gen.coroutine": [
                    2348,
                    1469
                ],
                "gen": [
                    1668,
                    1469,
                    2348
                ],
                "self.application.log_request": [
                    1537
                ],
                "self.request.uri": [
                    2889,
                    1540
                ],
                "self.request.remote_ip": [
                    1541
                ],
                "Finish": [
                    1544
                ],
                "e.args": [
                    1547
                ],
                "self.log_exception": [
                    1550
                ],
                "sys.exc_info": [
                    1563,
                    1565,
                    1550,
                    1567
                ],
                "e.status_code": [
                    1561,
                    1562,
                    1565
                ],
                "e.reason": [
                    1561
                ],
                "self.send_error": [
                    1563,
                    1565,
                    1567
                ],
                "value.log_message": [
                    1580,
                    1581
                ],
                "value.status_code": [
                    1582
                ],
                "self._request_summary": [
                    1586,
                    1582
                ],
                "value.args": [
                    1583
                ],
                "gen_log.warning": [
                    3183,
                    1584,
                    3187,
                    3195,
                    3199
                ],
                "typ": [
                    1587
                ],
                "tb": [
                    1587
                ],
                "self._active_modules": [
                    1592,
                    1593,
                    1594,
                    1595
                ],
                "rendered": [
                    1595,
                    1596
                ],
                "render": [
                    1595,
                    1597
                ],
                "headers": [
                    2850,
                    2787,
                    2852,
                    2853,
                    1607,
                    1610,
                    2829,
                    2830,
                    2832,
                    2834,
                    2837,
                    2839,
                    2844
                ],
                "h": [
                    1610,
                    1611
                ],
                "self.clear_header": [
                    1611
                ],
                "stack_context.ExceptionStackContext": [
                    1664
                ],
                "stack_context": [
                    1664
                ],
                "self._stack_context_handle_exception": [
                    1665
                ],
                "gen.convert_yielded": [
                    1668
                ],
                "f.result": [
                    1677
                ],
                "f": [
                    3016,
                    3017,
                    3018,
                    3020,
                    1677,
                    3028,
                    3029,
                    3030,
                    3032
                ],
                "add_future": [
                    1680
                ],
                "IOLoop.current": [
                    1680
                ],
                "IOLoop": [
                    1680
                ],
                "future_complete": [
                    1680
                ],
                "functools.wraps": [
                    1754,
                    1731,
                    1661,
                    2879
                ],
                "functools": [
                    1754,
                    1731,
                    1661,
                    2879
                ],
                "wrapper": [
                    1688,
                    1765,
                    2895,
                    1744
                ],
                "cls": [
                    2699,
                    2597,
                    2342,
                    2343,
                    2732,
                    2733,
                    1712,
                    1713,
                    1714,
                    1715,
                    2737,
                    2738,
                    2741,
                    1719,
                    1720,
                    1721,
                    1985,
                    1987,
                    1988
                ],
                "cls._stream_request_body": [
                    1714
                ],
                "self.request.path.endswith": [
                    2541,
                    1756,
                    1733
                ],
                "self.request.path": [
                    1733,
                    1735,
                    2541,
                    2542,
                    1756,
                    1758
                ],
                "uri": [
                    1760,
                    1761,
                    1735,
                    1736,
                    1738,
                    1739,
                    1758
                ],
                "self.request.path.rstrip": [
                    1735
                ],
                "self.request.query": [
                    1760,
                    1737,
                    1738,
                    1759
                ],
                "self.redirect": [
                    1761,
                    2891,
                    1739,
                    2542,
                    2262
                ],
                "ReversibleRuleRouter": [
                    1768
                ],
                "Application": [
                    1780
                ],
                "_ApplicationRouter": [
                    1796,
                    1907,
                    1908,
                    1782,
                    1785,
                    1788,
                    1950
                ],
                "rules": [
                    1782
                ],
                "rule": [
                    1952,
                    1950,
                    1785,
                    1787,
                    1788,
                    1790
                ],
                "process_rule": [
                    1785
                ],
                "rule.target": [
                    1787,
                    1788
                ],
                "isclass": [
                    1793
                ],
                "target": [
                    1793,
                    1794,
                    1796
                ],
                "self.application.get_handler_delegate": [
                    1794
                ],
                "target_params": [
                    1794,
                    1796
                ],
                "get_target_delegate": [
                    1796
                ],
                "ReversibleRouter": [
                    1799
                ],
                "self.transforms": [
                    1873,
                    1875,
                    1877,
                    1961
                ],
                "settings.get": [
                    1890,
                    1892,
                    1894,
                    2695,
                    1874,
                    1885,
                    1886
                ],
                "self.transforms.append": [
                    1961,
                    1875
                ],
                "GZipContentEncoding": [
                    1875
                ],
                "self.default_host": [
                    1954,
                    1878
                ],
                "default_host": [
                    1878
                ],
                "self.ui_modules": [
                    1880,
                    3049,
                    1988,
                    3046
                ],
                "_linkify": [
                    1880
                ],
                "_xsrf_form_html": [
                    1881
                ],
                "TemplateModule": [
                    1882,
                    2990
                ],
                "self.ui_methods": [
                    1884,
                    1974
                ],
                "self._load_ui_modules": [
                    1978,
                    1885,
                    1982
                ],
                "self._load_ui_methods": [
                    1969,
                    1965,
                    1886
                ],
                "handlers": [
                    1889,
                    1898,
                    1907
                ],
                "static_url_prefix": [
                    1896,
                    1890
                ],
                "static_handler_class": [
                    1898,
                    1892
                ],
                "static_handler_args": [
                    1899,
                    1894,
                    1895
                ],
                "pattern": [
                    1896,
                    1898
                ],
                "re.escape": [
                    1896
                ],
                "handlers.insert": [
                    1898
                ],
                "self.settings.setdefault": [
                    1904,
                    1905,
                    1902,
                    1903
                ],
                "self.wildcard_router": [
                    1955,
                    1907,
                    1909
                ],
                "self.default_router": [
                    1952,
                    2035,
                    1908,
                    1998
                ],
                "Rule": [
                    1909,
                    1950
                ],
                "AnyMatches": [
                    1909
                ],
                "autoreload.start": [
                    1915
                ],
                "autoreload": [
                    1915
                ],
                "server": [
                    1939,
                    1940,
                    1941
                ],
                "HTTPServer": [
                    1939
                ],
                "server.listen": [
                    1940
                ],
                "port": [
                    1940
                ],
                "address": [
                    1940
                ],
                "host_matcher": [
                    1956,
                    1949,
                    1950
                ],
                "HostMatches": [
                    1949
                ],
                "host_pattern": [
                    1949
                ],
                "host_handlers": [
                    1957,
                    1950
                ],
                "self.default_router.rules.insert": [
                    1952
                ],
                "self.default_router.rules": [
                    1952
                ],
                "self.wildcard_router.add_rules": [
                    1955
                ],
                "DefaultHostMatches": [
                    1956
                ],
                "host_matcher.host_pattern": [
                    1956
                ],
                "transform_class": [
                    1961
                ],
                "methods": [
                    1964,
                    1965,
                    1966,
                    1967,
                    1968,
                    1971
                ],
                "types.ModuleType": [
                    1977,
                    1964
                ],
                "types": [
                    1977,
                    1964
                ],
                "fn": [
                    1971,
                    1972,
                    1974
                ],
                "methods.items": [
                    1971
                ],
                "name.startswith": [
                    1972
                ],
                "lower": [
                    1973
                ],
                "modules": [
                    1984,
                    1985,
                    1977,
                    1978,
                    1979,
                    1980,
                    1981
                ],
                "modules.items": [
                    1985
                ],
                "UIModule": [
                    2969,
                    1987,
                    2964,
                    2974
                ],
                "dispatcher": [
                    1994,
                    1995
                ],
                "self.find_handler": [
                    1994
                ],
                "dispatcher.execute": [
                    1995
                ],
                "route": [
                    2000,
                    1998,
                    1999
                ],
                "self.default_router.find_handler": [
                    1998
                ],
                "self.get_handler_delegate": [
                    2008,
                    2003
                ],
                "ErrorHandler": [
                    2009
                ],
                "_HandlerDelegate": [
                    2023
                ],
                "target_class": [
                    2024
                ],
                "target_kwargs": [
                    2024
                ],
                "path_args": [
                    2024,
                    2071
                ],
                "path_kwargs": [
                    2024,
                    2072
                ],
                "reversed_url": [
                    2035,
                    2036,
                    2037
                ],
                "self.default_router.reverse_url": [
                    2035
                ],
                "handler": [
                    2050,
                    2052,
                    3045,
                    2054,
                    2058,
                    2059,
                    2060,
                    2990,
                    2908,
                    2909,
                    2910,
                    2911
                ],
                "handler.get_status": [
                    2059,
                    2052,
                    2054
                ],
                "log_method": [
                    2057,
                    2059,
                    2053,
                    2055
                ],
                "access_log.info": [
                    2053
                ],
                "access_log": [
                    2057,
                    2053,
                    2055
                ],
                "access_log.warning": [
                    2055
                ],
                "access_log.error": [
                    2057
                ],
                "request_time": [
                    2058,
                    2060
                ],
                "handler.request.request_time": [
                    2058
                ],
                "handler.request": [
                    2058,
                    2909
                ],
                "handler._request_summary": [
                    2060
                ],
                "httputil.HTTPMessageDelegate": [
                    2063
                ],
                "self.connection": [
                    2067
                ],
                "request.connection": [
                    2067
                ],
                "self.handler_class": [
                    2112,
                    2074,
                    2069
                ],
                "handler_class": [
                    2069
                ],
                "self.handler_kwargs": [
                    2113,
                    2070
                ],
                "handler_kwargs": [
                    2070
                ],
                "self.chunks": [
                    2099,
                    2073,
                    2091,
                    2085
                ],
                "self.stream_request_body": [
                    2082,
                    2116,
                    2088,
                    2096,
                    2074,
                    2077
                ],
                "self.execute": [
                    2093,
                    2079
                ],
                "self.handler.data_received": [
                    2083
                ],
                "self.handler": [
                    2112,
                    2083,
                    2915,
                    2117,
                    3045,
                    3049,
                    2125,
                    2097,
                    2130,
                    2961,
                    2971,
                    2908
                ],
                "data": [
                    2083,
                    2597,
                    2085,
                    2599,
                    2600,
                    2602
                ],
                "self.chunks.append": [
                    2085
                ],
                "self.request.body.set_result": [
                    2089
                ],
                "self.request._parse_body": [
                    2092
                ],
                "self.handler.on_connection_close": [
                    2097
                ],
                "RequestHandler._template_loaders.values": [
                    2107
                ],
                "loader.reset": [
                    2108
                ],
                "StaticFileHandler.reset": [
                    2110
                ],
                "self.application.transforms": [
                    2114
                ],
                "self.handler._prepared_future": [
                    2130,
                    2117
                ],
                "self.handler._execute": [
                    2125
                ],
                "self.status_code": [
                    2156,
                    2165,
                    2166
                ],
                "self.log_message": [
                    2168,
                    2161,
                    2157,
                    2167
                ],
                "log_message": [
                    2160,
                    2161,
                    2157
                ],
                "self.args": [
                    2168,
                    2158
                ],
                "self.reason": [
                    2166,
                    2159
                ],
                "log_message.replace": [
                    2161
                ],
                "httputil.responses.get": [
                    2166
                ],
                "arg_name": [
                    2210,
                    2211
                ],
                "self.arg_name": [
                    2211
                ],
                "self._url": [
                    2258,
                    2262
                ],
                "self._permanent": [
                    2259,
                    2262
                ],
                "self._url.format": [
                    2262
                ],
                "CACHE_MAX_AGE": [
                    2331
                ],
                "_static_hashes": [
                    2333
                ],
                "_lock": [
                    2334
                ],
                "self.root": [
                    2337,
                    2355,
                    2353
                ],
                "self.default_filename": [
                    2544,
                    2537,
                    2338
                ],
                "default_filename": [
                    2338
                ],
                "cls._lock": [
                    2737,
                    2342
                ],
                "cls._static_hashes": [
                    2738,
                    2343
                ],
                "self.get": [
                    2346
                ],
                "self.path": [
                    2535,
                    2351,
                    2353,
                    2548,
                    2453,
                    2460
                ],
                "self.parse_url_path": [
                    2351
                ],
                "absolute_path": [
                    2533,
                    2536,
                    2544,
                    2353,
                    2545,
                    2355,
                    2547,
                    2549
                ],
                "self.get_absolute_path": [
                    2353
                ],
                "self.absolute_path": [
                    2433,
                    2412,
                    2608,
                    2354,
                    2643,
                    2356
                ],
                "self.validate_absolute_path": [
                    2354
                ],
                "self.modified": [
                    2477,
                    2446,
                    2447,
                    2453,
                    2359
                ],
                "self.get_modified_time": [
                    2359
                ],
                "self.set_headers": [
                    2360
                ],
                "self.should_return_304": [
                    2362
                ],
                "request_range": [
                    2374,
                    2371,
                    2366,
                    2375
                ],
                "range_header": [
                    2368,
                    2371,
                    2367
                ],
                "httputil._parse_request_range": [
                    2371
                ],
                "size": [
                    2373,
                    2406,
                    2376,
                    2408,
                    2382,
                    2385,
                    2386,
                    2389,
                    2394,
                    2397
                ],
                "self.get_content_size": [
                    2373
                ],
                "start": [
                    2401,
                    2402,
                    2405,
                    2406,
                    2375,
                    2376,
                    2568,
                    2569,
                    2571,
                    2412,
                    2384,
                    2385,
                    2394,
                    2397,
                    2399
                ],
                "end": [
                    2401,
                    2402,
                    2403,
                    2404,
                    2375,
                    2376,
                    2570,
                    2571,
                    2412,
                    2386,
                    2389,
                    2394,
                    2397,
                    2399
                ],
                "httputil._get_content_range": [
                    2397
                ],
                "include_body": [
                    2411
                ],
                "content": [
                    2412,
                    2413,
                    2414,
                    2415
                ],
                "self.get_content": [
                    2412
                ],
                "version_hash": [
                    2433,
                    2434,
                    2436,
                    2699,
                    2700,
                    2703
                ],
                "self._get_cached_version": [
                    2433
                ],
                "content_type": [
                    2449,
                    2450,
                    2451,
                    2454
                ],
                "self.get_content_type": [
                    2449
                ],
                "cache_time": [
                    2457,
                    2458,
                    2453,
                    2455
                ],
                "self.get_cache_time": [
                    2453
                ],
                "self.set_extra_headers": [
                    2460
                ],
                "ims_value": [
                    2472,
                    2473,
                    2474
                ],
                "date_tuple": [
                    2474,
                    2475,
                    2476
                ],
                "email.utils.parsedate": [
                    2474
                ],
                "email.utils": [
                    2474
                ],
                "email": [
                    2474
                ],
                "if_since": [
                    2476,
                    2477
                ],
                "abspath": [
                    2496,
                    2497,
                    2597,
                    2567
                ],
                "os.path.abspath": [
                    2496,
                    2523
                ],
                "os.path.join": [
                    2496,
                    2544
                ],
                "root": [
                    2496,
                    2530,
                    2533,
                    2523,
                    2524
                ],
                "root.endswith": [
                    2524
                ],
                "os.path.sep": [
                    2530,
                    2533,
                    2714,
                    2715,
                    2524
                ],
                "os.path.isdir": [
                    2536
                ],
                "os.path.exists": [
                    2545
                ],
                "os.path.isfile": [
                    2547
                ],
                "file": [
                    2569,
                    2578,
                    2567
                ],
                "file.seek": [
                    2569
                ],
                "remaining": [
                    2571,
                    2573,
                    2576,
                    2577,
                    2580,
                    2581,
                    2584,
                    2585
                ],
                "chunk_size": [
                    2576,
                    2577,
                    2578,
                    2575
                ],
                "file.read": [
                    2578
                ],
                "cls.get_content": [
                    2597
                ],
                "hashlib.md5": [
                    2598
                ],
                "self._stat_result": [
                    2608,
                    2609
                ],
                "os.stat": [
                    2608
                ],
                "stat_result": [
                    2633,
                    2635,
                    2622,
                    2623
                ],
                "self._stat": [
                    2633,
                    2622
                ],
                "stat.ST_SIZE": [
                    2623
                ],
                "stat": [
                    2635,
                    2623
                ],
                "modified": [
                    2634,
                    2636
                ],
                "datetime.datetime.utcfromtimestamp": [
                    2634
                ],
                "stat.ST_MTIME": [
                    2635
                ],
                "mime_type": [
                    2643,
                    2652,
                    2653
                ],
                "encoding": [
                    2650,
                    2643,
                    2645
                ],
                "mimetypes.guess_type": [
                    2643
                ],
                "mimetypes": [
                    2643
                ],
                "self.CACHE_MAX_AGE": [
                    2673
                ],
                "include_version": [
                    2696
                ],
                "cls.get_version": [
                    2699
                ],
                "url_path": [
                    2715,
                    2716
                ],
                "url_path.replace": [
                    2715
                ],
                "abs_path": [
                    2732,
                    2733,
                    2739,
                    2741,
                    2743,
                    2744,
                    2745
                ],
                "cls.get_absolute_path": [
                    2732
                ],
                "cls._get_cached_version": [
                    2733
                ],
                "hashes": [
                    2738,
                    2739,
                    2741,
                    2744,
                    2745
                ],
                "cls.get_content_version": [
                    2741
                ],
                "hsh": [
                    2745,
                    2746,
                    2747
                ],
                "hashes.get": [
                    2745
                ],
                "self.fallback": [
                    2768,
                    2771
                ],
                "fallback": [
                    2768
                ],
                "OutputTransform": [
                    2793
                ],
                "CONTENT_TYPES": [
                    2805
                ],
                "GZIP_LEVEL": [
                    2812
                ],
                "MIN_LENGTH": [
                    2818
                ],
                "self._gzipping": [
                    2821,
                    2856,
                    2833,
                    2835,
                    2838
                ],
                "request.headers.get": [
                    2821
                ],
                "request.headers": [
                    2821
                ],
                "ctype.startswith": [
                    2824
                ],
                "ctype": [
                    2824,
                    2834,
                    2835
                ],
                "self.CONTENT_TYPES": [
                    2824
                ],
                "headers.get": [
                    2834
                ],
                "self._compressible_type": [
                    2835
                ],
                "finishing": [
                    2849,
                    2858,
                    2843,
                    2836
                ],
                "self.MIN_LENGTH": [
                    2836
                ],
                "self._gzip_value": [
                    2862,
                    2863,
                    2864,
                    2840,
                    2841
                ],
                "BytesIO": [
                    2840
                ],
                "self._gzip_file": [
                    2841,
                    2859,
                    2861,
                    2857
                ],
                "gzip.GzipFile": [
                    2841
                ],
                "gzip": [
                    2841
                ],
                "self.GZIP_LEVEL": [
                    2842
                ],
                "self.transform_chunk": [
                    2843
                ],
                "self._gzip_file.write": [
                    2857
                ],
                "self._gzip_file.close": [
                    2859
                ],
                "self._gzip_file.flush": [
                    2861
                ],
                "self._gzip_value.getvalue": [
                    2862
                ],
                "self._gzip_value.truncate": [
                    2863
                ],
                "self._gzip_value.seek": [
                    2864
                ],
                "self.get_login_url": [
                    2883
                ],
                "scheme": [
                    2885
                ],
                "urlparse.urlsplit": [
                    2885
                ],
                "urlparse": [
                    2885
                ],
                "next_url": [
                    2889,
                    2890,
                    2887
                ],
                "self.request.full_url": [
                    2887
                ],
                "urlencode": [
                    2890
                ],
                "handler.ui": [
                    2910
                ],
                "handler.locale": [
                    2911
                ],
                "self.handler.current_user": [
                    2915
                ],
                "self.handler.render_string": [
                    2961
                ],
                "escape.linkify": [
                    2966
                ],
                "text": [
                    2966
                ],
                "self.handler.xsrf_form_html": [
                    2971
                ],
                "self._resource_list": [
                    2992,
                    3009,
                    2998
                ],
                "self._resource_dict": [
                    2993,
                    3001,
                    2997,
                    2999
                ],
                "self._resource_list.append": [
                    2998
                ],
                "set_resources": [
                    3005
                ],
                "r": [
                    3009
                ],
                "key": [
                    3053,
                    3009,
                    3049
                ],
                "self._get_resources": [
                    3012,
                    3016,
                    3024,
                    3028,
                    3036,
                    3039
                ],
                "result.append": [
                    3018,
                    3030
                ],
                "result.extend": [
                    3032,
                    3020
                ],
                "ui_modules": [
                    3046
                ],
                "self.handler._ui_module": [
                    3049
                ],
                "hmac": [
                    3058,
                    3059,
                    3276,
                    3269
                ],
                "hmac.compare_digest": [
                    3059
                ],
                "a": [
                    3065,
                    3066,
                    3069,
                    3062
                ],
                "b": [
                    3066,
                    3069,
                    3062
                ],
                "y": [
                    3066,
                    3067,
                    3069,
                    3070
                ],
                "clock": [
                    3169,
                    3172,
                    3078,
                    3079,
                    3081,
                    3246,
                    3153,
                    3154,
                    3186,
                    3189
                ],
                "base64.b64encode": [
                    3082
                ],
                "base64": [
                    3250,
                    3082,
                    3202
                ],
                "signature": [
                    3084,
                    3181,
                    3117,
                    3085,
                    3118,
                    3182
                ],
                "_create_signature_v1": [
                    3084,
                    3181
                ],
                "s": [
                    3209,
                    3277,
                    3103
                ],
                "to_sign": [
                    3104,
                    3117,
                    3118
                ],
                "format_field": [
                    3106,
                    3107,
                    3108,
                    3109
                ],
                "_create_signature_v2": [
                    3240,
                    3117
                ],
                "_get_version": [
                    3257,
                    3163
                ],
                "_decode_signed_value_v1": [
                    3168
                ],
                "_decode_signed_value_v2": [
                    3171
                ],
                "base64.b64decode": [
                    3250,
                    3202
                ],
                "length": [
                    3209,
                    3210
                ],
                "rest": [
                    3209,
                    3211,
                    3214,
                    3216,
                    3217,
                    3219,
                    3220,
                    3221,
                    3222,
                    3223
                ],
                "s.partition": [
                    3209
                ],
                "field_value": [
                    3217,
                    3211
                ],
                "_consume_field": [
                    3220,
                    3221,
                    3222,
                    3223
                ],
                "name_field": [
                    3224,
                    3243,
                    3229,
                    3222
                ],
                "value_field": [
                    3224,
                    3250,
                    3229,
                    3223
                ],
                "passed_sig": [
                    3232,
                    3241,
                    3223,
                    3224,
                    3229
                ],
                "_decode_fields_v2": [
                    3229,
                    3261
                ],
                "signed_string": [
                    3232,
                    3240
                ],
                "expected_sig": [
                    3240,
                    3241
                ],
                "hmac.new": [
                    3276,
                    3269
                ],
                "hash.update": [
                    3277,
                    3271
                ],
                "hash.hexdigest": [
                    3272,
                    3278
                ],
                "hashlib.sha256": [
                    3276
                ],
                "path.startswith": [
                    3282
                ]
            }
        },
        "/Volumes/SSD2T/bgp_envs_non_pandas/repos/tornado_10/tornado/websocket.py": {
            "buggy_functions": [
                {
                    "function_name": "on_connection_close",
                    "function_code": "def on_connection_close(self):\n    if self.ws_connection:\n        self.ws_connection.on_connection_close()\n        self.ws_connection = None\n    if not self._on_close_called:\n        self._on_close_called = True\n        self.on_close()\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 430,
                    "end_line": 436,
                    "variables": {
                        "self.ws_connection": [
                            432,
                            433,
                            431
                        ],
                        "self": [
                            431,
                            432,
                            433,
                            434,
                            435,
                            436
                        ],
                        "self.ws_connection.on_connection_close": [
                            432
                        ],
                        "self._on_close_called": [
                            434,
                            435
                        ],
                        "self.on_close": [
                            436
                        ]
                    },
                    "filtered_variables": {
                        "self.ws_connection": [
                            432,
                            433,
                            431
                        ],
                        "self": [
                            431,
                            432,
                            433,
                            434,
                            435,
                            436
                        ],
                        "self.ws_connection.on_connection_close": [
                            432
                        ],
                        "self._on_close_called": [
                            434,
                            435
                        ],
                        "self.on_close": [
                            436
                        ]
                    },
                    "diff_line_number": 436,
                    "class_data": {
                        "signature": "class WebSocketHandler(tornado.web.RequestHandler)",
                        "docstring": "Subclass this class to create a basic WebSocket handler.\n\nOverride `on_message` to handle incoming messages, and use\n`write_message` to send messages to the client. You can also\noverride `open` and `on_close` to handle opened and closed\nconnections.\n\nCustom upgrade response headers can be sent by overriding\n`~tornado.web.RequestHandler.set_default_headers` or\n`~tornado.web.RequestHandler.prepare`.\n\nSee http://dev.w3.org/html5/websockets/ for details on the\nJavaScript interface.  The protocol is specified at\nhttp://tools.ietf.org/html/rfc6455.\n\nHere is an example WebSocket handler that echos back all received messages\nback to the client:\n\n.. testcode::\n\n  class EchoWebSocket(tornado.websocket.WebSocketHandler):\n      def open(self):\n          print(\"WebSocket opened\")\n\n      def on_message(self, message):\n          self.write_message(u\"You said: \" + message)\n\n      def on_close(self):\n          print(\"WebSocket closed\")\n\n.. testoutput::\n   :hide:\n\nWebSockets are not standard HTTP connections. The \"handshake\" is\nHTTP, but after the handshake, the protocol is\nmessage-based. Consequently, most of the Tornado HTTP facilities\nare not available in handlers of this type. The only communication\nmethods available to you are `write_message()`, `ping()`, and\n`close()`. Likewise, your request handler class should implement\n`open()` method rather than ``get()`` or ``post()``.\n\nIf you map the handler above to ``/websocket`` in your application, you can\ninvoke it in JavaScript with::\n\n  var ws = new WebSocket(\"ws://localhost:8888/websocket\");\n  ws.onopen = function() {\n     ws.send(\"Hello, world\");\n  };\n  ws.onmessage = function (evt) {\n     alert(evt.data);\n  };\n\nThis script pops up an alert box that says \"You said: Hello, world\".\n\nWeb browsers allow any site to open a websocket connection to any other,\ninstead of using the same-origin policy that governs other network\naccess from javascript.  This can be surprising and is a potential\nsecurity hole, so since Tornado 4.0 `WebSocketHandler` requires\napplications that wish to receive cross-origin websockets to opt in\nby overriding the `~WebSocketHandler.check_origin` method (see that\nmethod's docs for details).  Failure to do so is the most likely\ncause of 403 errors when making a websocket connection.\n\nWhen using a secure websocket connection (``wss://``) with a self-signed\ncertificate, the connection from a browser may fail because it wants\nto show the \"accept this certificate\" dialog but has nowhere to show it.\nYou must first visit a regular HTML page using the same certificate\nto accept it before the websocket connection will succeed.\n\nIf the application setting ``websocket_ping_interval`` has a non-zero\nvalue, a ping will be sent periodically, and the connection will be\nclosed if a response is not received before the ``websocket_ping_timeout``.\n\nMessages larger than the ``websocket_max_message_size`` application setting\n(default 10MiB) will not be accepted.\n\n.. versionchanged:: 4.5\n   Added ``websocket_ping_interval``, ``websocket_ping_timeout``, and\n   ``websocket_max_message_size``.",
                        "constructor_docstring": null,
                        "functions": [
                            "def __init__(self, application, request, **kwargs):\n    super(WebSocketHandler, self).__init__(application, request, **kwargs)\n    self.ws_connection = None\n    self.close_code = None\n    self.close_reason = None\n    self.stream = None\n    self._on_close_called = False",
                            "@tornado.web.asynchronous\ndef get(self, *args, **kwargs):\n    self.open_args = args\n    self.open_kwargs = kwargs\n    if self.request.headers.get('Upgrade', '').lower() != 'websocket':\n        self.set_status(400)\n        log_msg = 'Can \"Upgrade\" only to \"WebSocket\".'\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n    headers = self.request.headers\n    connection = map(lambda s: s.strip().lower(), headers.get('Connection', '').split(','))\n    if 'upgrade' not in connection:\n        self.set_status(400)\n        log_msg = '\"Connection\" must be \"Upgrade\".'\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n    if 'Origin' in self.request.headers:\n        origin = self.request.headers.get('Origin')\n    else:\n        origin = self.request.headers.get('Sec-Websocket-Origin', None)\n    if origin is not None and (not self.check_origin(origin)):\n        self.set_status(403)\n        log_msg = 'Cross origin websockets not allowed'\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n    self.ws_connection = self.get_websocket_protocol()\n    if self.ws_connection:\n        self.ws_connection.accept_connection()\n    else:\n        self.set_status(426, 'Upgrade Required')\n        self.set_header('Sec-WebSocket-Version', '7, 8, 13')\n        self.finish()",
                            "@property\ndef ping_interval(self):\n    \"\"\"The interval for websocket keep-alive pings.\n\n    Set websocket_ping_interval = 0 to disable pings.\n    \"\"\"\n    return self.settings.get('websocket_ping_interval', None)",
                            "@property\ndef ping_timeout(self):\n    \"\"\"If no ping is received in this many seconds,\n    close the websocket connection (VPNs, etc. can fail to cleanly close ws connections).\n    Default is max of 3 pings or 30 seconds.\n    \"\"\"\n    return self.settings.get('websocket_ping_timeout', None)",
                            "@property\ndef max_message_size(self):\n    \"\"\"Maximum allowed message size.\n\n    If the remote peer sends a message larger than this, the connection\n    will be closed.\n\n    Default is 10MiB.\n    \"\"\"\n    return self.settings.get('websocket_max_message_size', None)",
                            "def write_message(self, message, binary=False):\n    \"\"\"Sends the given message to the client of this Web Socket.\n\n    The message may be either a string or a dict (which will be\n    encoded as json).  If the ``binary`` argument is false, the\n    message will be sent as utf8; in binary mode any byte string\n    is allowed.\n\n    If the connection is already closed, raises `WebSocketClosedError`.\n\n    .. versionchanged:: 3.2\n       `WebSocketClosedError` was added (previously a closed connection\n       would raise an `AttributeError`)\n\n    .. versionchanged:: 4.3\n       Returns a `.Future` which can be used for flow control.\n    \"\"\"\n    if self.ws_connection is None:\n        raise WebSocketClosedError()\n    if isinstance(message, dict):\n        message = tornado.escape.json_encode(message)\n    return self.ws_connection.write_message(message, binary=binary)",
                            "def select_subprotocol(self, subprotocols):\n    \"\"\"Invoked when a new WebSocket requests specific subprotocols.\n\n    ``subprotocols`` is a list of strings identifying the\n    subprotocols proposed by the client.  This method may be\n    overridden to return one of those strings to select it, or\n    ``None`` to not select a subprotocol.  Failure to select a\n    subprotocol does not automatically abort the connection,\n    although clients may close the connection if none of their\n    proposed subprotocols was selected.\n    \"\"\"\n    return None",
                            "def get_compression_options(self):\n    \"\"\"Override to return compression options for the connection.\n\n    If this method returns None (the default), compression will\n    be disabled.  If it returns a dict (even an empty one), it\n    will be enabled.  The contents of the dict may be used to\n    control the following compression options:\n\n    ``compression_level`` specifies the compression level.\n\n    ``mem_level`` specifies the amount of memory used for the internal compression state.\n\n     These parameters are documented in details here:\n     https://docs.python.org/3.6/library/zlib.html#zlib.compressobj\n\n    .. versionadded:: 4.1\n\n    .. versionchanged:: 4.5\n\n       Added ``compression_level`` and ``mem_level``.\n    \"\"\"\n    return None",
                            "def open(self, *args, **kwargs):\n    \"\"\"Invoked when a new WebSocket is opened.\n\n    The arguments to `open` are extracted from the `tornado.web.URLSpec`\n    regular expression, just like the arguments to\n    `tornado.web.RequestHandler.get`.\n    \"\"\"\n    pass",
                            "def on_message(self, message):\n    \"\"\"Handle incoming messages on the WebSocket\n\n    This method must be overridden.\n\n    .. versionchanged:: 4.5\n\n       ``on_message`` can be a coroutine.\n    \"\"\"\n    raise NotImplementedError",
                            "def ping(self, data):\n    \"\"\"Send ping frame to the remote end.\"\"\"\n    if self.ws_connection is None:\n        raise WebSocketClosedError()\n    self.ws_connection.write_ping(data)",
                            "def on_pong(self, data):\n    \"\"\"Invoked when the response to a ping frame is received.\"\"\"\n    pass",
                            "def on_ping(self, data):\n    \"\"\"Invoked when the a ping frame is received.\"\"\"\n    pass",
                            "def on_close(self):\n    \"\"\"Invoked when the WebSocket is closed.\n\n    If the connection was closed cleanly and a status code or reason\n    phrase was supplied, these values will be available as the attributes\n    ``self.close_code`` and ``self.close_reason``.\n\n    .. versionchanged:: 4.0\n\n       Added ``close_code`` and ``close_reason`` attributes.\n    \"\"\"\n    pass",
                            "def close(self, code=None, reason=None):\n    \"\"\"Closes this Web Socket.\n\n    Once the close handshake is successful the socket will be closed.\n\n    ``code`` may be a numeric status code, taken from the values\n    defined in `RFC 6455 section 7.4.1\n    <https://tools.ietf.org/html/rfc6455#section-7.4.1>`_.\n    ``reason`` may be a textual message about why the connection is\n    closing.  These values are made available to the client, but are\n    not otherwise interpreted by the websocket protocol.\n\n    .. versionchanged:: 4.0\n\n       Added the ``code`` and ``reason`` arguments.\n    \"\"\"\n    if self.ws_connection:\n        self.ws_connection.close(code, reason)\n        self.ws_connection = None",
                            "def check_origin(self, origin):\n    \"\"\"Override to enable support for allowing alternate origins.\n\n    The ``origin`` argument is the value of the ``Origin`` HTTP\n    header, the url responsible for initiating this request.  This\n    method is not called for clients that do not send this header;\n    such requests are always allowed (because all browsers that\n    implement WebSockets support this header, and non-browser\n    clients do not have the same cross-site security concerns).\n\n    Should return True to accept the request or False to reject it.\n    By default, rejects all requests with an origin on a host other\n    than this one.\n\n    This is a security protection against cross site scripting attacks on\n    browsers, since WebSockets are allowed to bypass the usual same-origin\n    policies and don't use CORS headers.\n\n    .. warning::\n\n       This is an important security measure; don't disable it\n       without understanding the security implications. In\n       particular, if your authentication is cookie-based, you\n       must either restrict the origins allowed by\n       ``check_origin()`` or implement your own XSRF-like\n       protection for websocket connections. See `these\n       <https://www.christian-schneider.net/CrossSiteWebSocketHijacking.html>`_\n       `articles\n       <https://devcenter.heroku.com/articles/websocket-security>`_\n       for more.\n\n    To accept all cross-origin traffic (which was the default prior to\n    Tornado 4.0), simply override this method to always return true::\n\n        def check_origin(self, origin):\n            return True\n\n    To allow connections from any subdomain of your site, you might\n    do something like::\n\n        def check_origin(self, origin):\n            parsed_origin = urllib.parse.urlparse(origin)\n            return parsed_origin.netloc.endswith(\".mydomain.com\")\n\n    .. versionadded:: 4.0\n\n    \"\"\"\n    parsed_origin = urlparse(origin)\n    origin = parsed_origin.netloc\n    origin = origin.lower()\n    host = self.request.headers.get('Host')\n    return origin == host",
                            "def set_nodelay(self, value):\n    \"\"\"Set the no-delay flag for this stream.\n\n    By default, small messages may be delayed and/or combined to minimize\n    the number of packets sent.  This can sometimes cause 200-500ms delays\n    due to the interaction between Nagle's algorithm and TCP delayed\n    ACKs.  To reduce this delay (at the expense of possibly increasing\n    bandwidth usage), call ``self.set_nodelay(True)`` once the websocket\n    connection is established.\n\n    See `.BaseIOStream.set_nodelay` for additional details.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    self.stream.set_nodelay(value)",
                            "def on_connection_close(self):\n    if self.ws_connection:\n        self.ws_connection.on_connection_close()\n        self.ws_connection = None\n    if not self._on_close_called:\n        self._on_close_called = True\n        self.on_close()",
                            "def send_error(self, *args, **kwargs):\n    if self.stream is None:\n        super(WebSocketHandler, self).send_error(*args, **kwargs)\n    else:\n        self.stream.close()",
                            "def get_websocket_protocol(self):\n    websocket_version = self.request.headers.get('Sec-WebSocket-Version')\n    if websocket_version in ('7', '8', '13'):\n        return WebSocketProtocol13(self, compression_options=self.get_compression_options())",
                            "def _attach_stream(self):\n    self.stream = self.request.connection.detach()\n    self.stream.set_close_callback(self.on_connection_close)\n    for method in ['write', 'redirect', 'set_header', 'set_cookie', 'set_status', 'flush', 'finish']:\n        setattr(self, method, _raise_not_supported_for_websockets)"
                        ],
                        "constructor_variables": [
                            "stream",
                            "close_reason",
                            "close_code",
                            "ws_connection",
                            "_on_close_called"
                        ],
                        "class_level_variables": [
                            "stream"
                        ],
                        "class_decorators": [],
                        "function_signatures": [
                            "__init__(self, application, request, **kwargs)",
                            "get(self, *args, **kwargs)",
                            "ping_interval(self)",
                            "ping_timeout(self)",
                            "max_message_size(self)",
                            "write_message(self, message, binary=False)",
                            "select_subprotocol(self, subprotocols)",
                            "get_compression_options(self)",
                            "open(self, *args, **kwargs)",
                            "on_message(self, message)",
                            "ping(self, data)",
                            "on_pong(self, data)",
                            "on_ping(self, data)",
                            "on_close(self)",
                            "close(self, code=None, reason=None)",
                            "check_origin(self, origin)",
                            "set_nodelay(self, value)",
                            "on_connection_close(self)",
                            "send_error(self, *args, **kwargs)",
                            "get_websocket_protocol(self)",
                            "_attach_stream(self)"
                        ]
                    },
                    "variable_values": [
                        [
                            {
                                "self.ws_connection": {
                                    "variable_value": "<tornado.websocket.WebSocketProtocol13 object at 0x103d2f490>",
                                    "variable_type": "WebSocketProtocol13",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<tornado.test.websocket_test.RenderMessageHandler object at 0x103d174d0>",
                                    "variable_type": "RenderMessageHandler",
                                    "variable_shape": null
                                },
                                "self.ws_connection.on_connection_close": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self._on_close_called": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.on_close": {
                                    "variable_value": "<bound method TestWebSocketHandler.on_close of <tornado.test.websocket_test.RenderMessageHandler object at 0x103d174d0>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                }
                            },
                            {}
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "self.ws_connection": {
                                    "variable_value": "<tornado.websocket.WebSocketProtocol13 object at 0x11193a610>",
                                    "variable_type": "WebSocketProtocol13",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<tornado.test.websocket_test.RenderMessageHandler object at 0x111924750>",
                                    "variable_type": "RenderMessageHandler",
                                    "variable_shape": null
                                },
                                "self.ws_connection.on_connection_close": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self._on_close_called": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.on_close": {
                                    "variable_value": "<bound method TestWebSocketHandler.on_close of <tornado.test.websocket_test.RenderMessageHandler object at 0x111924750>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                },
                                "self._break_cycles": {
                                    "variable_value": "<bound method WebSocketHandler._break_cycles of <tornado.test.websocket_test.RenderMessageHandler object at 0x111924750>>",
                                    "variable_type": "method",
                                    "variable_shape": null
                                }
                            },
                            {}
                        ]
                    ]
                }
            ],
            "inscope_functions": [
                "def _raise_not_supported_for_websockets(*args, **kwargs):\n    raise RuntimeError(\"Method not supported for Web Sockets\")",
                "def websocket_connect(url, io_loop=None, callback=None, connect_timeout=None,\n                      on_message_callback=None, compression_options=None,\n                      ping_interval=None, ping_timeout=None,\n                      max_message_size=None):\n    \"\"\"Client-side websocket support.\n\n    Takes a url and returns a Future whose result is a\n    `WebSocketClientConnection`.\n\n    ``compression_options`` is interpreted in the same way as the\n    return value of `.WebSocketHandler.get_compression_options`.\n\n    The connection supports two styles of operation. In the coroutine\n    style, the application typically calls\n    `~.WebSocketClientConnection.read_message` in a loop::\n\n        conn = yield websocket_connect(url)\n        while True:\n            msg = yield conn.read_message()\n            if msg is None: break\n            # Do something with msg\n\n    In the callback style, pass an ``on_message_callback`` to\n    ``websocket_connect``. In both styles, a message of ``None``\n    indicates that the connection has been closed.\n\n    .. versionchanged:: 3.2\n       Also accepts ``HTTPRequest`` objects in place of urls.\n\n    .. versionchanged:: 4.1\n       Added ``compression_options`` and ``on_message_callback``.\n       The ``io_loop`` argument is deprecated.\n\n    .. versionchanged:: 4.5\n       Added the ``ping_interval``, ``ping_timeout``, and ``max_message_size``\n       arguments, which have the same meaning as in `WebSocketHandler`.\n    \"\"\"\n    if io_loop is None:\n        io_loop = IOLoop.current()\n    if isinstance(url, httpclient.HTTPRequest):\n        assert connect_timeout is None\n        request = url\n        # Copy and convert the headers dict/object (see comments in\n        # AsyncHTTPClient.fetch)\n        request.headers = httputil.HTTPHeaders(request.headers)\n    else:\n        request = httpclient.HTTPRequest(url, connect_timeout=connect_timeout)\n    request = httpclient._RequestProxy(\n        request, httpclient.HTTPRequest._DEFAULTS)\n    conn = WebSocketClientConnection(io_loop, request,\n                                     on_message_callback=on_message_callback,\n                                     compression_options=compression_options,\n                                     ping_interval=ping_interval,\n                                     ping_timeout=ping_timeout,\n                                     max_message_size=max_message_size)\n    if callback is not None:\n        io_loop.add_future(conn.connect_future, callback)\n    return conn.connect_future",
                "def __init__(self, application, request, **kwargs):\n    super(WebSocketHandler, self).__init__(application, request, **kwargs)\n    self.ws_connection = None\n    self.close_code = None\n    self.close_reason = None\n    self.stream = None\n    self._on_close_called = False",
                "@tornado.web.asynchronous\ndef get(self, *args, **kwargs):\n    self.open_args = args\n    self.open_kwargs = kwargs\n\n    # Upgrade header should be present and should be equal to WebSocket\n    if self.request.headers.get(\"Upgrade\", \"\").lower() != 'websocket':\n        self.set_status(400)\n        log_msg = \"Can \\\"Upgrade\\\" only to \\\"WebSocket\\\".\"\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n\n    # Connection header should be upgrade.\n    # Some proxy servers/load balancers\n    # might mess with it.\n    headers = self.request.headers\n    connection = map(lambda s: s.strip().lower(),\n                     headers.get(\"Connection\", \"\").split(\",\"))\n    if 'upgrade' not in connection:\n        self.set_status(400)\n        log_msg = \"\\\"Connection\\\" must be \\\"Upgrade\\\".\"\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n\n    # Handle WebSocket Origin naming convention differences\n    # The difference between version 8 and 13 is that in 8 the\n    # client sends a \"Sec-Websocket-Origin\" header and in 13 it's\n    # simply \"Origin\".\n    if \"Origin\" in self.request.headers:\n        origin = self.request.headers.get(\"Origin\")\n    else:\n        origin = self.request.headers.get(\"Sec-Websocket-Origin\", None)\n\n    # If there was an origin header, check to make sure it matches\n    # according to check_origin. When the origin is None, we assume it\n    # did not come from a browser and that it can be passed on.\n    if origin is not None and not self.check_origin(origin):\n        self.set_status(403)\n        log_msg = \"Cross origin websockets not allowed\"\n        self.finish(log_msg)\n        gen_log.debug(log_msg)\n        return\n\n    self.ws_connection = self.get_websocket_protocol()\n    if self.ws_connection:\n        self.ws_connection.accept_connection()\n    else:\n        self.set_status(426, \"Upgrade Required\")\n        self.set_header(\"Sec-WebSocket-Version\", \"7, 8, 13\")\n        self.finish()",
                "@property\ndef ping_interval(self):\n    \"\"\"The interval for websocket keep-alive pings.\n\n    Set websocket_ping_interval = 0 to disable pings.\n    \"\"\"\n    return self.settings.get('websocket_ping_interval', None)",
                "@property\ndef ping_timeout(self):\n    \"\"\"If no ping is received in this many seconds,\n    close the websocket connection (VPNs, etc. can fail to cleanly close ws connections).\n    Default is max of 3 pings or 30 seconds.\n    \"\"\"\n    return self.settings.get('websocket_ping_timeout', None)",
                "@property\ndef max_message_size(self):\n    \"\"\"Maximum allowed message size.\n\n    If the remote peer sends a message larger than this, the connection\n    will be closed.\n\n    Default is 10MiB.\n    \"\"\"\n    return self.settings.get('websocket_max_message_size', None)",
                "def write_message(self, message, binary=False):\n    \"\"\"Sends the given message to the client of this Web Socket.\n\n    The message may be either a string or a dict (which will be\n    encoded as json).  If the ``binary`` argument is false, the\n    message will be sent as utf8; in binary mode any byte string\n    is allowed.\n\n    If the connection is already closed, raises `WebSocketClosedError`.\n\n    .. versionchanged:: 3.2\n       `WebSocketClosedError` was added (previously a closed connection\n       would raise an `AttributeError`)\n\n    .. versionchanged:: 4.3\n       Returns a `.Future` which can be used for flow control.\n    \"\"\"\n    if self.ws_connection is None:\n        raise WebSocketClosedError()\n    if isinstance(message, dict):\n        message = tornado.escape.json_encode(message)\n    return self.ws_connection.write_message(message, binary=binary)",
                "def select_subprotocol(self, subprotocols):\n    \"\"\"Invoked when a new WebSocket requests specific subprotocols.\n\n    ``subprotocols`` is a list of strings identifying the\n    subprotocols proposed by the client.  This method may be\n    overridden to return one of those strings to select it, or\n    ``None`` to not select a subprotocol.  Failure to select a\n    subprotocol does not automatically abort the connection,\n    although clients may close the connection if none of their\n    proposed subprotocols was selected.\n    \"\"\"\n    return None",
                "def get_compression_options(self):\n    \"\"\"Override to return compression options for the connection.\n\n    If this method returns None (the default), compression will\n    be disabled.  If it returns a dict (even an empty one), it\n    will be enabled.  The contents of the dict may be used to\n    control the following compression options:\n\n    ``compression_level`` specifies the compression level.\n\n    ``mem_level`` specifies the amount of memory used for the internal compression state.\n\n     These parameters are documented in details here:\n     https://docs.python.org/3.6/library/zlib.html#zlib.compressobj\n\n    .. versionadded:: 4.1\n\n    .. versionchanged:: 4.5\n\n       Added ``compression_level`` and ``mem_level``.\n    \"\"\"\n    # TODO: Add wbits option.\n    return None",
                "def open(self, *args, **kwargs):\n    \"\"\"Invoked when a new WebSocket is opened.\n\n    The arguments to `open` are extracted from the `tornado.web.URLSpec`\n    regular expression, just like the arguments to\n    `tornado.web.RequestHandler.get`.\n    \"\"\"\n    pass",
                "def on_message(self, message):\n    \"\"\"Handle incoming messages on the WebSocket\n\n    This method must be overridden.\n\n    .. versionchanged:: 4.5\n\n       ``on_message`` can be a coroutine.\n    \"\"\"\n    raise NotImplementedError",
                "def ping(self, data):\n    \"\"\"Send ping frame to the remote end.\"\"\"\n    if self.ws_connection is None:\n        raise WebSocketClosedError()\n    self.ws_connection.write_ping(data)",
                "def on_pong(self, data):\n    \"\"\"Invoked when the response to a ping frame is received.\"\"\"\n    pass",
                "def on_ping(self, data):\n    \"\"\"Invoked when the a ping frame is received.\"\"\"\n    pass",
                "def on_close(self):\n    \"\"\"Invoked when the WebSocket is closed.\n\n    If the connection was closed cleanly and a status code or reason\n    phrase was supplied, these values will be available as the attributes\n    ``self.close_code`` and ``self.close_reason``.\n\n    .. versionchanged:: 4.0\n\n       Added ``close_code`` and ``close_reason`` attributes.\n    \"\"\"\n    pass",
                "def close(self, code=None, reason=None):\n    \"\"\"Closes this Web Socket.\n\n    Once the close handshake is successful the socket will be closed.\n\n    ``code`` may be a numeric status code, taken from the values\n    defined in `RFC 6455 section 7.4.1\n    <https://tools.ietf.org/html/rfc6455#section-7.4.1>`_.\n    ``reason`` may be a textual message about why the connection is\n    closing.  These values are made available to the client, but are\n    not otherwise interpreted by the websocket protocol.\n\n    .. versionchanged:: 4.0\n\n       Added the ``code`` and ``reason`` arguments.\n    \"\"\"\n    if self.ws_connection:\n        self.ws_connection.close(code, reason)\n        self.ws_connection = None",
                "def check_origin(self, origin):\n    \"\"\"Override to enable support for allowing alternate origins.\n\n    The ``origin`` argument is the value of the ``Origin`` HTTP\n    header, the url responsible for initiating this request.  This\n    method is not called for clients that do not send this header;\n    such requests are always allowed (because all browsers that\n    implement WebSockets support this header, and non-browser\n    clients do not have the same cross-site security concerns).\n\n    Should return True to accept the request or False to reject it.\n    By default, rejects all requests with an origin on a host other\n    than this one.\n\n    This is a security protection against cross site scripting attacks on\n    browsers, since WebSockets are allowed to bypass the usual same-origin\n    policies and don't use CORS headers.\n\n    .. warning::\n\n       This is an important security measure; don't disable it\n       without understanding the security implications. In\n       particular, if your authentication is cookie-based, you\n       must either restrict the origins allowed by\n       ``check_origin()`` or implement your own XSRF-like\n       protection for websocket connections. See `these\n       <https://www.christian-schneider.net/CrossSiteWebSocketHijacking.html>`_\n       `articles\n       <https://devcenter.heroku.com/articles/websocket-security>`_\n       for more.\n\n    To accept all cross-origin traffic (which was the default prior to\n    Tornado 4.0), simply override this method to always return true::\n\n        def check_origin(self, origin):\n            return True\n\n    To allow connections from any subdomain of your site, you might\n    do something like::\n\n        def check_origin(self, origin):\n            parsed_origin = urllib.parse.urlparse(origin)\n            return parsed_origin.netloc.endswith(\".mydomain.com\")\n\n    .. versionadded:: 4.0\n\n    \"\"\"\n    parsed_origin = urlparse(origin)\n    origin = parsed_origin.netloc\n    origin = origin.lower()\n\n    host = self.request.headers.get(\"Host\")\n\n    # Check to see that origin matches host directly, including ports\n    return origin == host",
                "def set_nodelay(self, value):\n    \"\"\"Set the no-delay flag for this stream.\n\n    By default, small messages may be delayed and/or combined to minimize\n    the number of packets sent.  This can sometimes cause 200-500ms delays\n    due to the interaction between Nagle's algorithm and TCP delayed\n    ACKs.  To reduce this delay (at the expense of possibly increasing\n    bandwidth usage), call ``self.set_nodelay(True)`` once the websocket\n    connection is established.\n\n    See `.BaseIOStream.set_nodelay` for additional details.\n\n    .. versionadded:: 3.1\n    \"\"\"\n    self.stream.set_nodelay(value)",
                "def on_connection_close(self):\n    if self.ws_connection:\n        self.ws_connection.on_connection_close()\n        self.ws_connection = None\n    if not self._on_close_called:\n        self._on_close_called = True\n        self.on_close()",
                "def send_error(self, *args, **kwargs):\n    if self.stream is None:\n        super(WebSocketHandler, self).send_error(*args, **kwargs)\n    else:\n        # If we get an uncaught exception during the handshake,\n        # we have no choice but to abruptly close the connection.\n        # TODO: for uncaught exceptions after the handshake,\n        # we can close the connection more gracefully.\n        self.stream.close()",
                "def get_websocket_protocol(self):\n    websocket_version = self.request.headers.get(\"Sec-WebSocket-Version\")\n    if websocket_version in (\"7\", \"8\", \"13\"):\n        return WebSocketProtocol13(\n            self, compression_options=self.get_compression_options())",
                "def _attach_stream(self):\n    self.stream = self.request.connection.detach()\n    self.stream.set_close_callback(self.on_connection_close)\n    # disable non-WS methods\n    for method in [\"write\", \"redirect\", \"set_header\", \"set_cookie\",\n                   \"set_status\", \"flush\", \"finish\"]:\n        setattr(self, method, _raise_not_supported_for_websockets)",
                "def __init__(self, handler):\n    self.handler = handler\n    self.request = handler.request\n    self.stream = handler.stream\n    self.client_terminated = False\n    self.server_terminated = False",
                "def _run_callback(self, callback, *args, **kwargs):\n    \"\"\"Runs the given callback with exception handling.\n\n    If the callback is a coroutine, returns its Future. On error, aborts the\n    websocket connection and returns None.\n    \"\"\"\n    try:\n        result = callback(*args, **kwargs)\n    except Exception:\n        app_log.error(\"Uncaught exception in %s\",\n                      getattr(self.request, 'path', None), exc_info=True)\n        self._abort()\n    else:\n        if result is not None:\n            result = gen.convert_yielded(result)\n            self.stream.io_loop.add_future(result, lambda f: f.result())\n        return result",
                "def on_connection_close(self):\n    self._abort()",
                "def _abort(self):\n    \"\"\"Instantly aborts the WebSocket connection by closing the socket\"\"\"\n    self.client_terminated = True\n    self.server_terminated = True\n    self.stream.close()  # forcibly tear down the connection\n    self.close()  # let the subclass cleanup",
                "def __init__(self, persistent, max_wbits, compression_options=None):\n    if max_wbits is None:\n        max_wbits = zlib.MAX_WBITS\n    # There is no symbolic constant for the minimum wbits value.\n    if not (8 <= max_wbits <= zlib.MAX_WBITS):\n        raise ValueError(\"Invalid max_wbits value %r; allowed range 8-%d\",\n                         max_wbits, zlib.MAX_WBITS)\n    self._max_wbits = max_wbits\n\n    if compression_options is None or 'compression_level' not in compression_options:\n        self._compression_level = tornado.web.GZipContentEncoding.GZIP_LEVEL\n    else:\n        self._compression_level = compression_options['compression_level']\n\n    if compression_options is None or 'mem_level' not in compression_options:\n        self._mem_level = 8\n    else:\n        self._mem_level = compression_options['mem_level']\n\n    if persistent:\n        self._compressor = self._create_compressor()\n    else:\n        self._compressor = None",
                "def _create_compressor(self):\n    return zlib.compressobj(self._compression_level, zlib.DEFLATED, -self._max_wbits, self._mem_level)",
                "def compress(self, data):\n    compressor = self._compressor or self._create_compressor()\n    data = (compressor.compress(data) +\n            compressor.flush(zlib.Z_SYNC_FLUSH))\n    assert data.endswith(b'\\x00\\x00\\xff\\xff')\n    return data[:-4]",
                "def __init__(self, persistent, max_wbits, compression_options=None):\n    if max_wbits is None:\n        max_wbits = zlib.MAX_WBITS\n    if not (8 <= max_wbits <= zlib.MAX_WBITS):\n        raise ValueError(\"Invalid max_wbits value %r; allowed range 8-%d\",\n                         max_wbits, zlib.MAX_WBITS)\n    self._max_wbits = max_wbits\n    if persistent:\n        self._decompressor = self._create_decompressor()\n    else:\n        self._decompressor = None",
                "def _create_decompressor(self):\n    return zlib.decompressobj(-self._max_wbits)",
                "def decompress(self, data):\n    decompressor = self._decompressor or self._create_decompressor()\n    return decompressor.decompress(data + b'\\x00\\x00\\xff\\xff')",
                "def __init__(self, handler, mask_outgoing=False,\n             compression_options=None):\n    WebSocketProtocol.__init__(self, handler)\n    self.mask_outgoing = mask_outgoing\n    self._final_frame = False\n    self._frame_opcode = None\n    self._masked_frame = None\n    self._frame_mask = None\n    self._frame_length = None\n    self._fragmented_message_buffer = None\n    self._fragmented_message_opcode = None\n    self._waiting = None\n    self._compression_options = compression_options\n    self._decompressor = None\n    self._compressor = None\n    self._frame_compressed = None\n    # The total uncompressed size of all messages received or sent.\n    # Unicode messages are encoded to utf8.\n    # Only for testing; subject to change.\n    self._message_bytes_in = 0\n    self._message_bytes_out = 0\n    # The total size of all packets received or sent.  Includes\n    # the effect of compression, frame overhead, and control frames.\n    self._wire_bytes_in = 0\n    self._wire_bytes_out = 0\n    self.ping_callback = None\n    self.last_ping = 0\n    self.last_pong = 0",
                "def accept_connection(self):\n    try:\n        self._handle_websocket_headers()\n        self._accept_connection()\n    except ValueError:\n        gen_log.debug(\"Malformed WebSocket request received\",\n                      exc_info=True)\n        self._abort()\n        return",
                "def _handle_websocket_headers(self):\n    \"\"\"Verifies all invariant- and required headers\n\n    If a header is missing or have an incorrect value ValueError will be\n    raised\n    \"\"\"\n    fields = (\"Host\", \"Sec-Websocket-Key\", \"Sec-Websocket-Version\")\n    if not all(map(lambda f: self.request.headers.get(f), fields)):\n        raise ValueError(\"Missing/Invalid WebSocket headers\")",
                "@staticmethod\ndef compute_accept_value(key):\n    \"\"\"Computes the value for the Sec-WebSocket-Accept header,\n    given the value for Sec-WebSocket-Key.\n    \"\"\"\n    sha1 = hashlib.sha1()\n    sha1.update(utf8(key))\n    sha1.update(b\"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\")  # Magic value\n    return native_str(base64.b64encode(sha1.digest()))",
                "def _challenge_response(self):\n    return WebSocketProtocol13.compute_accept_value(\n        self.request.headers.get(\"Sec-Websocket-Key\"))",
                "def _accept_connection(self):\n    subprotocols = self.request.headers.get(\"Sec-WebSocket-Protocol\", '')\n    subprotocols = [s.strip() for s in subprotocols.split(',')]\n    if subprotocols:\n        selected = self.handler.select_subprotocol(subprotocols)\n        if selected:\n            assert selected in subprotocols\n            self.handler.set_header(\"Sec-WebSocket-Protocol\", selected)\n\n    extensions = self._parse_extensions_header(self.request.headers)\n    for ext in extensions:\n        if (ext[0] == 'permessage-deflate' and\n                self._compression_options is not None):\n            # TODO: negotiate parameters if compression_options\n            # specifies limits.\n            self._create_compressors('server', ext[1], self._compression_options)\n            if ('client_max_window_bits' in ext[1] and\n                    ext[1]['client_max_window_bits'] is None):\n                # Don't echo an offered client_max_window_bits\n                # parameter with no value.\n                del ext[1]['client_max_window_bits']\n            self.handler.set_header(\"Sec-WebSocket-Extensions\",\n                                    httputil._encode_header(\n                                        'permessage-deflate', ext[1]))\n            break\n\n    self.handler.clear_header(\"Content-Type\")\n    self.handler.set_status(101)\n    self.handler.set_header(\"Upgrade\", \"websocket\")\n    self.handler.set_header(\"Connection\", \"Upgrade\")\n    self.handler.set_header(\"Sec-WebSocket-Accept\", self._challenge_response())\n    self.handler.finish()\n\n    self.handler._attach_stream()\n    self.stream = self.handler.stream\n\n    self.start_pinging()\n    self._run_callback(self.handler.open, *self.handler.open_args,\n                       **self.handler.open_kwargs)\n    self._receive_frame()",
                "def _parse_extensions_header(self, headers):\n    extensions = headers.get(\"Sec-WebSocket-Extensions\", '')\n    if extensions:\n        return [httputil._parse_header(e.strip())\n                for e in extensions.split(',')]\n    return []",
                "def _process_server_headers(self, key, headers):\n    \"\"\"Process the headers sent by the server to this client connection.\n\n    'key' is the websocket handshake challenge/response key.\n    \"\"\"\n    assert headers['Upgrade'].lower() == 'websocket'\n    assert headers['Connection'].lower() == 'upgrade'\n    accept = self.compute_accept_value(key)\n    assert headers['Sec-Websocket-Accept'] == accept\n\n    extensions = self._parse_extensions_header(headers)\n    for ext in extensions:\n        if (ext[0] == 'permessage-deflate' and\n                self._compression_options is not None):\n            self._create_compressors('client', ext[1])\n        else:\n            raise ValueError(\"unsupported extension %r\", ext)",
                "def _get_compressor_options(self, side, agreed_parameters, compression_options=None):\n    \"\"\"Converts a websocket agreed_parameters set to keyword arguments\n    for our compressor objects.\n    \"\"\"\n    options = dict(\n        persistent=(side + '_no_context_takeover') not in agreed_parameters)\n    wbits_header = agreed_parameters.get(side + '_max_window_bits', None)\n    if wbits_header is None:\n        options['max_wbits'] = zlib.MAX_WBITS\n    else:\n        options['max_wbits'] = int(wbits_header)\n    options['compression_options'] = compression_options\n    return options",
                "def _create_compressors(self, side, agreed_parameters, compression_options=None):\n    # TODO: handle invalid parameters gracefully\n    allowed_keys = set(['server_no_context_takeover',\n                        'client_no_context_takeover',\n                        'server_max_window_bits',\n                        'client_max_window_bits'])\n    for key in agreed_parameters:\n        if key not in allowed_keys:\n            raise ValueError(\"unsupported compression parameter %r\" % key)\n    other_side = 'client' if (side == 'server') else 'server'\n    self._compressor = _PerMessageDeflateCompressor(\n        **self._get_compressor_options(side, agreed_parameters, compression_options))\n    self._decompressor = _PerMessageDeflateDecompressor(\n        **self._get_compressor_options(other_side, agreed_parameters, compression_options))",
                "def _write_frame(self, fin, opcode, data, flags=0):\n    if fin:\n        finbit = self.FIN\n    else:\n        finbit = 0\n    frame = struct.pack(\"B\", finbit | opcode | flags)\n    l = len(data)\n    if self.mask_outgoing:\n        mask_bit = 0x80\n    else:\n        mask_bit = 0\n    if l < 126:\n        frame += struct.pack(\"B\", l | mask_bit)\n    elif l <= 0xFFFF:\n        frame += struct.pack(\"!BH\", 126 | mask_bit, l)\n    else:\n        frame += struct.pack(\"!BQ\", 127 | mask_bit, l)\n    if self.mask_outgoing:\n        mask = os.urandom(4)\n        data = mask + _websocket_mask(mask, data)\n    frame += data\n    self._wire_bytes_out += len(frame)\n    try:\n        return self.stream.write(frame)\n    except StreamClosedError:\n        self._abort()",
                "def write_message(self, message, binary=False):\n    \"\"\"Sends the given message to the client of this Web Socket.\"\"\"\n    if binary:\n        opcode = 0x2\n    else:\n        opcode = 0x1\n    message = tornado.escape.utf8(message)\n    assert isinstance(message, bytes)\n    self._message_bytes_out += len(message)\n    flags = 0\n    if self._compressor:\n        message = self._compressor.compress(message)\n        flags |= self.RSV1\n    return self._write_frame(True, opcode, message, flags=flags)",
                "def write_ping(self, data):\n    \"\"\"Send ping frame.\"\"\"\n    assert isinstance(data, bytes)\n    self._write_frame(True, 0x9, data)",
                "def _receive_frame(self):\n    try:\n        self.stream.read_bytes(2, self._on_frame_start)\n    except StreamClosedError:\n        self._abort()",
                "def _on_frame_start(self, data):\n    self._wire_bytes_in += len(data)\n    header, payloadlen = struct.unpack(\"BB\", data)\n    self._final_frame = header & self.FIN\n    reserved_bits = header & self.RSV_MASK\n    self._frame_opcode = header & self.OPCODE_MASK\n    self._frame_opcode_is_control = self._frame_opcode & 0x8\n    if self._decompressor is not None and self._frame_opcode != 0:\n        self._frame_compressed = bool(reserved_bits & self.RSV1)\n        reserved_bits &= ~self.RSV1\n    if reserved_bits:\n        # client is using as-yet-undefined extensions; abort\n        self._abort()\n        return\n    self._masked_frame = bool(payloadlen & 0x80)\n    payloadlen = payloadlen & 0x7f\n    if self._frame_opcode_is_control and payloadlen >= 126:\n        # control frames must have payload < 126\n        self._abort()\n        return\n    try:\n        if payloadlen < 126:\n            self._frame_length = payloadlen\n            if self._masked_frame:\n                self.stream.read_bytes(4, self._on_masking_key)\n            else:\n                self._read_frame_data(False)\n        elif payloadlen == 126:\n            self.stream.read_bytes(2, self._on_frame_length_16)\n        elif payloadlen == 127:\n            self.stream.read_bytes(8, self._on_frame_length_64)\n    except StreamClosedError:\n        self._abort()",
                "def _read_frame_data(self, masked):\n    new_len = self._frame_length\n    if self._fragmented_message_buffer is not None:\n        new_len += len(self._fragmented_message_buffer)\n    if new_len > (self.handler.max_message_size or 10 * 1024 * 1024):\n        self.close(1009, \"message too big\")\n        return\n    self.stream.read_bytes(\n        self._frame_length,\n        self._on_masked_frame_data if masked else self._on_frame_data)",
                "def _on_frame_length_16(self, data):\n    self._wire_bytes_in += len(data)\n    self._frame_length = struct.unpack(\"!H\", data)[0]\n    try:\n        if self._masked_frame:\n            self.stream.read_bytes(4, self._on_masking_key)\n        else:\n            self._read_frame_data(False)\n    except StreamClosedError:\n        self._abort()",
                "def _on_frame_length_64(self, data):\n    self._wire_bytes_in += len(data)\n    self._frame_length = struct.unpack(\"!Q\", data)[0]\n    try:\n        if self._masked_frame:\n            self.stream.read_bytes(4, self._on_masking_key)\n        else:\n            self._read_frame_data(False)\n    except StreamClosedError:\n        self._abort()",
                "def _on_masking_key(self, data):\n    self._wire_bytes_in += len(data)\n    self._frame_mask = data\n    try:\n        self._read_frame_data(True)\n    except StreamClosedError:\n        self._abort()",
                "def _on_masked_frame_data(self, data):\n    # Don't touch _wire_bytes_in; we'll do it in _on_frame_data.\n    self._on_frame_data(_websocket_mask(self._frame_mask, data))",
                "def _on_frame_data(self, data):\n    handled_future = None\n\n    self._wire_bytes_in += len(data)\n    if self._frame_opcode_is_control:\n        # control frames may be interleaved with a series of fragmented\n        # data frames, so control frames must not interact with\n        # self._fragmented_*\n        if not self._final_frame:\n            # control frames must not be fragmented\n            self._abort()\n            return\n        opcode = self._frame_opcode\n    elif self._frame_opcode == 0:  # continuation frame\n        if self._fragmented_message_buffer is None:\n            # nothing to continue\n            self._abort()\n            return\n        self._fragmented_message_buffer += data\n        if self._final_frame:\n            opcode = self._fragmented_message_opcode\n            data = self._fragmented_message_buffer\n            self._fragmented_message_buffer = None\n    else:  # start of new data message\n        if self._fragmented_message_buffer is not None:\n            # can't start new message until the old one is finished\n            self._abort()\n            return\n        if self._final_frame:\n            opcode = self._frame_opcode\n        else:\n            self._fragmented_message_opcode = self._frame_opcode\n            self._fragmented_message_buffer = data\n\n    if self._final_frame:\n        handled_future = self._handle_message(opcode, data)\n\n    if not self.client_terminated:\n        if handled_future:\n            # on_message is a coroutine, process more frames once it's done.\n            handled_future.add_done_callback(\n                lambda future: self._receive_frame())\n        else:\n            self._receive_frame()",
                "def _handle_message(self, opcode, data):\n    \"\"\"Execute on_message, returning its Future if it is a coroutine.\"\"\"\n    if self.client_terminated:\n        return\n\n    if self._frame_compressed:\n        data = self._decompressor.decompress(data)\n\n    if opcode == 0x1:\n        # UTF-8 data\n        self._message_bytes_in += len(data)\n        try:\n            decoded = data.decode(\"utf-8\")\n        except UnicodeDecodeError:\n            self._abort()\n            return\n        return self._run_callback(self.handler.on_message, decoded)\n    elif opcode == 0x2:\n        # Binary data\n        self._message_bytes_in += len(data)\n        return self._run_callback(self.handler.on_message, data)\n    elif opcode == 0x8:\n        # Close\n        self.client_terminated = True\n        if len(data) >= 2:\n            self.handler.close_code = struct.unpack('>H', data[:2])[0]\n        if len(data) > 2:\n            self.handler.close_reason = to_unicode(data[2:])\n        # Echo the received close code, if any (RFC 6455 section 5.5.1).\n        self.close(self.handler.close_code)\n    elif opcode == 0x9:\n        # Ping\n        self._write_frame(True, 0xA, data)\n        self._run_callback(self.handler.on_ping, data)\n    elif opcode == 0xA:\n        # Pong\n        self.last_pong = IOLoop.current().time()\n        return self._run_callback(self.handler.on_pong, data)\n    else:\n        self._abort()",
                "def close(self, code=None, reason=None):\n    \"\"\"Closes the WebSocket connection.\"\"\"\n    if not self.server_terminated:\n        if not self.stream.closed():\n            if code is None and reason is not None:\n                code = 1000  # \"normal closure\" status code\n            if code is None:\n                close_data = b''\n            else:\n                close_data = struct.pack('>H', code)\n            if reason is not None:\n                close_data += utf8(reason)\n            self._write_frame(True, 0x8, close_data)\n        self.server_terminated = True\n    if self.client_terminated:\n        if self._waiting is not None:\n            self.stream.io_loop.remove_timeout(self._waiting)\n            self._waiting = None\n        self.stream.close()\n    elif self._waiting is None:\n        # Give the client a few seconds to complete a clean shutdown,\n        # otherwise just close the connection.\n        self._waiting = self.stream.io_loop.add_timeout(\n            self.stream.io_loop.time() + 5, self._abort)",
                "@property\ndef ping_interval(self):\n    interval = self.handler.ping_interval\n    if interval is not None:\n        return interval\n    return 0",
                "@property\ndef ping_timeout(self):\n    timeout = self.handler.ping_timeout\n    if timeout is not None:\n        return timeout\n    return max(3 * self.ping_interval, 30)",
                "def start_pinging(self):\n    \"\"\"Start sending periodic pings to keep the connection alive\"\"\"\n    if self.ping_interval > 0:\n        self.last_ping = self.last_pong = IOLoop.current().time()\n        self.ping_callback = PeriodicCallback(\n            self.periodic_ping, self.ping_interval * 1000)\n        self.ping_callback.start()",
                "def periodic_ping(self):\n    \"\"\"Send a ping to keep the websocket alive\n\n    Called periodically if the websocket_ping_interval is set and non-zero.\n    \"\"\"\n    if self.stream.closed() and self.ping_callback is not None:\n        self.ping_callback.stop()\n        return\n\n    # Check for timeout on pong. Make sure that we really have\n    # sent a recent ping in case the machine with both server and\n    # client has been suspended since the last ping.\n    now = IOLoop.current().time()\n    since_last_pong = now - self.last_pong\n    since_last_ping = now - self.last_ping\n    if (since_last_ping < 2 * self.ping_interval and\n            since_last_pong > self.ping_timeout):\n        self.close()\n        return\n\n    self.write_ping(b'')\n    self.last_ping = now",
                "def __init__(self, io_loop, request, on_message_callback=None,\n             compression_options=None, ping_interval=None, ping_timeout=None,\n             max_message_size=None):\n    self.compression_options = compression_options\n    self.connect_future = TracebackFuture()\n    self.protocol = None\n    self.read_future = None\n    self.read_queue = collections.deque()\n    self.key = base64.b64encode(os.urandom(16))\n    self._on_message_callback = on_message_callback\n    self.close_code = self.close_reason = None\n    self.ping_interval = ping_interval\n    self.ping_timeout = ping_timeout\n    self.max_message_size = max_message_size\n\n    scheme, sep, rest = request.url.partition(':')\n    scheme = {'ws': 'http', 'wss': 'https'}[scheme]\n    request.url = scheme + sep + rest\n    request.headers.update({\n        'Upgrade': 'websocket',\n        'Connection': 'Upgrade',\n        'Sec-WebSocket-Key': self.key,\n        'Sec-WebSocket-Version': '13',\n    })\n    if self.compression_options is not None:\n        # Always offer to let the server set our max_wbits (and even though\n        # we don't offer it, we will accept a client_no_context_takeover\n        # from the server).\n        # TODO: set server parameters for deflate extension\n        # if requested in self.compression_options.\n        request.headers['Sec-WebSocket-Extensions'] = (\n            'permessage-deflate; client_max_window_bits')\n\n    self.tcp_client = TCPClient(io_loop=io_loop)\n    super(WebSocketClientConnection, self).__init__(\n        io_loop, None, request, lambda: None, self._on_http_response,\n        104857600, self.tcp_client, 65536, 104857600)",
                "def close(self, code=None, reason=None):\n    \"\"\"Closes the websocket connection.\n\n    ``code`` and ``reason`` are documented under\n    `WebSocketHandler.close`.\n\n    .. versionadded:: 3.2\n\n    .. versionchanged:: 4.0\n\n       Added the ``code`` and ``reason`` arguments.\n    \"\"\"\n    if self.protocol is not None:\n        self.protocol.close(code, reason)\n        self.protocol = None",
                "def on_connection_close(self):\n    if not self.connect_future.done():\n        self.connect_future.set_exception(StreamClosedError())\n    self.on_message(None)\n    self.tcp_client.close()\n    super(WebSocketClientConnection, self).on_connection_close()",
                "def _on_http_response(self, response):\n    if not self.connect_future.done():\n        if response.error:\n            self.connect_future.set_exception(response.error)\n        else:\n            self.connect_future.set_exception(WebSocketError(\n                \"Non-websocket response\"))",
                "def headers_received(self, start_line, headers):\n    if start_line.code != 101:\n        return super(WebSocketClientConnection, self).headers_received(\n            start_line, headers)\n\n    self.headers = headers\n    self.protocol = self.get_websocket_protocol()\n    self.protocol._process_server_headers(self.key, self.headers)\n    self.protocol.start_pinging()\n    self.protocol._receive_frame()\n\n    if self._timeout is not None:\n        self.io_loop.remove_timeout(self._timeout)\n        self._timeout = None\n\n    self.stream = self.connection.detach()\n    self.stream.set_close_callback(self.on_connection_close)\n    # Once we've taken over the connection, clear the final callback\n    # we set on the http request.  This deactivates the error handling\n    # in simple_httpclient that would otherwise interfere with our\n    # ability to see exceptions.\n    self.final_callback = None\n\n    self.connect_future.set_result(self)",
                "def write_message(self, message, binary=False):\n    \"\"\"Sends a message to the WebSocket server.\"\"\"\n    return self.protocol.write_message(message, binary)",
                "def read_message(self, callback=None):\n    \"\"\"Reads a message from the WebSocket server.\n\n    If on_message_callback was specified at WebSocket\n    initialization, this function will never return messages\n\n    Returns a future whose result is the message, or None\n    if the connection is closed.  If a callback argument\n    is given it will be called with the future when it is\n    ready.\n    \"\"\"\n    assert self.read_future is None\n    future = TracebackFuture()\n    if self.read_queue:\n        future.set_result(self.read_queue.popleft())\n    else:\n        self.read_future = future\n    if callback is not None:\n        self.io_loop.add_future(future, callback)\n    return future",
                "def on_message(self, message):\n    if self._on_message_callback:\n        self._on_message_callback(message)\n    elif self.read_future is not None:\n        self.read_future.set_result(message)\n        self.read_future = None\n    else:\n        self.read_queue.append(message)",
                "def on_pong(self, data):\n    pass",
                "def on_ping(self, data):\n    pass",
                "def get_websocket_protocol(self):\n    return WebSocketProtocol13(self, mask_outgoing=True,\n                               compression_options=self.compression_options)"
            ],
            "inscope_function_signatures": [
                "_raise_not_supported_for_websockets(*args, **kwargs)",
                "websocket_connect(url, io_loop=None, callback=None, connect_timeout=None, on_message_callback=None, compression_options=None, ping_interval=None, ping_timeout=None, max_message_size=None)",
                "__init__(self, application, request, **kwargs)",
                "get(self, *args, **kwargs)",
                "ping_interval(self)",
                "ping_timeout(self)",
                "max_message_size(self)",
                "write_message(self, message, binary=False)",
                "select_subprotocol(self, subprotocols)",
                "get_compression_options(self)",
                "open(self, *args, **kwargs)",
                "on_message(self, message)",
                "ping(self, data)",
                "on_pong(self, data)",
                "on_ping(self, data)",
                "on_close(self)",
                "close(self, code=None, reason=None)",
                "check_origin(self, origin)",
                "set_nodelay(self, value)",
                "on_connection_close(self)",
                "send_error(self, *args, **kwargs)",
                "get_websocket_protocol(self)",
                "_attach_stream(self)",
                "__init__(self, handler)",
                "_run_callback(self, callback, *args, **kwargs)",
                "on_connection_close(self)",
                "_abort(self)",
                "__init__(self, persistent, max_wbits, compression_options=None)",
                "_create_compressor(self)",
                "compress(self, data)",
                "__init__(self, persistent, max_wbits, compression_options=None)",
                "_create_decompressor(self)",
                "decompress(self, data)",
                "__init__(self, handler, mask_outgoing=False, compression_options=None)",
                "accept_connection(self)",
                "_handle_websocket_headers(self)",
                "compute_accept_value(key)",
                "_challenge_response(self)",
                "_accept_connection(self)",
                "_parse_extensions_header(self, headers)",
                "_process_server_headers(self, key, headers)",
                "_get_compressor_options(self, side, agreed_parameters, compression_options=None)",
                "_create_compressors(self, side, agreed_parameters, compression_options=None)",
                "_write_frame(self, fin, opcode, data, flags=0)",
                "write_message(self, message, binary=False)",
                "write_ping(self, data)",
                "_receive_frame(self)",
                "_on_frame_start(self, data)",
                "_read_frame_data(self, masked)",
                "_on_frame_length_16(self, data)",
                "_on_frame_length_64(self, data)",
                "_on_masking_key(self, data)",
                "_on_masked_frame_data(self, data)",
                "_on_frame_data(self, data)",
                "_handle_message(self, opcode, data)",
                "close(self, code=None, reason=None)",
                "ping_interval(self)",
                "ping_timeout(self)",
                "start_pinging(self)",
                "periodic_ping(self)",
                "__init__(self, io_loop, request, on_message_callback=None, compression_options=None, ping_interval=None, ping_timeout=None, max_message_size=None)",
                "close(self, code=None, reason=None)",
                "on_connection_close(self)",
                "_on_http_response(self, response)",
                "headers_received(self, start_line, headers)",
                "write_message(self, message, binary=False)",
                "read_message(self, callback=None)",
                "on_message(self, message)",
                "on_pong(self, data)",
                "on_ping(self, data)",
                "get_websocket_protocol(self)"
            ],
            "variables_in_file": {
                "PY3": [
                    41
                ],
                "xrange": [
                    43
                ],
                "range": [
                    43
                ],
                "Exception": [
                    48,
                    485
                ],
                "WebSocketError": [
                    1096,
                    52
                ],
                "tornado.web.RequestHandler": [
                    60
                ],
                "tornado.web": [
                    517,
                    60,
                    149
                ],
                "tornado": [
                    768,
                    517,
                    149,
                    251,
                    60
                ],
                "__init__": [
                    1064,
                    142
                ],
                "super": [
                    1089,
                    1064,
                    1101,
                    142,
                    440
                ],
                "WebSocketHandler": [
                    440,
                    142
                ],
                "self": [
                    142,
                    143,
                    144,
                    145,
                    146,
                    147,
                    151,
                    152,
                    155,
                    156,
                    158,
                    165,
                    169,
                    171,
                    179,
                    180,
                    182,
                    187,
                    188,
                    190,
                    194,
                    195,
                    196,
                    198,
                    199,
                    200,
                    210,
                    218,
                    229,
                    248,
                    252,
                    313,
                    315,
                    354,
                    355,
                    356,
                    409,
                    428,
                    431,
                    432,
                    433,
                    434,
                    435,
                    436,
                    439,
                    440,
                    446,
                    449,
                    452,
                    455,
                    456,
                    460,
                    471,
                    472,
                    473,
                    474,
                    475,
                    487,
                    488,
                    492,
                    496,
                    500,
                    501,
                    502,
                    503,
                    514,
                    517,
                    519,
                    522,
                    524,
                    527,
                    529,
                    532,
                    535,
                    549,
                    551,
                    553,
                    556,
                    559,
                    579,
                    580,
                    581,
                    582,
                    583,
                    584,
                    585,
                    586,
                    587,
                    588,
                    589,
                    590,
                    591,
                    592,
                    596,
                    597,
                    600,
                    601,
                    602,
                    603,
                    604,
                    608,
                    609,
                    613,
                    623,
                    638,
                    641,
                    644,
                    647,
                    649,
                    652,
                    655,
                    661,
                    666,
                    667,
                    668,
                    669,
                    670,
                    671,
                    673,
                    674,
                    676,
                    677,
                    678,
                    679,
                    695,
                    698,
                    701,
                    702,
                    730,
                    731,
                    732,
                    733,
                    737,
                    742,
                    752,
                    756,
                    758,
                    760,
                    770,
                    772,
                    773,
                    774,
                    775,
                    780,
                    784,
                    786,
                    789,
                    791,
                    792,
                    793,
                    794,
                    795,
                    796,
                    797,
                    800,
                    802,
                    804,
                    806,
                    810,
                    811,
                    812,
                    814,
                    816,
                    818,
                    820,
                    823,
                    824,
                    825,
                    826,
                    827,
                    829,
                    830,
                    831,
                    834,
                    835,
                    837,
                    838,
                    840,
                    842,
                    845,
                    846,
                    848,
                    849,
                    851,
                    853,
                    856,
                    857,
                    859,
                    861,
                    865,
                    870,
                    871,
                    875,
                    877,
                    879,
                    880,
                    881,
                    883,
                    885,
                    886,
                    887,
                    888,
                    889,
                    891,
                    893,
                    895,
                    896,
                    898,
                    899,
                    901,
                    902,
                    904,
                    908,
                    910,
                    914,
                    917,
                    918,
                    922,
                    926,
                    928,
                    931,
                    932,
                    935,
                    937,
                    939,
                    941,
                    944,
                    945,
                    948,
                    949,
                    951,
                    955,
                    956,
                    965,
                    966,
                    967,
                    968,
                    969,
                    970,
                    971,
                    972,
                    975,
                    976,
                    980,
                    987,
                    990,
                    994,
                    995,
                    996,
                    997,
                    998,
                    1005,
                    1006,
                    1013,
                    1014,
                    1015,
                    1016,
                    1017,
                    1020,
                    1021,
                    1033,
                    1034,
                    1035,
                    1036,
                    1037,
                    1038,
                    1039,
                    1040,
                    1041,
                    1042,
                    1043,
                    1051,
                    1054,
                    1063,
                    1064,
                    1065,
                    1066,
                    1080,
                    1081,
                    1082,
                    1085,
                    1086,
                    1087,
                    1088,
                    1089,
                    1092,
                    1094,
                    1096,
                    1101,
                    1104,
                    1105,
                    1106,
                    1107,
                    1108,
                    1110,
                    1111,
                    1112,
                    1114,
                    1115,
                    1120,
                    1122,
                    1126,
                    1139,
                    1141,
                    1142,
                    1144,
                    1146,
                    1150,
                    1151,
                    1152,
                    1153,
                    1154,
                    1156,
                    1165,
                    1166
                ],
                "application": [
                    142
                ],
                "request": [
                    1216,
                    1217,
                    1218,
                    1060,
                    1065,
                    142,
                    1045,
                    1047,
                    1048,
                    1210,
                    1213,
                    1215
                ],
                "kwargs": [
                    152,
                    484,
                    142,
                    440
                ],
                "self.ws_connection": [
                    194,
                    195,
                    196,
                    354,
                    355,
                    356,
                    143,
                    431,
                    432,
                    433,
                    248,
                    313,
                    315,
                    252
                ],
                "self.close_code": [
                    144,
                    1040
                ],
                "self.close_reason": [
                    1040,
                    145
                ],
                "self.stream": [
                    784,
                    146,
                    674,
                    428,
                    812,
                    816,
                    818,
                    439,
                    956,
                    829,
                    446,
                    838,
                    455,
                    456,
                    969,
                    971,
                    975,
                    976,
                    849,
                    473,
                    1114,
                    1115,
                    492,
                    1005,
                    502,
                    758
                ],
                "self._on_close_called": [
                    434,
                    147,
                    435
                ],
                "self.open_args": [
                    151
                ],
                "args": [
                    440,
                    484,
                    151
                ],
                "self.open_kwargs": [
                    152
                ],
                "lower": [
                    155,
                    694,
                    693,
                    166
                ],
                "self.request.headers.get": [
                    449,
                    641,
                    623,
                    180,
                    182,
                    409,
                    155,
                    638
                ],
                "self.request.headers": [
                    449,
                    641,
                    165,
                    649,
                    623,
                    179,
                    180,
                    182,
                    409,
                    155,
                    638
                ],
                "self.request": [
                    449,
                    641,
                    165,
                    455,
                    487,
                    649,
                    623,
                    179,
                    180,
                    182,
                    472,
                    409,
                    155,
                    638
                ],
                "self.set_status": [
                    169,
                    188,
                    156,
                    198
                ],
                "log_msg": [
                    191,
                    170,
                    171,
                    172,
                    189,
                    190,
                    157,
                    158,
                    159
                ],
                "self.finish": [
                    200,
                    171,
                    190,
                    158
                ],
                "gen_log.debug": [
                    191,
                    611,
                    172,
                    159
                ],
                "gen_log": [
                    191,
                    611,
                    172,
                    159
                ],
                "headers": [
                    165,
                    167,
                    682,
                    1102,
                    1104,
                    693,
                    694,
                    696,
                    698
                ],
                "connection": [
                    168,
                    166
                ],
                "map": [
                    166,
                    623
                ],
                "s.strip": [
                    642,
                    166
                ],
                "s": [
                    642,
                    166
                ],
                "split": [
                    167
                ],
                "headers.get": [
                    682,
                    167
                ],
                "origin": [
                    407,
                    180,
                    405,
                    406,
                    182,
                    187,
                    412
                ],
                "self.check_origin": [
                    187
                ],
                "self.get_websocket_protocol": [
                    1105,
                    194
                ],
                "self.ws_connection.accept_connection": [
                    196
                ],
                "self.set_header": [
                    199
                ],
                "tornado.web.asynchronous": [
                    149
                ],
                "stream": [
                    202
                ],
                "self.settings.get": [
                    218,
                    210,
                    229
                ],
                "self.settings": [
                    218,
                    210,
                    229
                ],
                "property": [
                    204,
                    978,
                    212,
                    985,
                    220
                ],
                "WebSocketClosedError": [
                    249,
                    314
                ],
                "isinstance": [
                    1208,
                    769,
                    250,
                    779
                ],
                "message": [
                    768,
                    769,
                    770,
                    1153,
                    1156,
                    773,
                    1126,
                    775,
                    250,
                    251,
                    252,
                    1151
                ],
                "dict": [
                    250,
                    710
                ],
                "tornado.escape.json_encode": [
                    251
                ],
                "tornado.escape": [
                    768,
                    251
                ],
                "self.ws_connection.write_message": [
                    252
                ],
                "binary": [
                    252,
                    764,
                    1126
                ],
                "NotImplementedError": [
                    309
                ],
                "self.ws_connection.write_ping": [
                    315
                ],
                "data": [
                    899,
                    902,
                    779,
                    780,
                    789,
                    790,
                    918,
                    536,
                    538,
                    539,
                    922,
                    924,
                    931,
                    932,
                    936,
                    937,
                    938,
                    939,
                    560,
                    944,
                    945,
                    949,
                    315,
                    834,
                    835,
                    845,
                    846,
                    856,
                    857,
                    865,
                    741,
                    870,
                    754,
                    755,
                    885,
                    888
                ],
                "self.ws_connection.close": [
                    355
                ],
                "code": [
                    962,
                    355,
                    1081,
                    957,
                    958,
                    959
                ],
                "reason": [
                    355,
                    964,
                    963,
                    1081,
                    957
                ],
                "parsed_origin": [
                    405,
                    406
                ],
                "urlparse": [
                    405
                ],
                "parsed_origin.netloc": [
                    406
                ],
                "origin.lower": [
                    407
                ],
                "host": [
                    409,
                    412
                ],
                "self.stream.set_nodelay": [
                    428
                ],
                "value": [
                    428
                ],
                "self.ws_connection.on_connection_close": [
                    432
                ],
                "self.on_close": [
                    436
                ],
                "send_error": [
                    440
                ],
                "self.stream.close": [
                    971,
                    446,
                    502
                ],
                "websocket_version": [
                    449,
                    450
                ],
                "WebSocketProtocol13": [
                    451,
                    637,
                    1165
                ],
                "self.get_compression_options": [
                    452
                ],
                "self.request.connection.detach": [
                    455
                ],
                "self.request.connection": [
                    455
                ],
                "self.stream.set_close_callback": [
                    456,
                    1115
                ],
                "self.on_connection_close": [
                    456,
                    1115
                ],
                "method": [
                    458,
                    460
                ],
                "setattr": [
                    460
                ],
                "_raise_not_supported_for_websockets": [
                    460
                ],
                "RuntimeError": [
                    464
                ],
                "object": [
                    506,
                    467,
                    542
                ],
                "self.handler": [
                    644,
                    647,
                    661,
                    666,
                    667,
                    668,
                    669,
                    670,
                    671,
                    928,
                    673,
                    674,
                    932,
                    677,
                    678,
                    937,
                    939,
                    941,
                    945,
                    949,
                    826,
                    980,
                    471,
                    987
                ],
                "handler": [
                    472,
                    473,
                    579,
                    471
                ],
                "handler.request": [
                    472
                ],
                "handler.stream": [
                    473
                ],
                "self.client_terminated": [
                    935,
                    904,
                    967,
                    914,
                    500,
                    474
                ],
                "self.server_terminated": [
                    955,
                    475,
                    501,
                    966
                ],
                "result": [
                    484,
                    490,
                    491,
                    492,
                    493
                ],
                "callback": [
                    484,
                    1224,
                    1225,
                    1145,
                    1146
                ],
                "app_log.error": [
                    486
                ],
                "app_log": [
                    486
                ],
                "getattr": [
                    487
                ],
                "self._abort": [
                    800,
                    613,
                    806,
                    488,
                    842,
                    877,
                    893,
                    496,
                    976,
                    786,
                    883,
                    820,
                    853,
                    951,
                    760,
                    861,
                    926
                ],
                "gen.convert_yielded": [
                    491
                ],
                "gen": [
                    491
                ],
                "self.stream.io_loop.add_future": [
                    492
                ],
                "self.stream.io_loop": [
                    976,
                    969,
                    492,
                    975
                ],
                "f.result": [
                    492
                ],
                "f": [
                    492,
                    623
                ],
                "self.close": [
                    1017,
                    827,
                    941,
                    503
                ],
                "max_wbits": [
                    544,
                    513,
                    514,
                    545,
                    546,
                    548,
                    549,
                    508,
                    509,
                    511
                ],
                "zlib.MAX_WBITS": [
                    513,
                    546,
                    545,
                    548,
                    714,
                    509,
                    511
                ],
                "zlib": [
                    513,
                    545,
                    546,
                    548,
                    714,
                    556,
                    532,
                    537,
                    509,
                    511
                ],
                "ValueError": [
                    512,
                    704,
                    610,
                    547,
                    624,
                    728
                ],
                "self._max_wbits": [
                    514,
                    532,
                    549,
                    556
                ],
                "compression_options": [
                    516,
                    1220,
                    519,
                    521,
                    1033,
                    524,
                    589,
                    717,
                    731,
                    733
                ],
                "self._compression_level": [
                    532,
                    517,
                    519
                ],
                "tornado.web.GZipContentEncoding.GZIP_LEVEL": [
                    517
                ],
                "tornado.web.GZipContentEncoding": [
                    517
                ],
                "self._mem_level": [
                    522,
                    524,
                    532
                ],
                "persistent": [
                    550,
                    526
                ],
                "self._compressor": [
                    772,
                    773,
                    591,
                    527,
                    529,
                    535,
                    730
                ],
                "self._create_compressor": [
                    535,
                    527
                ],
                "zlib.compressobj": [
                    532
                ],
                "zlib.DEFLATED": [
                    532
                ],
                "compressor": [
                    536,
                    537,
                    535
                ],
                "compressor.compress": [
                    536
                ],
                "compressor.flush": [
                    537
                ],
                "zlib.Z_SYNC_FLUSH": [
                    537
                ],
                "data.endswith": [
                    538
                ],
                "self._decompressor": [
                    551,
                    553,
                    590,
                    559,
                    918,
                    795,
                    732
                ],
                "self._create_decompressor": [
                    559,
                    551
                ],
                "zlib.decompressobj": [
                    556
                ],
                "decompressor": [
                    560,
                    559
                ],
                "decompressor.decompress": [
                    560
                ],
                "WebSocketProtocol": [
                    579,
                    563
                ],
                "FIN": [
                    570
                ],
                "RSV1": [
                    571,
                    574
                ],
                "RSV2": [
                    572,
                    574
                ],
                "RSV3": [
                    573,
                    574
                ],
                "RSV_MASK": [
                    574
                ],
                "OPCODE_MASK": [
                    575
                ],
                "WebSocketProtocol.__init__": [
                    579
                ],
                "self.mask_outgoing": [
                    752,
                    580,
                    742
                ],
                "mask_outgoing": [
                    580
                ],
                "self._final_frame": [
                    581,
                    901,
                    875,
                    886,
                    791,
                    895
                ],
                "self._frame_opcode": [
                    896,
                    898,
                    582,
                    879,
                    880,
                    793,
                    794,
                    795
                ],
                "self._masked_frame": [
                    802,
                    837,
                    583,
                    811,
                    848
                ],
                "self._frame_mask": [
                    584,
                    857,
                    865
                ],
                "self._frame_length": [
                    835,
                    585,
                    810,
                    846,
                    823,
                    830
                ],
                "self._fragmented_message_buffer": [
                    899,
                    586,
                    881,
                    888,
                    885,
                    824,
                    825,
                    891,
                    889
                ],
                "self._fragmented_message_opcode": [
                    898,
                    587,
                    887
                ],
                "self._waiting": [
                    968,
                    969,
                    970,
                    972,
                    588,
                    975
                ],
                "self._compression_options": [
                    701,
                    652,
                    589,
                    655
                ],
                "self._frame_compressed": [
                    592,
                    796,
                    917
                ],
                "self._message_bytes_in": [
                    922,
                    931,
                    596
                ],
                "self._message_bytes_out": [
                    770,
                    597
                ],
                "self._wire_bytes_in": [
                    834,
                    870,
                    845,
                    856,
                    789,
                    600
                ],
                "self._wire_bytes_out": [
                    601,
                    756
                ],
                "self.ping_callback": [
                    996,
                    998,
                    1005,
                    1006,
                    602
                ],
                "self.last_ping": [
                    603,
                    1021,
                    1014,
                    995
                ],
                "self.last_pong": [
                    948,
                    995,
                    604,
                    1013
                ],
                "self._handle_websocket_headers": [
                    608
                ],
                "self._accept_connection": [
                    609
                ],
                "fields": [
                    622,
                    623
                ],
                "all": [
                    623
                ],
                "sha1": [
                    632,
                    633,
                    634,
                    631
                ],
                "hashlib.sha1": [
                    631
                ],
                "hashlib": [
                    631
                ],
                "sha1.update": [
                    632,
                    633
                ],
                "utf8": [
                    632,
                    964
                ],
                "key": [
                    695,
                    728,
                    726,
                    727,
                    632
                ],
                "native_str": [
                    634
                ],
                "base64.b64encode": [
                    634,
                    1038
                ],
                "base64": [
                    634,
                    1038
                ],
                "sha1.digest": [
                    634
                ],
                "staticmethod": [
                    626
                ],
                "WebSocketProtocol13.compute_accept_value": [
                    637
                ],
                "subprotocols": [
                    641,
                    642,
                    643,
                    644,
                    646
                ],
                "subprotocols.split": [
                    642
                ],
                "selected": [
                    644,
                    645,
                    646,
                    647
                ],
                "self.handler.select_subprotocol": [
                    644
                ],
                "self.handler.set_header": [
                    647,
                    661,
                    668,
                    669,
                    670
                ],
                "extensions": [
                    649,
                    682,
                    650,
                    683,
                    685,
                    698,
                    699
                ],
                "self._parse_extensions_header": [
                    649,
                    698
                ],
                "ext": [
                    704,
                    650,
                    651,
                    655,
                    656,
                    657,
                    660,
                    663,
                    699,
                    700,
                    702
                ],
                "self._create_compressors": [
                    702,
                    655
                ],
                "httputil._encode_header": [
                    662
                ],
                "httputil": [
                    684,
                    1213,
                    662
                ],
                "self.handler.clear_header": [
                    666
                ],
                "self.handler.set_status": [
                    667
                ],
                "self._challenge_response": [
                    670
                ],
                "self.handler.finish": [
                    671
                ],
                "self.handler._attach_stream": [
                    673
                ],
                "self.handler.stream": [
                    674
                ],
                "self.start_pinging": [
                    676
                ],
                "self._run_callback": [
                    928,
                    932,
                    677,
                    945,
                    949
                ],
                "self.handler.open": [
                    677
                ],
                "self.handler.open_args": [
                    677
                ],
                "self.handler.open_kwargs": [
                    678
                ],
                "self._receive_frame": [
                    908,
                    910,
                    679
                ],
                "httputil._parse_header": [
                    684
                ],
                "e.strip": [
                    684
                ],
                "e": [
                    684,
                    685
                ],
                "extensions.split": [
                    685
                ],
                "accept": [
                    696,
                    695
                ],
                "self.compute_accept_value": [
                    695
                ],
                "options": [
                    710,
                    714,
                    716,
                    717,
                    718
                ],
                "side": [
                    712,
                    729,
                    731,
                    711
                ],
                "agreed_parameters": [
                    711,
                    712,
                    726,
                    731,
                    733
                ],
                "wbits_header": [
                    712,
                    713,
                    716
                ],
                "agreed_parameters.get": [
                    712
                ],
                "int": [
                    716
                ],
                "allowed_keys": [
                    722,
                    727
                ],
                "set": [
                    722
                ],
                "other_side": [
                    729,
                    733
                ],
                "_PerMessageDeflateCompressor": [
                    730
                ],
                "self._get_compressor_options": [
                    731,
                    733
                ],
                "_PerMessageDeflateDecompressor": [
                    732
                ],
                "fin": [
                    736
                ],
                "finbit": [
                    737,
                    739,
                    740
                ],
                "self.FIN": [
                    737,
                    791
                ],
                "frame": [
                    740,
                    747,
                    749,
                    751,
                    755,
                    756,
                    758
                ],
                "struct.pack": [
                    962,
                    740,
                    747,
                    749,
                    751
                ],
                "struct": [
                    962,
                    835,
                    740,
                    937,
                    747,
                    749,
                    846,
                    751,
                    790
                ],
                "opcode": [
                    896,
                    929,
                    740,
                    933,
                    902,
                    775,
                    942,
                    879,
                    946,
                    887,
                    920,
                    765,
                    767
                ],
                "flags": [
                    771,
                    740,
                    774,
                    775
                ],
                "l": [
                    741,
                    746,
                    747,
                    748,
                    749,
                    751
                ],
                "len": [
                    770,
                    834,
                    931,
                    741,
                    870,
                    936,
                    938,
                    845,
                    756,
                    789,
                    856,
                    825,
                    922
                ],
                "mask_bit": [
                    743,
                    745,
                    747,
                    749,
                    751
                ],
                "mask": [
                    753,
                    754
                ],
                "os.urandom": [
                    753,
                    1038
                ],
                "os": [
                    753,
                    1038
                ],
                "_websocket_mask": [
                    865,
                    754
                ],
                "self.stream.write": [
                    758
                ],
                "StreamClosedError": [
                    841,
                    785,
                    819,
                    852,
                    759,
                    860,
                    1086
                ],
                "tornado.escape.utf8": [
                    768
                ],
                "bytes": [
                    769,
                    779
                ],
                "self._compressor.compress": [
                    773
                ],
                "self.RSV1": [
                    796,
                    797,
                    774
                ],
                "self._write_frame": [
                    944,
                    780,
                    965,
                    775
                ],
                "self.stream.read_bytes": [
                    838,
                    812,
                    784,
                    816,
                    818,
                    849,
                    829
                ],
                "self._on_frame_start": [
                    784
                ],
                "header": [
                    792,
                    793,
                    790,
                    791
                ],
                "payloadlen": [
                    802,
                    803,
                    804,
                    809,
                    810,
                    815,
                    817,
                    790
                ],
                "struct.unpack": [
                    937,
                    846,
                    835,
                    790
                ],
                "reserved_bits": [
                    792,
                    796,
                    797,
                    798
                ],
                "self.RSV_MASK": [
                    792
                ],
                "self.OPCODE_MASK": [
                    793
                ],
                "self._frame_opcode_is_control": [
                    794,
                    804,
                    871
                ],
                "bool": [
                    802,
                    796
                ],
                "self._on_masking_key": [
                    849,
                    812,
                    838
                ],
                "self._read_frame_data": [
                    840,
                    859,
                    851,
                    814
                ],
                "self._on_frame_length_16": [
                    816
                ],
                "self._on_frame_length_64": [
                    818
                ],
                "new_len": [
                    825,
                    826,
                    823
                ],
                "self.handler.max_message_size": [
                    826
                ],
                "masked": [
                    831
                ],
                "self._on_masked_frame_data": [
                    831
                ],
                "self._on_frame_data": [
                    865,
                    831
                ],
                "handled_future": [
                    905,
                    907,
                    868,
                    902
                ],
                "self._handle_message": [
                    902
                ],
                "handled_future.add_done_callback": [
                    907
                ],
                "self._decompressor.decompress": [
                    918
                ],
                "decoded": [
                    928,
                    924
                ],
                "data.decode": [
                    924
                ],
                "UnicodeDecodeError": [
                    925
                ],
                "self.handler.on_message": [
                    928,
                    932
                ],
                "self.handler.close_code": [
                    937,
                    941
                ],
                "self.handler.close_reason": [
                    939
                ],
                "to_unicode": [
                    939
                ],
                "self.handler.on_ping": [
                    945
                ],
                "time": [
                    995,
                    948,
                    1012
                ],
                "IOLoop.current": [
                    995,
                    948,
                    1012,
                    1207
                ],
                "IOLoop": [
                    995,
                    948,
                    1012,
                    1207
                ],
                "self.handler.on_pong": [
                    949
                ],
                "self.stream.closed": [
                    956,
                    1005
                ],
                "close_data": [
                    960,
                    962,
                    964,
                    965
                ],
                "self.stream.io_loop.remove_timeout": [
                    969
                ],
                "self.stream.io_loop.add_timeout": [
                    975
                ],
                "self.stream.io_loop.time": [
                    976
                ],
                "interval": [
                    980,
                    981,
                    982
                ],
                "self.handler.ping_interval": [
                    980
                ],
                "timeout": [
                    987,
                    988,
                    989
                ],
                "self.handler.ping_timeout": [
                    987
                ],
                "max": [
                    990
                ],
                "self.ping_interval": [
                    994,
                    997,
                    1041,
                    1015,
                    990
                ],
                "PeriodicCallback": [
                    996
                ],
                "self.periodic_ping": [
                    997
                ],
                "self.ping_callback.start": [
                    998
                ],
                "self.ping_callback.stop": [
                    1006
                ],
                "now": [
                    1021,
                    1012,
                    1013,
                    1014
                ],
                "since_last_pong": [
                    1016,
                    1013
                ],
                "since_last_ping": [
                    1014,
                    1015
                ],
                "self.ping_timeout": [
                    1016,
                    1042
                ],
                "self.write_ping": [
                    1020
                ],
                "simple_httpclient._HTTPConnection": [
                    1024
                ],
                "simple_httpclient": [
                    1024
                ],
                "self.compression_options": [
                    1033,
                    1166,
                    1054
                ],
                "self.connect_future": [
                    1122,
                    1092,
                    1094,
                    1096,
                    1034,
                    1085,
                    1086
                ],
                "TracebackFuture": [
                    1034,
                    1140
                ],
                "self.protocol": [
                    1126,
                    1035,
                    1105,
                    1106,
                    1107,
                    1108,
                    1080,
                    1081,
                    1082
                ],
                "self.read_future": [
                    1152,
                    1153,
                    1154,
                    1036,
                    1139,
                    1144
                ],
                "self.read_queue": [
                    1141,
                    1156,
                    1037,
                    1142
                ],
                "collections.deque": [
                    1037
                ],
                "collections": [
                    1037
                ],
                "self.key": [
                    1106,
                    1051,
                    1038
                ],
                "self._on_message_callback": [
                    1151,
                    1150,
                    1039
                ],
                "on_message_callback": [
                    1219,
                    1039
                ],
                "ping_interval": [
                    1041,
                    1221
                ],
                "ping_timeout": [
                    1042,
                    1222
                ],
                "self.max_message_size": [
                    1043
                ],
                "max_message_size": [
                    1043,
                    1223
                ],
                "scheme": [
                    1045,
                    1046,
                    1047
                ],
                "sep": [
                    1045,
                    1047
                ],
                "rest": [
                    1045,
                    1047
                ],
                "request.url.partition": [
                    1045
                ],
                "request.url": [
                    1045,
                    1047
                ],
                "request.headers.update": [
                    1048
                ],
                "request.headers": [
                    1048,
                    1060,
                    1213
                ],
                "self.tcp_client": [
                    1088,
                    1066,
                    1063
                ],
                "TCPClient": [
                    1063
                ],
                "io_loop": [
                    1218,
                    1063,
                    1065,
                    1225,
                    1206,
                    1207
                ],
                "WebSocketClientConnection": [
                    1064,
                    1089,
                    1218,
                    1101
                ],
                "self._on_http_response": [
                    1065
                ],
                "self.protocol.close": [
                    1081
                ],
                "self.connect_future.done": [
                    1092,
                    1085
                ],
                "self.connect_future.set_exception": [
                    1096,
                    1094,
                    1086
                ],
                "self.on_message": [
                    1087
                ],
                "self.tcp_client.close": [
                    1088
                ],
                "on_connection_close": [
                    1089
                ],
                "response.error": [
                    1093,
                    1094
                ],
                "response": [
                    1093,
                    1094
                ],
                "start_line.code": [
                    1100
                ],
                "start_line": [
                    1100,
                    1102
                ],
                "headers_received": [
                    1101
                ],
                "self.headers": [
                    1104,
                    1106
                ],
                "self.protocol._process_server_headers": [
                    1106
                ],
                "self.protocol.start_pinging": [
                    1107
                ],
                "self.protocol._receive_frame": [
                    1108
                ],
                "self._timeout": [
                    1112,
                    1110,
                    1111
                ],
                "self.io_loop.remove_timeout": [
                    1111
                ],
                "self.io_loop": [
                    1146,
                    1111
                ],
                "self.connection.detach": [
                    1114
                ],
                "self.connection": [
                    1114
                ],
                "self.final_callback": [
                    1120
                ],
                "self.connect_future.set_result": [
                    1122
                ],
                "self.protocol.write_message": [
                    1126
                ],
                "future": [
                    1140,
                    1142,
                    1144,
                    1146,
                    1147
                ],
                "future.set_result": [
                    1142
                ],
                "self.read_queue.popleft": [
                    1142
                ],
                "self.io_loop.add_future": [
                    1146
                ],
                "self.read_future.set_result": [
                    1153
                ],
                "self.read_queue.append": [
                    1156
                ],
                "url": [
                    1208,
                    1210,
                    1215
                ],
                "httpclient.HTTPRequest": [
                    1208,
                    1217,
                    1215
                ],
                "httpclient": [
                    1208,
                    1217,
                    1216,
                    1215
                ],
                "connect_timeout": [
                    1209,
                    1215
                ],
                "httputil.HTTPHeaders": [
                    1213
                ],
                "httpclient._RequestProxy": [
                    1216
                ],
                "httpclient.HTTPRequest._DEFAULTS": [
                    1217
                ],
                "conn": [
                    1225,
                    1218,
                    1226
                ],
                "io_loop.add_future": [
                    1225
                ],
                "conn.connect_future": [
                    1225,
                    1226
                ]
            },
            "filtered_variables_in_file": {
                "PY3": [
                    41
                ],
                "xrange": [
                    43
                ],
                "WebSocketError": [
                    1096,
                    52
                ],
                "tornado.web.RequestHandler": [
                    60
                ],
                "tornado.web": [
                    517,
                    60,
                    149
                ],
                "tornado": [
                    768,
                    517,
                    149,
                    251,
                    60
                ],
                "__init__": [
                    1064,
                    142
                ],
                "WebSocketHandler": [
                    440,
                    142
                ],
                "self": [
                    142,
                    143,
                    144,
                    145,
                    146,
                    147,
                    151,
                    152,
                    155,
                    156,
                    158,
                    165,
                    169,
                    171,
                    179,
                    180,
                    182,
                    187,
                    188,
                    190,
                    194,
                    195,
                    196,
                    198,
                    199,
                    200,
                    210,
                    218,
                    229,
                    248,
                    252,
                    313,
                    315,
                    354,
                    355,
                    356,
                    409,
                    428,
                    431,
                    432,
                    433,
                    434,
                    435,
                    436,
                    439,
                    440,
                    446,
                    449,
                    452,
                    455,
                    456,
                    460,
                    471,
                    472,
                    473,
                    474,
                    475,
                    487,
                    488,
                    492,
                    496,
                    500,
                    501,
                    502,
                    503,
                    514,
                    517,
                    519,
                    522,
                    524,
                    527,
                    529,
                    532,
                    535,
                    549,
                    551,
                    553,
                    556,
                    559,
                    579,
                    580,
                    581,
                    582,
                    583,
                    584,
                    585,
                    586,
                    587,
                    588,
                    589,
                    590,
                    591,
                    592,
                    596,
                    597,
                    600,
                    601,
                    602,
                    603,
                    604,
                    608,
                    609,
                    613,
                    623,
                    638,
                    641,
                    644,
                    647,
                    649,
                    652,
                    655,
                    661,
                    666,
                    667,
                    668,
                    669,
                    670,
                    671,
                    673,
                    674,
                    676,
                    677,
                    678,
                    679,
                    695,
                    698,
                    701,
                    702,
                    730,
                    731,
                    732,
                    733,
                    737,
                    742,
                    752,
                    756,
                    758,
                    760,
                    770,
                    772,
                    773,
                    774,
                    775,
                    780,
                    784,
                    786,
                    789,
                    791,
                    792,
                    793,
                    794,
                    795,
                    796,
                    797,
                    800,
                    802,
                    804,
                    806,
                    810,
                    811,
                    812,
                    814,
                    816,
                    818,
                    820,
                    823,
                    824,
                    825,
                    826,
                    827,
                    829,
                    830,
                    831,
                    834,
                    835,
                    837,
                    838,
                    840,
                    842,
                    845,
                    846,
                    848,
                    849,
                    851,
                    853,
                    856,
                    857,
                    859,
                    861,
                    865,
                    870,
                    871,
                    875,
                    877,
                    879,
                    880,
                    881,
                    883,
                    885,
                    886,
                    887,
                    888,
                    889,
                    891,
                    893,
                    895,
                    896,
                    898,
                    899,
                    901,
                    902,
                    904,
                    908,
                    910,
                    914,
                    917,
                    918,
                    922,
                    926,
                    928,
                    931,
                    932,
                    935,
                    937,
                    939,
                    941,
                    944,
                    945,
                    948,
                    949,
                    951,
                    955,
                    956,
                    965,
                    966,
                    967,
                    968,
                    969,
                    970,
                    971,
                    972,
                    975,
                    976,
                    980,
                    987,
                    990,
                    994,
                    995,
                    996,
                    997,
                    998,
                    1005,
                    1006,
                    1013,
                    1014,
                    1015,
                    1016,
                    1017,
                    1020,
                    1021,
                    1033,
                    1034,
                    1035,
                    1036,
                    1037,
                    1038,
                    1039,
                    1040,
                    1041,
                    1042,
                    1043,
                    1051,
                    1054,
                    1063,
                    1064,
                    1065,
                    1066,
                    1080,
                    1081,
                    1082,
                    1085,
                    1086,
                    1087,
                    1088,
                    1089,
                    1092,
                    1094,
                    1096,
                    1101,
                    1104,
                    1105,
                    1106,
                    1107,
                    1108,
                    1110,
                    1111,
                    1112,
                    1114,
                    1115,
                    1120,
                    1122,
                    1126,
                    1139,
                    1141,
                    1142,
                    1144,
                    1146,
                    1150,
                    1151,
                    1152,
                    1153,
                    1154,
                    1156,
                    1165,
                    1166
                ],
                "application": [
                    142
                ],
                "request": [
                    1216,
                    1217,
                    1218,
                    1060,
                    1065,
                    142,
                    1045,
                    1047,
                    1048,
                    1210,
                    1213,
                    1215
                ],
                "kwargs": [
                    152,
                    484,
                    142,
                    440
                ],
                "self.ws_connection": [
                    194,
                    195,
                    196,
                    354,
                    355,
                    356,
                    143,
                    431,
                    432,
                    433,
                    248,
                    313,
                    315,
                    252
                ],
                "self.close_code": [
                    144,
                    1040
                ],
                "self.close_reason": [
                    1040,
                    145
                ],
                "self.stream": [
                    784,
                    146,
                    674,
                    428,
                    812,
                    816,
                    818,
                    439,
                    956,
                    829,
                    446,
                    838,
                    455,
                    456,
                    969,
                    971,
                    975,
                    976,
                    849,
                    473,
                    1114,
                    1115,
                    492,
                    1005,
                    502,
                    758
                ],
                "self._on_close_called": [
                    434,
                    147,
                    435
                ],
                "self.open_args": [
                    151
                ],
                "args": [
                    440,
                    484,
                    151
                ],
                "self.open_kwargs": [
                    152
                ],
                "lower": [
                    155,
                    694,
                    693,
                    166
                ],
                "self.request.headers.get": [
                    449,
                    641,
                    623,
                    180,
                    182,
                    409,
                    155,
                    638
                ],
                "self.request.headers": [
                    449,
                    641,
                    165,
                    649,
                    623,
                    179,
                    180,
                    182,
                    409,
                    155,
                    638
                ],
                "self.request": [
                    449,
                    641,
                    165,
                    455,
                    487,
                    649,
                    623,
                    179,
                    180,
                    182,
                    472,
                    409,
                    155,
                    638
                ],
                "self.set_status": [
                    169,
                    188,
                    156,
                    198
                ],
                "log_msg": [
                    191,
                    170,
                    171,
                    172,
                    189,
                    190,
                    157,
                    158,
                    159
                ],
                "self.finish": [
                    200,
                    171,
                    190,
                    158
                ],
                "gen_log.debug": [
                    191,
                    611,
                    172,
                    159
                ],
                "gen_log": [
                    191,
                    611,
                    172,
                    159
                ],
                "headers": [
                    165,
                    167,
                    682,
                    1102,
                    1104,
                    693,
                    694,
                    696,
                    698
                ],
                "connection": [
                    168,
                    166
                ],
                "s.strip": [
                    642,
                    166
                ],
                "s": [
                    642,
                    166
                ],
                "split": [
                    167
                ],
                "headers.get": [
                    682,
                    167
                ],
                "origin": [
                    407,
                    180,
                    405,
                    406,
                    182,
                    187,
                    412
                ],
                "self.check_origin": [
                    187
                ],
                "self.get_websocket_protocol": [
                    1105,
                    194
                ],
                "self.ws_connection.accept_connection": [
                    196
                ],
                "self.set_header": [
                    199
                ],
                "tornado.web.asynchronous": [
                    149
                ],
                "stream": [
                    202
                ],
                "self.settings.get": [
                    218,
                    210,
                    229
                ],
                "self.settings": [
                    218,
                    210,
                    229
                ],
                "WebSocketClosedError": [
                    249,
                    314
                ],
                "message": [
                    768,
                    769,
                    770,
                    1153,
                    1156,
                    773,
                    1126,
                    775,
                    250,
                    251,
                    252,
                    1151
                ],
                "tornado.escape.json_encode": [
                    251
                ],
                "tornado.escape": [
                    768,
                    251
                ],
                "self.ws_connection.write_message": [
                    252
                ],
                "binary": [
                    252,
                    764,
                    1126
                ],
                "self.ws_connection.write_ping": [
                    315
                ],
                "data": [
                    899,
                    902,
                    779,
                    780,
                    789,
                    790,
                    918,
                    536,
                    538,
                    539,
                    922,
                    924,
                    931,
                    932,
                    936,
                    937,
                    938,
                    939,
                    560,
                    944,
                    945,
                    949,
                    315,
                    834,
                    835,
                    845,
                    846,
                    856,
                    857,
                    865,
                    741,
                    870,
                    754,
                    755,
                    885,
                    888
                ],
                "self.ws_connection.close": [
                    355
                ],
                "code": [
                    962,
                    355,
                    1081,
                    957,
                    958,
                    959
                ],
                "reason": [
                    355,
                    964,
                    963,
                    1081,
                    957
                ],
                "parsed_origin": [
                    405,
                    406
                ],
                "urlparse": [
                    405
                ],
                "parsed_origin.netloc": [
                    406
                ],
                "origin.lower": [
                    407
                ],
                "host": [
                    409,
                    412
                ],
                "self.stream.set_nodelay": [
                    428
                ],
                "value": [
                    428
                ],
                "self.ws_connection.on_connection_close": [
                    432
                ],
                "self.on_close": [
                    436
                ],
                "send_error": [
                    440
                ],
                "self.stream.close": [
                    971,
                    446,
                    502
                ],
                "websocket_version": [
                    449,
                    450
                ],
                "WebSocketProtocol13": [
                    451,
                    637,
                    1165
                ],
                "self.get_compression_options": [
                    452
                ],
                "self.request.connection.detach": [
                    455
                ],
                "self.request.connection": [
                    455
                ],
                "self.stream.set_close_callback": [
                    456,
                    1115
                ],
                "self.on_connection_close": [
                    456,
                    1115
                ],
                "method": [
                    458,
                    460
                ],
                "_raise_not_supported_for_websockets": [
                    460
                ],
                "self.handler": [
                    644,
                    647,
                    661,
                    666,
                    667,
                    668,
                    669,
                    670,
                    671,
                    928,
                    673,
                    674,
                    932,
                    677,
                    678,
                    937,
                    939,
                    941,
                    945,
                    949,
                    826,
                    980,
                    471,
                    987
                ],
                "handler": [
                    472,
                    473,
                    579,
                    471
                ],
                "handler.request": [
                    472
                ],
                "handler.stream": [
                    473
                ],
                "self.client_terminated": [
                    935,
                    904,
                    967,
                    914,
                    500,
                    474
                ],
                "self.server_terminated": [
                    955,
                    475,
                    501,
                    966
                ],
                "result": [
                    484,
                    490,
                    491,
                    492,
                    493
                ],
                "callback": [
                    484,
                    1224,
                    1225,
                    1145,
                    1146
                ],
                "app_log.error": [
                    486
                ],
                "app_log": [
                    486
                ],
                "self._abort": [
                    800,
                    613,
                    806,
                    488,
                    842,
                    877,
                    893,
                    496,
                    976,
                    786,
                    883,
                    820,
                    853,
                    951,
                    760,
                    861,
                    926
                ],
                "gen.convert_yielded": [
                    491
                ],
                "gen": [
                    491
                ],
                "self.stream.io_loop.add_future": [
                    492
                ],
                "self.stream.io_loop": [
                    976,
                    969,
                    492,
                    975
                ],
                "f.result": [
                    492
                ],
                "f": [
                    492,
                    623
                ],
                "self.close": [
                    1017,
                    827,
                    941,
                    503
                ],
                "max_wbits": [
                    544,
                    513,
                    514,
                    545,
                    546,
                    548,
                    549,
                    508,
                    509,
                    511
                ],
                "zlib.MAX_WBITS": [
                    513,
                    546,
                    545,
                    548,
                    714,
                    509,
                    511
                ],
                "zlib": [
                    513,
                    545,
                    546,
                    548,
                    714,
                    556,
                    532,
                    537,
                    509,
                    511
                ],
                "self._max_wbits": [
                    514,
                    532,
                    549,
                    556
                ],
                "compression_options": [
                    516,
                    1220,
                    519,
                    521,
                    1033,
                    524,
                    589,
                    717,
                    731,
                    733
                ],
                "self._compression_level": [
                    532,
                    517,
                    519
                ],
                "tornado.web.GZipContentEncoding.GZIP_LEVEL": [
                    517
                ],
                "tornado.web.GZipContentEncoding": [
                    517
                ],
                "self._mem_level": [
                    522,
                    524,
                    532
                ],
                "persistent": [
                    550,
                    526
                ],
                "self._compressor": [
                    772,
                    773,
                    591,
                    527,
                    529,
                    535,
                    730
                ],
                "self._create_compressor": [
                    535,
                    527
                ],
                "zlib.compressobj": [
                    532
                ],
                "zlib.DEFLATED": [
                    532
                ],
                "compressor": [
                    536,
                    537,
                    535
                ],
                "compressor.compress": [
                    536
                ],
                "compressor.flush": [
                    537
                ],
                "zlib.Z_SYNC_FLUSH": [
                    537
                ],
                "data.endswith": [
                    538
                ],
                "self._decompressor": [
                    551,
                    553,
                    590,
                    559,
                    918,
                    795,
                    732
                ],
                "self._create_decompressor": [
                    559,
                    551
                ],
                "zlib.decompressobj": [
                    556
                ],
                "decompressor": [
                    560,
                    559
                ],
                "decompressor.decompress": [
                    560
                ],
                "WebSocketProtocol": [
                    579,
                    563
                ],
                "FIN": [
                    570
                ],
                "RSV1": [
                    571,
                    574
                ],
                "RSV2": [
                    572,
                    574
                ],
                "RSV3": [
                    573,
                    574
                ],
                "RSV_MASK": [
                    574
                ],
                "OPCODE_MASK": [
                    575
                ],
                "WebSocketProtocol.__init__": [
                    579
                ],
                "self.mask_outgoing": [
                    752,
                    580,
                    742
                ],
                "mask_outgoing": [
                    580
                ],
                "self._final_frame": [
                    581,
                    901,
                    875,
                    886,
                    791,
                    895
                ],
                "self._frame_opcode": [
                    896,
                    898,
                    582,
                    879,
                    880,
                    793,
                    794,
                    795
                ],
                "self._masked_frame": [
                    802,
                    837,
                    583,
                    811,
                    848
                ],
                "self._frame_mask": [
                    584,
                    857,
                    865
                ],
                "self._frame_length": [
                    835,
                    585,
                    810,
                    846,
                    823,
                    830
                ],
                "self._fragmented_message_buffer": [
                    899,
                    586,
                    881,
                    888,
                    885,
                    824,
                    825,
                    891,
                    889
                ],
                "self._fragmented_message_opcode": [
                    898,
                    587,
                    887
                ],
                "self._waiting": [
                    968,
                    969,
                    970,
                    972,
                    588,
                    975
                ],
                "self._compression_options": [
                    701,
                    652,
                    589,
                    655
                ],
                "self._frame_compressed": [
                    592,
                    796,
                    917
                ],
                "self._message_bytes_in": [
                    922,
                    931,
                    596
                ],
                "self._message_bytes_out": [
                    770,
                    597
                ],
                "self._wire_bytes_in": [
                    834,
                    870,
                    845,
                    856,
                    789,
                    600
                ],
                "self._wire_bytes_out": [
                    601,
                    756
                ],
                "self.ping_callback": [
                    996,
                    998,
                    1005,
                    1006,
                    602
                ],
                "self.last_ping": [
                    603,
                    1021,
                    1014,
                    995
                ],
                "self.last_pong": [
                    948,
                    995,
                    604,
                    1013
                ],
                "self._handle_websocket_headers": [
                    608
                ],
                "self._accept_connection": [
                    609
                ],
                "fields": [
                    622,
                    623
                ],
                "sha1": [
                    632,
                    633,
                    634,
                    631
                ],
                "hashlib.sha1": [
                    631
                ],
                "hashlib": [
                    631
                ],
                "sha1.update": [
                    632,
                    633
                ],
                "utf8": [
                    632,
                    964
                ],
                "key": [
                    695,
                    728,
                    726,
                    727,
                    632
                ],
                "native_str": [
                    634
                ],
                "base64.b64encode": [
                    634,
                    1038
                ],
                "base64": [
                    634,
                    1038
                ],
                "sha1.digest": [
                    634
                ],
                "WebSocketProtocol13.compute_accept_value": [
                    637
                ],
                "subprotocols": [
                    641,
                    642,
                    643,
                    644,
                    646
                ],
                "subprotocols.split": [
                    642
                ],
                "selected": [
                    644,
                    645,
                    646,
                    647
                ],
                "self.handler.select_subprotocol": [
                    644
                ],
                "self.handler.set_header": [
                    647,
                    661,
                    668,
                    669,
                    670
                ],
                "extensions": [
                    649,
                    682,
                    650,
                    683,
                    685,
                    698,
                    699
                ],
                "self._parse_extensions_header": [
                    649,
                    698
                ],
                "ext": [
                    704,
                    650,
                    651,
                    655,
                    656,
                    657,
                    660,
                    663,
                    699,
                    700,
                    702
                ],
                "self._create_compressors": [
                    702,
                    655
                ],
                "httputil._encode_header": [
                    662
                ],
                "httputil": [
                    684,
                    1213,
                    662
                ],
                "self.handler.clear_header": [
                    666
                ],
                "self.handler.set_status": [
                    667
                ],
                "self._challenge_response": [
                    670
                ],
                "self.handler.finish": [
                    671
                ],
                "self.handler._attach_stream": [
                    673
                ],
                "self.handler.stream": [
                    674
                ],
                "self.start_pinging": [
                    676
                ],
                "self._run_callback": [
                    928,
                    932,
                    677,
                    945,
                    949
                ],
                "self.handler.open": [
                    677
                ],
                "self.handler.open_args": [
                    677
                ],
                "self.handler.open_kwargs": [
                    678
                ],
                "self._receive_frame": [
                    908,
                    910,
                    679
                ],
                "httputil._parse_header": [
                    684
                ],
                "e.strip": [
                    684
                ],
                "e": [
                    684,
                    685
                ],
                "extensions.split": [
                    685
                ],
                "accept": [
                    696,
                    695
                ],
                "self.compute_accept_value": [
                    695
                ],
                "options": [
                    710,
                    714,
                    716,
                    717,
                    718
                ],
                "side": [
                    712,
                    729,
                    731,
                    711
                ],
                "agreed_parameters": [
                    711,
                    712,
                    726,
                    731,
                    733
                ],
                "wbits_header": [
                    712,
                    713,
                    716
                ],
                "agreed_parameters.get": [
                    712
                ],
                "allowed_keys": [
                    722,
                    727
                ],
                "other_side": [
                    729,
                    733
                ],
                "_PerMessageDeflateCompressor": [
                    730
                ],
                "self._get_compressor_options": [
                    731,
                    733
                ],
                "_PerMessageDeflateDecompressor": [
                    732
                ],
                "fin": [
                    736
                ],
                "finbit": [
                    737,
                    739,
                    740
                ],
                "self.FIN": [
                    737,
                    791
                ],
                "frame": [
                    740,
                    747,
                    749,
                    751,
                    755,
                    756,
                    758
                ],
                "struct.pack": [
                    962,
                    740,
                    747,
                    749,
                    751
                ],
                "struct": [
                    962,
                    835,
                    740,
                    937,
                    747,
                    749,
                    846,
                    751,
                    790
                ],
                "opcode": [
                    896,
                    929,
                    740,
                    933,
                    902,
                    775,
                    942,
                    879,
                    946,
                    887,
                    920,
                    765,
                    767
                ],
                "flags": [
                    771,
                    740,
                    774,
                    775
                ],
                "l": [
                    741,
                    746,
                    747,
                    748,
                    749,
                    751
                ],
                "mask_bit": [
                    743,
                    745,
                    747,
                    749,
                    751
                ],
                "mask": [
                    753,
                    754
                ],
                "os.urandom": [
                    753,
                    1038
                ],
                "os": [
                    753,
                    1038
                ],
                "_websocket_mask": [
                    865,
                    754
                ],
                "self.stream.write": [
                    758
                ],
                "StreamClosedError": [
                    841,
                    785,
                    819,
                    852,
                    759,
                    860,
                    1086
                ],
                "tornado.escape.utf8": [
                    768
                ],
                "self._compressor.compress": [
                    773
                ],
                "self.RSV1": [
                    796,
                    797,
                    774
                ],
                "self._write_frame": [
                    944,
                    780,
                    965,
                    775
                ],
                "self.stream.read_bytes": [
                    838,
                    812,
                    784,
                    816,
                    818,
                    849,
                    829
                ],
                "self._on_frame_start": [
                    784
                ],
                "header": [
                    792,
                    793,
                    790,
                    791
                ],
                "payloadlen": [
                    802,
                    803,
                    804,
                    809,
                    810,
                    815,
                    817,
                    790
                ],
                "struct.unpack": [
                    937,
                    846,
                    835,
                    790
                ],
                "reserved_bits": [
                    792,
                    796,
                    797,
                    798
                ],
                "self.RSV_MASK": [
                    792
                ],
                "self.OPCODE_MASK": [
                    793
                ],
                "self._frame_opcode_is_control": [
                    794,
                    804,
                    871
                ],
                "self._on_masking_key": [
                    849,
                    812,
                    838
                ],
                "self._read_frame_data": [
                    840,
                    859,
                    851,
                    814
                ],
                "self._on_frame_length_16": [
                    816
                ],
                "self._on_frame_length_64": [
                    818
                ],
                "new_len": [
                    825,
                    826,
                    823
                ],
                "self.handler.max_message_size": [
                    826
                ],
                "masked": [
                    831
                ],
                "self._on_masked_frame_data": [
                    831
                ],
                "self._on_frame_data": [
                    865,
                    831
                ],
                "handled_future": [
                    905,
                    907,
                    868,
                    902
                ],
                "self._handle_message": [
                    902
                ],
                "handled_future.add_done_callback": [
                    907
                ],
                "self._decompressor.decompress": [
                    918
                ],
                "decoded": [
                    928,
                    924
                ],
                "data.decode": [
                    924
                ],
                "self.handler.on_message": [
                    928,
                    932
                ],
                "self.handler.close_code": [
                    937,
                    941
                ],
                "self.handler.close_reason": [
                    939
                ],
                "to_unicode": [
                    939
                ],
                "self.handler.on_ping": [
                    945
                ],
                "time": [
                    995,
                    948,
                    1012
                ],
                "IOLoop.current": [
                    995,
                    948,
                    1012,
                    1207
                ],
                "IOLoop": [
                    995,
                    948,
                    1012,
                    1207
                ],
                "self.handler.on_pong": [
                    949
                ],
                "self.stream.closed": [
                    956,
                    1005
                ],
                "close_data": [
                    960,
                    962,
                    964,
                    965
                ],
                "self.stream.io_loop.remove_timeout": [
                    969
                ],
                "self.stream.io_loop.add_timeout": [
                    975
                ],
                "self.stream.io_loop.time": [
                    976
                ],
                "interval": [
                    980,
                    981,
                    982
                ],
                "self.handler.ping_interval": [
                    980
                ],
                "timeout": [
                    987,
                    988,
                    989
                ],
                "self.handler.ping_timeout": [
                    987
                ],
                "self.ping_interval": [
                    994,
                    997,
                    1041,
                    1015,
                    990
                ],
                "PeriodicCallback": [
                    996
                ],
                "self.periodic_ping": [
                    997
                ],
                "self.ping_callback.start": [
                    998
                ],
                "self.ping_callback.stop": [
                    1006
                ],
                "now": [
                    1021,
                    1012,
                    1013,
                    1014
                ],
                "since_last_pong": [
                    1016,
                    1013
                ],
                "since_last_ping": [
                    1014,
                    1015
                ],
                "self.ping_timeout": [
                    1016,
                    1042
                ],
                "self.write_ping": [
                    1020
                ],
                "simple_httpclient._HTTPConnection": [
                    1024
                ],
                "simple_httpclient": [
                    1024
                ],
                "self.compression_options": [
                    1033,
                    1166,
                    1054
                ],
                "self.connect_future": [
                    1122,
                    1092,
                    1094,
                    1096,
                    1034,
                    1085,
                    1086
                ],
                "TracebackFuture": [
                    1034,
                    1140
                ],
                "self.protocol": [
                    1126,
                    1035,
                    1105,
                    1106,
                    1107,
                    1108,
                    1080,
                    1081,
                    1082
                ],
                "self.read_future": [
                    1152,
                    1153,
                    1154,
                    1036,
                    1139,
                    1144
                ],
                "self.read_queue": [
                    1141,
                    1156,
                    1037,
                    1142
                ],
                "collections.deque": [
                    1037
                ],
                "collections": [
                    1037
                ],
                "self.key": [
                    1106,
                    1051,
                    1038
                ],
                "self._on_message_callback": [
                    1151,
                    1150,
                    1039
                ],
                "on_message_callback": [
                    1219,
                    1039
                ],
                "ping_interval": [
                    1041,
                    1221
                ],
                "ping_timeout": [
                    1042,
                    1222
                ],
                "self.max_message_size": [
                    1043
                ],
                "max_message_size": [
                    1043,
                    1223
                ],
                "scheme": [
                    1045,
                    1046,
                    1047
                ],
                "sep": [
                    1045,
                    1047
                ],
                "rest": [
                    1045,
                    1047
                ],
                "request.url.partition": [
                    1045
                ],
                "request.url": [
                    1045,
                    1047
                ],
                "request.headers.update": [
                    1048
                ],
                "request.headers": [
                    1048,
                    1060,
                    1213
                ],
                "self.tcp_client": [
                    1088,
                    1066,
                    1063
                ],
                "TCPClient": [
                    1063
                ],
                "io_loop": [
                    1218,
                    1063,
                    1065,
                    1225,
                    1206,
                    1207
                ],
                "WebSocketClientConnection": [
                    1064,
                    1089,
                    1218,
                    1101
                ],
                "self._on_http_response": [
                    1065
                ],
                "self.protocol.close": [
                    1081
                ],
                "self.connect_future.done": [
                    1092,
                    1085
                ],
                "self.connect_future.set_exception": [
                    1096,
                    1094,
                    1086
                ],
                "self.on_message": [
                    1087
                ],
                "self.tcp_client.close": [
                    1088
                ],
                "on_connection_close": [
                    1089
                ],
                "response.error": [
                    1093,
                    1094
                ],
                "response": [
                    1093,
                    1094
                ],
                "start_line.code": [
                    1100
                ],
                "start_line": [
                    1100,
                    1102
                ],
                "headers_received": [
                    1101
                ],
                "self.headers": [
                    1104,
                    1106
                ],
                "self.protocol._process_server_headers": [
                    1106
                ],
                "self.protocol.start_pinging": [
                    1107
                ],
                "self.protocol._receive_frame": [
                    1108
                ],
                "self._timeout": [
                    1112,
                    1110,
                    1111
                ],
                "self.io_loop.remove_timeout": [
                    1111
                ],
                "self.io_loop": [
                    1146,
                    1111
                ],
                "self.connection.detach": [
                    1114
                ],
                "self.connection": [
                    1114
                ],
                "self.final_callback": [
                    1120
                ],
                "self.connect_future.set_result": [
                    1122
                ],
                "self.protocol.write_message": [
                    1126
                ],
                "future": [
                    1140,
                    1142,
                    1144,
                    1146,
                    1147
                ],
                "future.set_result": [
                    1142
                ],
                "self.read_queue.popleft": [
                    1142
                ],
                "self.io_loop.add_future": [
                    1146
                ],
                "self.read_future.set_result": [
                    1153
                ],
                "self.read_queue.append": [
                    1156
                ],
                "url": [
                    1208,
                    1210,
                    1215
                ],
                "httpclient.HTTPRequest": [
                    1208,
                    1217,
                    1215
                ],
                "httpclient": [
                    1208,
                    1217,
                    1216,
                    1215
                ],
                "connect_timeout": [
                    1209,
                    1215
                ],
                "httputil.HTTPHeaders": [
                    1213
                ],
                "httpclient._RequestProxy": [
                    1216
                ],
                "httpclient.HTTPRequest._DEFAULTS": [
                    1217
                ],
                "conn": [
                    1225,
                    1218,
                    1226
                ],
                "io_loop.add_future": [
                    1225
                ],
                "conn.connect_future": [
                    1225,
                    1226
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/Volumes/SSD2T/bgp_envs_non_pandas/repos/tornado_10/tornado/test/websocket_test.py",
                "test_function": "test_render_message",
                "test_function_code": "    @gen_test\n    def test_render_message(self):\n        ws = yield self.ws_connect('/render')\n        ws.write_message('hello')\n        response = yield ws.read_message()\n        self.assertEqual(response, '<b>hello</b>')\n        yield self.close(ws)",
                "test_error": "AssertionError: None != '<b>hello</b>'",
                "full_test_error": "self = <tornado.test.websocket_test.WebSocketTest testMethod=test_render_message>\n\n    @gen_test\n    def test_render_message(self):\n        ws = yield self.ws_connect('/render')\n        ws.write_message('hello')\n        response = yield ws.read_message()\n>       self.assertEqual(response, '<b>hello</b>')\nE       AssertionError: None != '<b>hello</b>'\n\ntornado/test/websocket_test.py:241: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": [
                    "gen_test"
                ]
            }
        ]
    }
}