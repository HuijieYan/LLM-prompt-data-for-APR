```python
from difflib import get_close_matches

# this is the corrected function
@sudo_support
def match(command):
    return (command.script_parts
            and 'not found' in command.stderr
            and bool(get_close_matches(command.script_parts[0], get_all_executables()))
            and not any(x in command.script_parts[0] for x in ['git', 'sudo']))
```