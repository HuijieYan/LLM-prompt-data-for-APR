The buggy function appears to have issues with image format and mode conversion. Specifically, it incorrectly converts the image to RGB mode when the format is JPEG and the mode is not RGB. Additionally, it does not handle the conversion properly when the format is PNG and the mode is RGBA.

To fix the bug, the function needs to be updated to correctly handle the different image formats and modes, and to properly convert the images when necessary. Additionally, it should honor the size parameter when provided.

Here's the corrected code for the problematic function:

```python
from PIL import Image
from io import BytesIO
from scrapy.pipelines.files import FilesPipeline

class ImagesPipeline(FilesPipeline):
    """
    Abstract pipeline that implement the image thumbnail generation logic
        
    """

    def convert_image(self, image, size=None):
        if image.format == 'PNG' and image.mode == 'RGBA':
            background = Image.new('RGB', image.size, (255, 255, 255))
            background.paste(image, (0, 0), image)
            image = background
        elif image.mode != 'RGB':
            image = image.convert('RGB')
    
        if size:
            image = image.copy()
            image.thumbnail(size, Image.ANTIALIAS)
    
        buf = BytesIO()
        image.save(buf, 'JPEG')
        return image, buf
```

This corrected code will ensure that the function appropriately handles the different image formats and modes, and properly converts the images when necessary, as well as respecting the size parameter.