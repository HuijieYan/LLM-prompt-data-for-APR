# The corrected function

```python
# this is the corrected function
def table_exists(self, table, database='default', partition=None):
    if partition is None:
        stdout = run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table))

        return stdout and table.lower() in stdout.lower()  # Check for case insensitivity
    else:
        stdout = run_hive_cmd("""use %s; show partitions %s partition
                            (%s)""" % (database, table, self.partition_spec(partition)))

        if stdout:
            return True
        else:
            return False
```

The function has been corrected to check for case insensitivity by converting both the table name and the output to lowercase before performing the comparison.

The failing test case for the new function will now pass without any AssertionError.

The GitHub issue can be opened to discuss and propose the fix for making the `table_exists` function case insensitive.