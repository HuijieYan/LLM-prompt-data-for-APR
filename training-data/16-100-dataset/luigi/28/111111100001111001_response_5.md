The bug in the `table_exists` function is that the `run_hive_cmd` function is not being called correctly. It is being called as if it were a global function, when in reality it is a method of the `HiveCommandClient` class. 

To fix this, we need to call `run_hive_cmd` as a method of the class, using `self.run_hive_cmd` instead of just `run_hive_cmd`. Additionally, we need to pass the `check_return_code` parameter to `self.run_hive_cmd` to ensure the return code is checked.

Here's the corrected code for the `table_exists` function:

```python
def table_exists(self, table, database='default', partition=None):
        if partition is None:
            stdout = self.run_hive_cmd('use {0}; show tables like "{1}";'.format(database, table), check_return_code=True)
    
            return stdout and table in stdout
        else:
            stdout = self.run_hive_cmd("""use %s; show partitions %s partition
                                (%s)""" % (database, table, self.partition_spec(partition)), check_return_code=True)
    
            if stdout:
                return True
            else:
                return False
```

With this correction, the `run_hive_cmd` function will be called correctly as a method of the `HiveCommandClient` class, and the return code will be checked in both cases. This should satisfy the expected input/output variable information provided.