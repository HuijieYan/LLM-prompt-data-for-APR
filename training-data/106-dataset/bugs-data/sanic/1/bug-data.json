{
    "sanic:1": {
        "/Volumes/SSD2T/bgp_envs/repos/sanic_1/sanic/app.py": {
            "buggy_functions": [
                {
                    "function_name": "register_named_middleware",
                    "function_code": "def register_named_middleware(\n    self, middleware, route_names, attach_to=\"request\"\n):\n    if attach_to == \"request\":\n        for _rn in route_names:\n            if _rn not in self.named_request_middleware:\n                self.named_request_middleware[_rn] = deque()\n            if middleware not in self.named_request_middleware[_rn]:\n                self.named_request_middleware[_rn].append(middleware)\n    if attach_to == \"response\":\n        for _rn in route_names:\n            if _rn not in self.named_response_middleware:\n                self.named_response_middleware[_rn] = deque()\n            if middleware not in self.named_response_middleware[_rn]:\n                self.named_response_middleware[_rn].append(middleware)\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 642,
                    "end_line": 656,
                    "variables": {
                        "attach_to": [
                            651,
                            645
                        ],
                        "_rn": [
                            646,
                            647,
                            648,
                            649,
                            650,
                            652,
                            653,
                            654,
                            655,
                            656
                        ],
                        "route_names": [
                            652,
                            646
                        ],
                        "self.named_request_middleware": [
                            648,
                            649,
                            650,
                            647
                        ],
                        "self": [
                            647,
                            648,
                            649,
                            650,
                            653,
                            654,
                            655,
                            656
                        ],
                        "deque": [
                            648,
                            654
                        ],
                        "middleware": [
                            656,
                            649,
                            650,
                            655
                        ],
                        "append": [
                            656,
                            650
                        ],
                        "self.named_response_middleware": [
                            656,
                            653,
                            654,
                            655
                        ]
                    },
                    "filtered_variables": {
                        "attach_to": [
                            651,
                            645
                        ],
                        "_rn": [
                            646,
                            647,
                            648,
                            649,
                            650,
                            652,
                            653,
                            654,
                            655,
                            656
                        ],
                        "route_names": [
                            652,
                            646
                        ],
                        "self.named_request_middleware": [
                            648,
                            649,
                            650,
                            647
                        ],
                        "self": [
                            647,
                            648,
                            649,
                            650,
                            653,
                            654,
                            655,
                            656
                        ],
                        "deque": [
                            648,
                            654
                        ],
                        "middleware": [
                            656,
                            649,
                            650,
                            655
                        ],
                        "append": [
                            656,
                            650
                        ],
                        "self.named_response_middleware": [
                            656,
                            653,
                            654,
                            655
                        ]
                    },
                    "diff_line_number": 656,
                    "class_data": {
                        "signature": "class Sanic()",
                        "docstring": null,
                        "constructor_docstring": null,
                        "functions": [
                            "def __init__(self, name=None, router=None, error_handler=None, load_env=True, request_class=None, strict_slashes=False, log_config=None, configure_logging=True):\n    if name is None:\n        warnings.warn(\"Sanic(name=None) is deprecated and None value support for `name` will be removed in the next release. Please use Sanic(name='your_application_name') instead.\", DeprecationWarning, stacklevel=2)\n        frame_records = stack()[1]\n        name = getmodulename(frame_records[1])\n    if configure_logging:\n        logging.config.dictConfig(log_config or LOGGING_CONFIG_DEFAULTS)\n    self.name = name\n    self.asgi = False\n    self.router = router or Router()\n    self.request_class = request_class\n    self.error_handler = error_handler or ErrorHandler()\n    self.config = Config(load_env=load_env)\n    self.request_middleware = deque()\n    self.response_middleware = deque()\n    self.blueprints = {}\n    self._blueprint_order = []\n    self.configure_logging = configure_logging\n    self.debug = None\n    self.sock = None\n    self.strict_slashes = strict_slashes\n    self.listeners = defaultdict(list)\n    self.is_stopping = False\n    self.is_running = False\n    self.is_request_stream = False\n    self.websocket_enabled = False\n    self.websocket_tasks = set()\n    self.named_request_middleware = {}\n    self.named_response_middleware = {}\n    self.go_fast = self.run",
                            "@property\ndef loop(self):\n    \"\"\"Synonymous with asyncio.get_event_loop().\n\n    Only supported when using the `app.run` method.\n    \"\"\"\n    if not self.is_running and self.asgi is False:\n        raise SanicException('Loop can only be retrieved after the app has started running. Not supported with `create_server` function')\n    return get_event_loop()",
                            "def add_task(self, task):\n    \"\"\"Schedule a task to run later, after the loop has started.\n    Different from asyncio.ensure_future in that it does not\n    also return a future, and the actual ensure_future call\n    is delayed until before server start.\n\n    :param task: future, couroutine or awaitable\n    \"\"\"\n    try:\n        if callable(task):\n            try:\n                self.loop.create_task(task(self))\n            except TypeError:\n                self.loop.create_task(task())\n        else:\n            self.loop.create_task(task)\n    except SanicException:\n\n        @self.listener('before_server_start')\n        def run(app, loop):\n            if callable(task):\n                try:\n                    loop.create_task(task(self))\n                except TypeError:\n                    loop.create_task(task())\n            else:\n                loop.create_task(task)",
                            "def listener(self, event):\n    \"\"\"Create a listener from a decorated function.\n\n    :param event: event to listen to\n    \"\"\"\n\n    def decorator(listener):\n        self.listeners[event].append(listener)\n        return listener\n    return decorator",
                            "def register_listener(self, listener, event):\n    \"\"\"\n    Register the listener for a given event.\n\n    :param listener: callable i.e. setup_db(app, loop)\n    :param event: when to register listener i.e. 'before_server_start'\n    :return: listener\n    \"\"\"\n    return self.listener(event)(listener)",
                            "def route(self, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, stream=False, version=None, name=None):\n    \"\"\"Decorate a function to be registered as a route\n\n    :param uri: path of the URL\n    :param methods: list or tuple of methods allowed\n    :param host:\n    :param strict_slashes:\n    :param stream:\n    :param version:\n    :param name: user defined route name for url_for\n    :return: tuple of routes, decorated function\n    \"\"\"\n    if not uri.startswith('/'):\n        uri = '/' + uri\n    if stream:\n        self.is_request_stream = True\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    def response(handler):\n        if isinstance(handler, tuple):\n            routes, handler = handler\n        else:\n            routes = []\n        args = list(signature(handler).parameters.keys())\n        if not args:\n            handler_name = handler.__name__\n            raise ValueError(f'Required parameter `request` missing in the {handler_name}() route?')\n        if stream:\n            handler.is_stream = stream\n        routes.extend(self.router.add(uri=uri, methods=methods, handler=handler, host=host, strict_slashes=strict_slashes, version=version, name=name))\n        return (routes, handler)\n    return response",
                            "def get(self, uri, host=None, strict_slashes=None, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **GET** *HTTP* method\n\n    :param uri: URL to be tagged to **GET** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'GET'}), host=host, strict_slashes=strict_slashes, version=version, name=name)",
                            "def post(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **POST** *HTTP* method\n\n    :param uri: URL to be tagged to **POST** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'POST'}), host=host, strict_slashes=strict_slashes, stream=stream, version=version, name=name)",
                            "def put(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **PUT** *HTTP* method\n\n    :param uri: URL to be tagged to **PUT** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'PUT'}), host=host, strict_slashes=strict_slashes, stream=stream, version=version, name=name)",
                            "def head(self, uri, host=None, strict_slashes=None, version=None, name=None):\n    return self.route(uri, methods=frozenset({'HEAD'}), host=host, strict_slashes=strict_slashes, version=version, name=name)",
                            "def options(self, uri, host=None, strict_slashes=None, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **OPTIONS** *HTTP* method\n\n    :param uri: URL to be tagged to **OPTIONS** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'OPTIONS'}), host=host, strict_slashes=strict_slashes, version=version, name=name)",
                            "def patch(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **PATCH** *HTTP* method\n\n    :param uri: URL to be tagged to **PATCH** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'PATCH'}), host=host, strict_slashes=strict_slashes, stream=stream, version=version, name=name)",
                            "def delete(self, uri, host=None, strict_slashes=None, version=None, name=None):\n    \"\"\"\n    Add an API URL under the **DELETE** *HTTP* method\n\n    :param uri: URL to be tagged to **DELETE** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(uri, methods=frozenset({'DELETE'}), host=host, strict_slashes=strict_slashes, version=version, name=name)",
                            "def add_route(self, handler, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, version=None, name=None, stream=False):\n    \"\"\"A helper method to register class instance or\n    functions as a handler to the application url\n    routes.\n\n    :param handler: function or class instance\n    :param uri: path of the URL\n    :param methods: list or tuple of methods allowed, these are overridden\n                    if using a HTTPMethodView\n    :param host:\n    :param strict_slashes:\n    :param version:\n    :param name: user defined route name for url_for\n    :param stream: boolean specifying if the handler is a stream handler\n    :return: function or class instance\n    \"\"\"\n    if hasattr(handler, 'view_class'):\n        methods = set()\n        for method in HTTP_METHODS:\n            _handler = getattr(handler.view_class, method.lower(), None)\n            if _handler:\n                methods.add(method)\n                if hasattr(_handler, 'is_stream'):\n                    stream = True\n    if isinstance(handler, CompositionView):\n        methods = handler.handlers.keys()\n        for _handler in handler.handlers.values():\n            if hasattr(_handler, 'is_stream'):\n                stream = True\n                break\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n    self.route(uri=uri, methods=methods, host=host, strict_slashes=strict_slashes, stream=stream, version=version, name=name)(handler)\n    return handler",
                            "def websocket(self, uri, host=None, strict_slashes=None, subprotocols=None, name=None):\n    \"\"\"\n    Decorate a function to be registered as a websocket route\n\n    :param uri: path of the URL\n    :param host: Host IP or FQDN details\n    :param strict_slashes: If the API endpoint needs to terminate\n                           with a \"/\" or not\n    :param subprotocols: optional list of str with supported subprotocols\n    :param name: A unique name assigned to the URL so that it can\n                 be used with :func:`url_for`\n    :return: tuple of routes, decorated function\n    \"\"\"\n    self.enable_websocket()\n    if not uri.startswith('/'):\n        uri = '/' + uri\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    def response(handler):\n        if isinstance(handler, tuple):\n            routes, handler = handler\n        else:\n            routes = []\n\n        async def websocket_handler(request, *args, **kwargs):\n            request.app = self\n            if not getattr(handler, '__blueprintname__', False):\n                request.endpoint = handler.__name__\n            else:\n                request.endpoint = getattr(handler, '__blueprintname__', '') + handler.__name__\n                pass\n            if self.asgi:\n                ws = request.transport.get_websocket_connection()\n            else:\n                protocol = request.transport.get_protocol()\n                protocol.app = self\n                ws = await protocol.websocket_handshake(request, subprotocols)\n            fut = ensure_future(handler(request, ws, *args, **kwargs))\n            self.websocket_tasks.add(fut)\n            try:\n                await fut\n            except (CancelledError, ConnectionClosed):\n                pass\n            finally:\n                self.websocket_tasks.remove(fut)\n            await ws.close()\n        routes.extend(self.router.add(uri=uri, handler=websocket_handler, methods=frozenset({'GET'}), host=host, strict_slashes=strict_slashes, name=name))\n        return (routes, handler)\n    return response",
                            "def add_websocket_route(self, handler, uri, host=None, strict_slashes=None, subprotocols=None, name=None):\n    \"\"\"\n    A helper method to register a function as a websocket route.\n\n    :param handler: a callable function or instance of a class\n                    that can handle the websocket request\n    :param host: Host IP or FQDN details\n    :param uri: URL path that will be mapped to the websocket\n                handler\n                handler\n    :param strict_slashes: If the API endpoint needs to terminate\n            with a \"/\" or not\n    :param subprotocols: Subprotocols to be used with websocket\n            handshake\n    :param name: A unique name assigned to the URL so that it can\n            be used with :func:`url_for`\n    :return: Objected decorated by :func:`websocket`\n    \"\"\"\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n    return self.websocket(uri, host=host, strict_slashes=strict_slashes, subprotocols=subprotocols, name=name)(handler)",
                            "def enable_websocket(self, enable=True):\n    \"\"\"Enable or disable the support for websocket.\n\n    Websocket is enabled automatically if websocket routes are\n    added to the application.\n    \"\"\"\n    if not self.websocket_enabled:\n\n        @self.listener('before_server_stop')\n        def cancel_websocket_tasks(app, loop):\n            for task in self.websocket_tasks:\n                task.cancel()\n    self.websocket_enabled = enable",
                            "def exception(self, *exceptions):\n    \"\"\"Decorate a function to be registered as a handler for exceptions\n\n    :param exceptions: exceptions\n    :return: decorated function\n    \"\"\"\n\n    def response(handler):\n        for exception in exceptions:\n            if isinstance(exception, (tuple, list)):\n                for e in exception:\n                    self.error_handler.add(e, handler)\n            else:\n                self.error_handler.add(exception, handler)\n        return handler\n    return response",
                            "def register_middleware(self, middleware, attach_to='request'):\n    \"\"\"\n    Register an application level middleware that will be attached\n    to all the API URLs registered under this application.\n\n    This method is internally invoked by the :func:`middleware`\n    decorator provided at the app level.\n\n    :param middleware: Callback method to be attached to the\n        middleware\n    :param attach_to: The state at which the middleware needs to be\n        invoked in the lifecycle of an *HTTP Request*.\n        **request** - Invoke before the request is processed\n        **response** - Invoke before the response is returned back\n    :return: decorated method\n    \"\"\"\n    if attach_to == 'request':\n        if middleware not in self.request_middleware:\n            self.request_middleware.append(middleware)\n    if attach_to == 'response':\n        if middleware not in self.response_middleware:\n            self.response_middleware.appendleft(middleware)\n    return middleware",
                            "def register_named_middleware(self, middleware, route_names, attach_to='request'):\n    if attach_to == 'request':\n        for _rn in route_names:\n            if _rn not in self.named_request_middleware:\n                self.named_request_middleware[_rn] = deque()\n            if middleware not in self.named_request_middleware[_rn]:\n                self.named_request_middleware[_rn].append(middleware)\n    if attach_to == 'response':\n        for _rn in route_names:\n            if _rn not in self.named_response_middleware:\n                self.named_response_middleware[_rn] = deque()\n            if middleware not in self.named_response_middleware[_rn]:\n                self.named_response_middleware[_rn].append(middleware)",
                            "def middleware(self, middleware_or_request):\n    \"\"\"\n    Decorate and register middleware to be called before a request.\n    Can either be called as *@app.middleware* or\n    *@app.middleware('request')*\n\n    :param: middleware_or_request: Optional parameter to use for\n        identifying which type of middleware is being registered.\n    \"\"\"\n    if callable(middleware_or_request):\n        return self.register_middleware(middleware_or_request)\n    else:\n        return partial(self.register_middleware, attach_to=middleware_or_request)",
                            "def static(self, uri, file_or_directory, pattern='/?.+', use_modified_since=True, use_content_range=False, stream_large_files=False, name='static', host=None, strict_slashes=None, content_type=None):\n    \"\"\"\n    Register a root to serve files from. The input can either be a\n    file or a directory. This method will enable an easy and simple way\n    to setup the :class:`Route` necessary to serve the static files.\n\n    :param uri: URL path to be used for serving static content\n    :param file_or_directory: Path for the Static file/directory with\n        static files\n    :param pattern: Regex Pattern identifying the valid static files\n    :param use_modified_since: If true, send file modified time, and return\n        not modified if the browser's matches the server's\n    :param use_content_range: If true, process header for range requests\n        and sends the file part that is requested\n    :param stream_large_files: If true, use the\n        :func:`StreamingHTTPResponse.file_stream` handler rather\n        than the :func:`HTTPResponse.file` handler to send the file.\n        If this is an integer, this represents the threshold size to\n        switch to :func:`StreamingHTTPResponse.file_stream`\n    :param name: user defined name used for url_for\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param content_type: user defined content type for header\n    :return: None\n    \"\"\"\n    static_register(self, uri, file_or_directory, pattern, use_modified_since, use_content_range, stream_large_files, name, host, strict_slashes, content_type)",
                            "def blueprint(self, blueprint, **options):\n    \"\"\"Register a blueprint on the application.\n\n    :param blueprint: Blueprint object or (list, tuple) thereof\n    :param options: option dictionary with blueprint defaults\n    :return: Nothing\n    \"\"\"\n    if isinstance(blueprint, (list, tuple, BlueprintGroup)):\n        for item in blueprint:\n            self.blueprint(item, **options)\n        return\n    if blueprint.name in self.blueprints:\n        assert self.blueprints[blueprint.name] is blueprint, 'A blueprint with the name \"%s\" is already registered.  Blueprint names must be unique.' % (blueprint.name,)\n    else:\n        self.blueprints[blueprint.name] = blueprint\n        self._blueprint_order.append(blueprint)\n    blueprint.register(self, options)",
                            "def register_blueprint(self, *args, **kwargs):\n    \"\"\"\n    Proxy method provided for invoking the :func:`blueprint` method\n\n    .. note::\n        To be deprecated in 1.0. Use :func:`blueprint` instead.\n\n    :param args: Blueprint object or (list, tuple) thereof\n    :param kwargs: option dictionary with blueprint defaults\n    :return: None\n    \"\"\"\n    if self.debug:\n        warnings.simplefilter('default')\n    warnings.warn('Use of register_blueprint will be deprecated in version 1.0.  Please use the blueprint method instead', DeprecationWarning)\n    return self.blueprint(*args, **kwargs)",
                            "def url_for(self, view_name: str, **kwargs):\n    \"\"\"Build a URL based on a view name and the values provided.\n\n    In order to build a URL, all request parameters must be supplied as\n    keyword arguments, and each parameter must pass the test for the\n    specified parameter type. If these conditions are not met, a\n    `URLBuildError` will be thrown.\n\n    Keyword arguments that are not request parameters will be included in\n    the output URL's query string.\n\n    :param view_name: string referencing the view name\n    :param \\\\**kwargs: keys and values that are used to build request\n        parameters and query string arguments.\n\n    :return: the built URL\n\n    Raises:\n        URLBuildError\n    \"\"\"\n    kw: Dict[str, str] = {}\n    if view_name == 'static':\n        kw.update(name=kwargs.pop('name', 'static'))\n    elif view_name.endswith('.static'):\n        kwargs.pop('name', None)\n        kw.update(name=view_name)\n    uri, route = self.router.find_route_by_view_name(view_name, **kw)\n    if not (uri and route):\n        raise URLBuildError(f'Endpoint with name `{view_name}` was not found')\n    host = uri.find('/')\n    if host > 0:\n        host, uri = (uri[:host], uri[host:])\n    else:\n        host = None\n    if view_name == 'static' or view_name.endswith('.static'):\n        filename = kwargs.pop('filename', None)\n        if '<file_uri:' in uri:\n            folder_ = uri.split('<file_uri:', 1)[0]\n            if folder_.endswith('/'):\n                folder_ = folder_[:-1]\n            if filename.startswith('/'):\n                filename = filename[1:]\n            uri = f'{folder_}/{filename}'\n    if uri != '/' and uri.endswith('/'):\n        uri = uri[:-1]\n    out = uri\n    matched_params = re.findall(self.router.parameter_pattern, uri)\n    kwargs.pop('_method', None)\n    anchor = kwargs.pop('_anchor', '')\n    external = kwargs.pop('_external', False)\n    scheme = kwargs.pop('_scheme', '')\n    if scheme and (not external):\n        raise ValueError('When specifying _scheme, _external must be True')\n    netloc = kwargs.pop('_server', None)\n    if netloc is None and external:\n        netloc = host or self.config.get('SERVER_NAME', '')\n    if external:\n        if not scheme:\n            if ':' in netloc[:8]:\n                scheme = netloc[:8].split(':', 1)[0]\n            else:\n                scheme = 'http'\n        if '://' in netloc[:8]:\n            netloc = netloc.split('://', 1)[-1]\n    for match in matched_params:\n        name, _type, pattern = self.router.parse_parameter_string(match)\n        specific_pattern = f'^{pattern}$'\n        supplied_param = None\n        if name in kwargs:\n            supplied_param = kwargs.get(name)\n            del kwargs[name]\n        else:\n            raise URLBuildError(f'Required parameter `{name}` was not passed to url_for')\n        supplied_param = str(supplied_param)\n        passes_pattern = re.match(specific_pattern, supplied_param)\n        if not passes_pattern:\n            if _type != str:\n                type_name = _type.__name__\n                msg = f'Value \"{supplied_param}\" for parameter `{name}` does not match pattern for type `{type_name}`: {pattern}'\n            else:\n                msg = f'Value \"{supplied_param}\" for parameter `{name}` does not satisfy pattern {pattern}'\n            raise URLBuildError(msg)\n        replacement_regex = f'(<{name}.*?>)'\n        out = re.sub(replacement_regex, supplied_param, out)\n    query_string = urlencode(kwargs, doseq=True) if kwargs else ''\n    out = urlunparse((scheme, netloc, out, '', query_string, anchor))\n    return out",
                            "def converted_response_type(self, response):\n    \"\"\"\n    No implementation provided.\n    \"\"\"\n    pass",
                            "async def handle_request(self, request, write_callback, stream_callback):\n    \"\"\"Take a request from the HTTP Server and return a response object\n    to be sent back The HTTP Server only expects a response object, so\n    exception handling must be done here\n\n    :param request: HTTP Request object\n    :param write_callback: Synchronous response function to be\n        called with the response as the only argument\n    :param stream_callback: Coroutine that handles streaming a\n        StreamingHTTPResponse if produced by the handler.\n\n    :return: Nothing\n    \"\"\"\n    response = None\n    cancelled = False\n    name = None\n    try:\n        handler, args, kwargs, uri, name = self.router.get(request)\n        response = await self._run_request_middleware(request, request_name=name)\n        if not response:\n            request.uri_template = uri\n            if handler is None:\n                raise ServerError(\"'None' was returned while requesting a handler from the router\")\n            elif not getattr(handler, '__blueprintname__', False):\n                request.endpoint = self._build_endpoint_name(handler.__name__)\n            else:\n                request.endpoint = self._build_endpoint_name(getattr(handler, '__blueprintname__', ''), handler.__name__)\n            response = handler(request, *args, **kwargs)\n            if isawaitable(response):\n                response = await response\n    except CancelledError:\n        response = None\n        cancelled = True\n    except Exception as e:\n        try:\n            response = self.error_handler.response(request, e)\n            if isawaitable(response):\n                response = await response\n        except Exception as e:\n            if isinstance(e, SanicException):\n                response = self.error_handler.default(request=request, exception=e)\n            elif self.debug:\n                response = HTTPResponse(f'Error while handling error: {e}\\nStack: {format_exc()}', status=500)\n            else:\n                response = HTTPResponse('An error occurred while handling an error', status=500)\n    finally:\n        if response is not None:\n            try:\n                response = await self._run_response_middleware(request, response, request_name=name)\n            except CancelledError:\n                response = None\n                cancelled = True\n            except BaseException:\n                error_logger.exception('Exception occurred in one of response middleware handlers')\n        if cancelled:\n            raise CancelledError()\n    if write_callback is None or isinstance(response, StreamingHTTPResponse):\n        if stream_callback:\n            await stream_callback(response)\n        else:\n            pass\n    else:\n        write_callback(response)",
                            "@property\ndef test_client(self):\n    return SanicTestClient(self)",
                            "@property\ndef asgi_client(self):\n    return SanicASGITestClient(self)",
                            "def run(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, workers: int=1, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, register_sys_signals: bool=True, access_log: Optional[bool]=None, **kwargs: Any) -> None:\n    \"\"\"Run the HTTP Server and listen until keyboard interrupt or term\n    signal. On termination, drain connections before closing.\n\n    :param host: Address to host on\n    :type host: str\n    :param port: Port to host on\n    :type port: int\n    :param debug: Enables debug output (slows server)\n    :type debug: bool\n    :param ssl: SSLContext, or location of certificate and key\n                for SSL encryption of worker(s)\n    :type ssl: SSLContext or dict\n    :param sock: Socket for the server to accept connections from\n    :type sock: socket\n    :param workers: Number of processes received before it is respected\n    :type workers: int\n    :param protocol: Subclass of asyncio Protocol class\n    :type protocol: type[Protocol]\n    :param backlog: a number of unaccepted connections that the system\n                    will allow before refusing new connections\n    :type backlog: int\n    :param stop_event: event to be triggered\n                       before stopping the app - deprecated\n    :type stop_event: None\n    :param register_sys_signals: Register SIG* events\n    :type register_sys_signals: bool\n    :param access_log: Enables writing access logs (slows server)\n    :type access_log: bool\n    :return: Nothing\n    \"\"\"\n    if 'loop' in kwargs:\n        raise TypeError('loop is not a valid argument. To use an existing loop, change to create_server().\\nSee more: https://sanic.readthedocs.io/en/latest/sanic/deploying.html#asynchronous-support')\n    auto_reload = False\n    if debug and os.name == 'posix':\n        auto_reload = True\n    auto_reload = kwargs.get('auto_reload', auto_reload)\n    if sock is None:\n        host, port = (host or '127.0.0.1', port or 8000)\n    if protocol is None:\n        protocol = WebSocketProtocol if self.websocket_enabled else HttpProtocol\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter('default')\n        warnings.warn('stop_event will be removed from future versions.', DeprecationWarning)\n    if access_log is not None:\n        self.config.ACCESS_LOG = access_log\n    server_settings = self._helper(host=host, port=port, debug=debug, ssl=ssl, sock=sock, workers=workers, protocol=protocol, backlog=backlog, register_sys_signals=register_sys_signals, auto_reload=auto_reload)\n    try:\n        self.is_running = True\n        self.is_stopping = False\n        if workers > 1 and os.name != 'posix':\n            logger.warn(f'Multiprocessing is currently not supported on {os.name}, using workers=1 instead')\n            workers = 1\n        if workers == 1:\n            if auto_reload and os.name != 'posix':\n                raise NotImplementedError\n            if auto_reload and os.environ.get('SANIC_SERVER_RUNNING') != 'true':\n                reloader_helpers.watchdog(2)\n            else:\n                serve(**server_settings)\n        else:\n            serve_multiple(server_settings, workers)\n    except BaseException:\n        error_logger.exception('Experienced exception while trying to serve')\n        raise\n    finally:\n        self.is_running = False\n    logger.info('Server Stopped')",
                            "def stop(self):\n    \"\"\"This kills the Sanic\"\"\"\n    if not self.is_stopping:\n        self.is_stopping = True\n        get_event_loop().stop()",
                            "async def create_server(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, access_log: Optional[bool]=None, return_asyncio_server=False, asyncio_server_kwargs=None) -> Optional[AsyncioServer]:\n    \"\"\"\n    Asynchronous version of :func:`run`.\n\n    This method will take care of the operations necessary to invoke\n    the *before_start* events via :func:`trigger_events` method invocation\n    before starting the *sanic* app in Async mode.\n\n    .. note::\n        This does not support multiprocessing and is not the preferred\n        way to run a :class:`Sanic` application.\n\n    :param host: Address to host on\n    :type host: str\n    :param port: Port to host on\n    :type port: int\n    :param debug: Enables debug output (slows server)\n    :type debug: bool\n    :param ssl: SSLContext, or location of certificate and key\n                for SSL encryption of worker(s)\n    :type ssl: SSLContext or dict\n    :param sock: Socket for the server to accept connections from\n    :type sock: socket\n    :param protocol: Subclass of asyncio Protocol class\n    :type protocol: type[Protocol]\n    :param backlog: a number of unaccepted connections that the system\n                    will allow before refusing new connections\n    :type backlog: int\n    :param stop_event: event to be triggered\n                       before stopping the app - deprecated\n    :type stop_event: None\n    :param access_log: Enables writing access logs (slows server)\n    :type access_log: bool\n    :param return_asyncio_server: flag that defines whether there's a need\n                                  to return asyncio.Server or\n                                  start it serving right away\n    :type return_asyncio_server: bool\n    :param asyncio_server_kwargs: key-value arguments for\n                                  asyncio/uvloop create_server method\n    :type asyncio_server_kwargs: dict\n    :return: AsyncioServer if return_asyncio_server is true, else Nothing\n    \"\"\"\n    if sock is None:\n        host, port = (host or '127.0.0.1', port or 8000)\n    if protocol is None:\n        protocol = WebSocketProtocol if self.websocket_enabled else HttpProtocol\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter('default')\n        warnings.warn('stop_event will be removed from future versions.', DeprecationWarning)\n    if access_log is not None:\n        self.config.ACCESS_LOG = access_log\n    server_settings = self._helper(host=host, port=port, debug=debug, ssl=ssl, sock=sock, loop=get_event_loop(), protocol=protocol, backlog=backlog, run_async=return_asyncio_server)\n    await self.trigger_events(server_settings.get('before_start', []), server_settings.get('loop'))\n    return await serve(asyncio_server_kwargs=asyncio_server_kwargs, **server_settings)",
                            "async def trigger_events(self, events, loop):\n    \"\"\"Trigger events (functions or async)\n    :param events: one or more sync or async functions to execute\n    :param loop: event loop\n    \"\"\"\n    for event in events:\n        result = event(loop)\n        if isawaitable(result):\n            await result",
                            "async def _run_request_middleware(self, request, request_name=None):\n    named_middleware = self.named_request_middleware.get(request_name, deque())\n    applicable_middleware = self.request_middleware + named_middleware\n    if applicable_middleware:\n        for middleware in applicable_middleware:\n            response = middleware(request)\n            if isawaitable(response):\n                response = await response\n            if response:\n                return response\n    return None",
                            "async def _run_response_middleware(self, request, response, request_name=None):\n    named_middleware = self.named_response_middleware.get(request_name, deque())\n    applicable_middleware = self.response_middleware + named_middleware\n    if applicable_middleware:\n        for middleware in applicable_middleware:\n            _response = middleware(request, response)\n            if isawaitable(_response):\n                _response = await _response\n            if _response:\n                response = _response\n                break\n    return response",
                            "def _helper(self, host=None, port=None, debug=False, ssl=None, sock=None, workers=1, loop=None, protocol=HttpProtocol, backlog=100, stop_event=None, register_sys_signals=True, run_async=False, auto_reload=False):\n    \"\"\"Helper function used by `run` and `create_server`.\"\"\"\n    if isinstance(ssl, dict):\n        cert = ssl.get('cert') or ssl.get('certificate')\n        key = ssl.get('key') or ssl.get('keyfile')\n        if cert is None or key is None:\n            raise ValueError('SSLContext or certificate and key required.')\n        context = create_default_context(purpose=Purpose.CLIENT_AUTH)\n        context.load_cert_chain(cert, keyfile=key)\n        ssl = context\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter('default')\n        warnings.warn('stop_event will be removed from future versions.', DeprecationWarning)\n    if self.config.PROXIES_COUNT and self.config.PROXIES_COUNT < 0:\n        raise ValueError('PROXIES_COUNT cannot be negative. https://sanic.readthedocs.io/en/latest/sanic/config.html#proxy-configuration')\n    self.error_handler.debug = debug\n    self.debug = debug\n    server_settings = {'protocol': protocol, 'host': host, 'port': port, 'sock': sock, 'ssl': ssl, 'app': self, 'signal': Signal(), 'loop': loop, 'register_sys_signals': register_sys_signals, 'backlog': backlog}\n    for event_name, settings_name, reverse in (('before_server_start', 'before_start', False), ('after_server_start', 'after_start', False), ('before_server_stop', 'before_stop', True), ('after_server_stop', 'after_stop', True)):\n        listeners = self.listeners[event_name].copy()\n        if reverse:\n            listeners.reverse()\n        listeners = [partial(listener, self) for listener in listeners]\n        server_settings[settings_name] = listeners\n    if self.configure_logging and debug:\n        logger.setLevel(logging.DEBUG)\n    if self.config.LOGO and os.environ.get('SANIC_SERVER_RUNNING') != 'true':\n        logger.debug(self.config.LOGO if isinstance(self.config.LOGO, str) else BASE_LOGO)\n    if run_async:\n        server_settings['run_async'] = True\n    if host and port and (os.environ.get('SANIC_SERVER_RUNNING') != 'true'):\n        proto = 'http'\n        if ssl is not None:\n            proto = 'https'\n        logger.info(f\"Goin' Fast @ {proto}://{host}:{port}\")\n    return server_settings",
                            "def _build_endpoint_name(self, *parts):\n    parts = [self.name, *parts]\n    return '.'.join(parts)",
                            "async def __call__(self, scope, receive, send):\n    \"\"\"To be ASGI compliant, our instance must be a callable that accepts\n    three arguments: scope, receive, send. See the ASGI reference for more\n    details: https://asgi.readthedocs.io/en/latest/\"\"\"\n    self.asgi = True\n    asgi_app = await ASGIApp.create(self, scope, receive, send)\n    await asgi_app()",
                            "def decorator(listener):\n    self.listeners[event].append(listener)\n    return listener",
                            "def response(handler):\n    if isinstance(handler, tuple):\n        routes, handler = handler\n    else:\n        routes = []\n    args = list(signature(handler).parameters.keys())\n    if not args:\n        handler_name = handler.__name__\n        raise ValueError(f'Required parameter `request` missing in the {handler_name}() route?')\n    if stream:\n        handler.is_stream = stream\n    routes.extend(self.router.add(uri=uri, methods=methods, handler=handler, host=host, strict_slashes=strict_slashes, version=version, name=name))\n    return (routes, handler)",
                            "def response(handler):\n    if isinstance(handler, tuple):\n        routes, handler = handler\n    else:\n        routes = []\n\n    async def websocket_handler(request, *args, **kwargs):\n        request.app = self\n        if not getattr(handler, '__blueprintname__', False):\n            request.endpoint = handler.__name__\n        else:\n            request.endpoint = getattr(handler, '__blueprintname__', '') + handler.__name__\n            pass\n        if self.asgi:\n            ws = request.transport.get_websocket_connection()\n        else:\n            protocol = request.transport.get_protocol()\n            protocol.app = self\n            ws = await protocol.websocket_handshake(request, subprotocols)\n        fut = ensure_future(handler(request, ws, *args, **kwargs))\n        self.websocket_tasks.add(fut)\n        try:\n            await fut\n        except (CancelledError, ConnectionClosed):\n            pass\n        finally:\n            self.websocket_tasks.remove(fut)\n        await ws.close()\n    routes.extend(self.router.add(uri=uri, handler=websocket_handler, methods=frozenset({'GET'}), host=host, strict_slashes=strict_slashes, name=name))\n    return (routes, handler)",
                            "def response(handler):\n    for exception in exceptions:\n        if isinstance(exception, (tuple, list)):\n            for e in exception:\n                self.error_handler.add(e, handler)\n        else:\n            self.error_handler.add(exception, handler)\n    return handler",
                            "async def websocket_handler(request, *args, **kwargs):\n    request.app = self\n    if not getattr(handler, '__blueprintname__', False):\n        request.endpoint = handler.__name__\n    else:\n        request.endpoint = getattr(handler, '__blueprintname__', '') + handler.__name__\n        pass\n    if self.asgi:\n        ws = request.transport.get_websocket_connection()\n    else:\n        protocol = request.transport.get_protocol()\n        protocol.app = self\n        ws = await protocol.websocket_handshake(request, subprotocols)\n    fut = ensure_future(handler(request, ws, *args, **kwargs))\n    self.websocket_tasks.add(fut)\n    try:\n        await fut\n    except (CancelledError, ConnectionClosed):\n        pass\n    finally:\n        self.websocket_tasks.remove(fut)\n    await ws.close()",
                            "@self.listener('before_server_stop')\ndef cancel_websocket_tasks(app, loop):\n    for task in self.websocket_tasks:\n        task.cancel()",
                            "@self.listener('before_server_start')\ndef run(app, loop):\n    if callable(task):\n        try:\n            loop.create_task(task(self))\n        except TypeError:\n            loop.create_task(task())\n    else:\n        loop.create_task(task)"
                        ],
                        "constructor_variables": [
                            "request_class",
                            "router",
                            "_blueprint_order",
                            "asgi",
                            "named_request_middleware",
                            "blueprints",
                            "listeners",
                            "configure_logging",
                            "sock",
                            "websocket_enabled",
                            "websocket_tasks",
                            "error_handler",
                            "frame_records",
                            "is_stopping",
                            "strict_slashes",
                            "response_middleware",
                            "is_running",
                            "name",
                            "go_fast",
                            "named_response_middleware",
                            "request_middleware",
                            "debug",
                            "config",
                            "is_request_stream"
                        ],
                        "class_level_variables": [],
                        "class_decorators": [],
                        "function_signatures": [
                            "__init__(self, name=None, router=None, error_handler=None, load_env=True, request_class=None, strict_slashes=False, log_config=None, configure_logging=True)",
                            "loop(self)",
                            "add_task(self, task)",
                            "listener(self, event)",
                            "register_listener(self, listener, event)",
                            "route(self, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, stream=False, version=None, name=None)",
                            "get(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                            "post(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                            "put(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                            "head(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                            "options(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                            "patch(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                            "delete(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                            "add_route(self, handler, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, version=None, name=None, stream=False)",
                            "websocket(self, uri, host=None, strict_slashes=None, subprotocols=None, name=None)",
                            "add_websocket_route(self, handler, uri, host=None, strict_slashes=None, subprotocols=None, name=None)",
                            "enable_websocket(self, enable=True)",
                            "exception(self, *exceptions)",
                            "register_middleware(self, middleware, attach_to='request')",
                            "register_named_middleware(self, middleware, route_names, attach_to='request')",
                            "middleware(self, middleware_or_request)",
                            "static(self, uri, file_or_directory, pattern='/?.+', use_modified_since=True, use_content_range=False, stream_large_files=False, name='static', host=None, strict_slashes=None, content_type=None)",
                            "blueprint(self, blueprint, **options)",
                            "register_blueprint(self, *args, **kwargs)",
                            "url_for(self, view_name: str, **kwargs)",
                            "converted_response_type(self, response)",
                            "handle_request(self, request, write_callback, stream_callback)",
                            "test_client(self)",
                            "asgi_client(self)",
                            "run(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, workers: int=1, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, register_sys_signals: bool=True, access_log: Optional[bool]=None, **kwargs: Any) -> None",
                            "stop(self)",
                            "create_server(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, access_log: Optional[bool]=None, return_asyncio_server=False, asyncio_server_kwargs=None) -> Optional[AsyncioServer]",
                            "trigger_events(self, events, loop)",
                            "_run_request_middleware(self, request, request_name=None)",
                            "_run_response_middleware(self, request, response, request_name=None)",
                            "_helper(self, host=None, port=None, debug=False, ssl=None, sock=None, workers=1, loop=None, protocol=HttpProtocol, backlog=100, stop_event=None, register_sys_signals=True, run_async=False, auto_reload=False)",
                            "_build_endpoint_name(self, *parts)",
                            "__call__(self, scope, receive, send)",
                            "decorator(listener)",
                            "response(handler)",
                            "response(handler)",
                            "response(handler)",
                            "websocket_handler(request, *args, **kwargs)",
                            "cancel_websocket_tasks(app, loop)",
                            "run(app, loop)"
                        ]
                    },
                    "variable_values": [
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_5 at 0x103bb5d30>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_5 at 0x103bb5d30>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>, <function test_bp_middleware_order.<locals>.mw_5 at 0x103bb5d30>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_6 at 0x103bb5dc0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>, <function test_bp_middleware_order.<locals>.mw_5 at 0x103bb5d30>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x103bb5af0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x103bb5b80>, <function test_bp_middleware_order.<locals>.mw_3 at 0x103bb5c10>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x103bbc100>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_6 at 0x103bb5dc0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x103bb5ca0>, <function test_bp_middleware_order.<locals>.mw_5 at 0x103bb5d30>, <function test_bp_middleware_order.<locals>.mw_6 at 0x103bb5dc0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'request'",
                                    "variable_type": "str",
                                    "variable_shape": "7"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{}",
                                    "variable_type": "dict",
                                    "variable_shape": "0"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_5 at 0x10f975040>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_5 at 0x10f975040>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_5 at 0x10f975040>, <function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_6 at 0x10f9750d0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_5 at 0x10f975040>, <function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "attach_to": {
                                    "variable_value": "'response'",
                                    "variable_type": "str",
                                    "variable_shape": "8"
                                },
                                "_rn": {
                                    "variable_value": "'test_bp_middleware_order.process_response'",
                                    "variable_type": "str",
                                    "variable_shape": "41"
                                },
                                "route_names": {
                                    "variable_value": "['test_bp_middleware_order.process_response']",
                                    "variable_type": "list",
                                    "variable_shape": "1"
                                },
                                "self.named_request_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_1 at 0x10f91cdc0>, <function test_bp_middleware_order.<locals>.mw_2 at 0x10f91ce50>, <function test_bp_middleware_order.<locals>.mw_3 at 0x10f91cee0>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "self": {
                                    "variable_value": "<sanic.app.Sanic object at 0x10f3d9730>",
                                    "variable_type": "Sanic",
                                    "variable_shape": null
                                },
                                "deque": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "middleware": {
                                    "variable_value": "<function test_bp_middleware_order.<locals>.mw_6 at 0x10f9750d0>",
                                    "variable_type": "function",
                                    "variable_shape": null
                                },
                                "append": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.named_response_middleware": {
                                    "variable_value": "{'test_bp_middleware_order.process_response': deque([<function test_bp_middleware_order.<locals>.mw_6 at 0x10f9750d0>, <function test_bp_middleware_order.<locals>.mw_5 at 0x10f975040>, <function test_bp_middleware_order.<locals>.mw_4 at 0x10f91cf70>])}",
                                    "variable_type": "dict",
                                    "variable_shape": "1"
                                },
                                "appendleft": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                }
            ],
            "inscope_functions": [
                "def __init__(\n    self,\n    name=None,\n    router=None,\n    error_handler=None,\n    load_env=True,\n    request_class=None,\n    strict_slashes=False,\n    log_config=None,\n    configure_logging=True,\n):\n\n    # Get name from previous stack frame\n    if name is None:\n        warnings.warn(\n            \"Sanic(name=None) is deprecated and None value support \"\n            \"for `name` will be removed in the next release. \"\n            \"Please use Sanic(name='your_application_name') instead.\",\n            DeprecationWarning,\n            stacklevel=2,\n        )\n        frame_records = stack()[1]\n        name = getmodulename(frame_records[1])\n\n    # logging\n    if configure_logging:\n        logging.config.dictConfig(log_config or LOGGING_CONFIG_DEFAULTS)\n\n    self.name = name\n    self.asgi = False\n    self.router = router or Router()\n    self.request_class = request_class\n    self.error_handler = error_handler or ErrorHandler()\n    self.config = Config(load_env=load_env)\n    self.request_middleware = deque()\n    self.response_middleware = deque()\n    self.blueprints = {}\n    self._blueprint_order = []\n    self.configure_logging = configure_logging\n    self.debug = None\n    self.sock = None\n    self.strict_slashes = strict_slashes\n    self.listeners = defaultdict(list)\n    self.is_stopping = False\n    self.is_running = False\n    self.is_request_stream = False\n    self.websocket_enabled = False\n    self.websocket_tasks = set()\n    self.named_request_middleware = {}\n    self.named_response_middleware = {}\n    # Register alternative method names\n    self.go_fast = self.run",
                "@property\ndef loop(self):\n    \"\"\"Synonymous with asyncio.get_event_loop().\n\n    Only supported when using the `app.run` method.\n    \"\"\"\n    if not self.is_running and self.asgi is False:\n        raise SanicException(\n            \"Loop can only be retrieved after the app has started \"\n            \"running. Not supported with `create_server` function\"\n        )\n    return get_event_loop()",
                "def add_task(self, task):\n    \"\"\"Schedule a task to run later, after the loop has started.\n    Different from asyncio.ensure_future in that it does not\n    also return a future, and the actual ensure_future call\n    is delayed until before server start.\n\n    :param task: future, couroutine or awaitable\n    \"\"\"\n    try:\n        if callable(task):\n            try:\n                self.loop.create_task(task(self))\n            except TypeError:\n                self.loop.create_task(task())\n        else:\n            self.loop.create_task(task)\n    except SanicException:\n\n        @self.listener(\"before_server_start\")\n        def run(app, loop):\n            if callable(task):\n                try:\n                    loop.create_task(task(self))\n                except TypeError:\n                    loop.create_task(task())\n            else:\n                loop.create_task(task)",
                "def listener(self, event):\n    \"\"\"Create a listener from a decorated function.\n\n    :param event: event to listen to\n    \"\"\"\n\n    def decorator(listener):\n        self.listeners[event].append(listener)\n        return listener\n\n    return decorator",
                "def register_listener(self, listener, event):\n    \"\"\"\n    Register the listener for a given event.\n\n    :param listener: callable i.e. setup_db(app, loop)\n    :param event: when to register listener i.e. 'before_server_start'\n    :return: listener\n    \"\"\"\n\n    return self.listener(event)(listener)",
                "def route(\n    self,\n    uri,\n    methods=frozenset({\"GET\"}),\n    host=None,\n    strict_slashes=None,\n    stream=False,\n    version=None,\n    name=None,\n):\n    \"\"\"Decorate a function to be registered as a route\n\n    :param uri: path of the URL\n    :param methods: list or tuple of methods allowed\n    :param host:\n    :param strict_slashes:\n    :param stream:\n    :param version:\n    :param name: user defined route name for url_for\n    :return: tuple of routes, decorated function\n    \"\"\"\n\n    # Fix case where the user did not prefix the URL with a /\n    # and will probably get confused as to why it's not working\n    if not uri.startswith(\"/\"):\n        uri = \"/\" + uri\n\n    if stream:\n        self.is_request_stream = True\n\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    def response(handler):\n        if isinstance(handler, tuple):\n            # if a handler fn is already wrapped in a route, the handler\n            # variable will be a tuple of (existing routes, handler fn)\n            routes, handler = handler\n        else:\n            routes = []\n        args = list(signature(handler).parameters.keys())\n\n        if not args:\n            handler_name = handler.__name__\n\n            raise ValueError(\n                f\"Required parameter `request` missing \"\n                f\"in the {handler_name}() route?\"\n            )\n\n        if stream:\n            handler.is_stream = stream\n\n        routes.extend(\n            self.router.add(\n                uri=uri,\n                methods=methods,\n                handler=handler,\n                host=host,\n                strict_slashes=strict_slashes,\n                version=version,\n                name=name,\n            )\n        )\n        return routes, handler\n\n    return response",
                "def get(\n    self, uri, host=None, strict_slashes=None, version=None, name=None\n):\n    \"\"\"\n    Add an API URL under the **GET** *HTTP* method\n\n    :param uri: URL to be tagged to **GET** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"GET\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        version=version,\n        name=name,\n    )",
                "def post(\n    self,\n    uri,\n    host=None,\n    strict_slashes=None,\n    stream=False,\n    version=None,\n    name=None,\n):\n    \"\"\"\n    Add an API URL under the **POST** *HTTP* method\n\n    :param uri: URL to be tagged to **POST** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"POST\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        stream=stream,\n        version=version,\n        name=name,\n    )",
                "def put(\n    self,\n    uri,\n    host=None,\n    strict_slashes=None,\n    stream=False,\n    version=None,\n    name=None,\n):\n    \"\"\"\n    Add an API URL under the **PUT** *HTTP* method\n\n    :param uri: URL to be tagged to **PUT** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"PUT\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        stream=stream,\n        version=version,\n        name=name,\n    )",
                "def head(\n    self, uri, host=None, strict_slashes=None, version=None, name=None\n):\n    return self.route(\n        uri,\n        methods=frozenset({\"HEAD\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        version=version,\n        name=name,\n    )",
                "def options(\n    self, uri, host=None, strict_slashes=None, version=None, name=None\n):\n    \"\"\"\n    Add an API URL under the **OPTIONS** *HTTP* method\n\n    :param uri: URL to be tagged to **OPTIONS** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"OPTIONS\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        version=version,\n        name=name,\n    )",
                "def patch(\n    self,\n    uri,\n    host=None,\n    strict_slashes=None,\n    stream=False,\n    version=None,\n    name=None,\n):\n    \"\"\"\n    Add an API URL under the **PATCH** *HTTP* method\n\n    :param uri: URL to be tagged to **PATCH** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"PATCH\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        stream=stream,\n        version=version,\n        name=name,\n    )",
                "def delete(\n    self, uri, host=None, strict_slashes=None, version=None, name=None\n):\n    \"\"\"\n    Add an API URL under the **DELETE** *HTTP* method\n\n    :param uri: URL to be tagged to **DELETE** method of *HTTP*\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param version: API Version\n    :param name: Unique name that can be used to identify the Route\n    :return: Object decorated with :func:`route` method\n    \"\"\"\n    return self.route(\n        uri,\n        methods=frozenset({\"DELETE\"}),\n        host=host,\n        strict_slashes=strict_slashes,\n        version=version,\n        name=name,\n    )",
                "def add_route(\n    self,\n    handler,\n    uri,\n    methods=frozenset({\"GET\"}),\n    host=None,\n    strict_slashes=None,\n    version=None,\n    name=None,\n    stream=False,\n):\n    \"\"\"A helper method to register class instance or\n    functions as a handler to the application url\n    routes.\n\n    :param handler: function or class instance\n    :param uri: path of the URL\n    :param methods: list or tuple of methods allowed, these are overridden\n                    if using a HTTPMethodView\n    :param host:\n    :param strict_slashes:\n    :param version:\n    :param name: user defined route name for url_for\n    :param stream: boolean specifying if the handler is a stream handler\n    :return: function or class instance\n    \"\"\"\n    # Handle HTTPMethodView differently\n    if hasattr(handler, \"view_class\"):\n        methods = set()\n\n        for method in HTTP_METHODS:\n            _handler = getattr(handler.view_class, method.lower(), None)\n            if _handler:\n                methods.add(method)\n                if hasattr(_handler, \"is_stream\"):\n                    stream = True\n\n    # handle composition view differently\n    if isinstance(handler, CompositionView):\n        methods = handler.handlers.keys()\n        for _handler in handler.handlers.values():\n            if hasattr(_handler, \"is_stream\"):\n                stream = True\n                break\n\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    self.route(\n        uri=uri,\n        methods=methods,\n        host=host,\n        strict_slashes=strict_slashes,\n        stream=stream,\n        version=version,\n        name=name,\n    )(handler)\n    return handler",
                "def websocket(\n    self, uri, host=None, strict_slashes=None, subprotocols=None, name=None\n):\n    \"\"\"\n    Decorate a function to be registered as a websocket route\n\n    :param uri: path of the URL\n    :param host: Host IP or FQDN details\n    :param strict_slashes: If the API endpoint needs to terminate\n                           with a \"/\" or not\n    :param subprotocols: optional list of str with supported subprotocols\n    :param name: A unique name assigned to the URL so that it can\n                 be used with :func:`url_for`\n    :return: tuple of routes, decorated function\n    \"\"\"\n    self.enable_websocket()\n\n    # Fix case where the user did not prefix the URL with a /\n    # and will probably get confused as to why it's not working\n    if not uri.startswith(\"/\"):\n        uri = \"/\" + uri\n\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    def response(handler):\n        if isinstance(handler, tuple):\n            # if a handler fn is already wrapped in a route, the handler\n            # variable will be a tuple of (existing routes, handler fn)\n            routes, handler = handler\n        else:\n            routes = []\n\n        async def websocket_handler(request, *args, **kwargs):\n            request.app = self\n            if not getattr(handler, \"__blueprintname__\", False):\n                request.endpoint = handler.__name__\n            else:\n                request.endpoint = (\n                    getattr(handler, \"__blueprintname__\", \"\")\n                    + handler.__name__\n                )\n\n                pass\n\n            if self.asgi:\n                ws = request.transport.get_websocket_connection()\n            else:\n                protocol = request.transport.get_protocol()\n                protocol.app = self\n\n                ws = await protocol.websocket_handshake(\n                    request, subprotocols\n                )\n\n            # schedule the application handler\n            # its future is kept in self.websocket_tasks in case it\n            # needs to be cancelled due to the server being stopped\n            fut = ensure_future(handler(request, ws, *args, **kwargs))\n            self.websocket_tasks.add(fut)\n            try:\n                await fut\n            except (CancelledError, ConnectionClosed):\n                pass\n            finally:\n                self.websocket_tasks.remove(fut)\n            await ws.close()\n\n        routes.extend(\n            self.router.add(\n                uri=uri,\n                handler=websocket_handler,\n                methods=frozenset({\"GET\"}),\n                host=host,\n                strict_slashes=strict_slashes,\n                name=name,\n            )\n        )\n        return routes, handler\n\n    return response",
                "def add_websocket_route(\n    self,\n    handler,\n    uri,\n    host=None,\n    strict_slashes=None,\n    subprotocols=None,\n    name=None,\n):\n    \"\"\"\n    A helper method to register a function as a websocket route.\n\n    :param handler: a callable function or instance of a class\n                    that can handle the websocket request\n    :param host: Host IP or FQDN details\n    :param uri: URL path that will be mapped to the websocket\n                handler\n                handler\n    :param strict_slashes: If the API endpoint needs to terminate\n            with a \"/\" or not\n    :param subprotocols: Subprotocols to be used with websocket\n            handshake\n    :param name: A unique name assigned to the URL so that it can\n            be used with :func:`url_for`\n    :return: Objected decorated by :func:`websocket`\n    \"\"\"\n    if strict_slashes is None:\n        strict_slashes = self.strict_slashes\n\n    return self.websocket(\n        uri,\n        host=host,\n        strict_slashes=strict_slashes,\n        subprotocols=subprotocols,\n        name=name,\n    )(handler)",
                "def enable_websocket(self, enable=True):\n    \"\"\"Enable or disable the support for websocket.\n\n    Websocket is enabled automatically if websocket routes are\n    added to the application.\n    \"\"\"\n    if not self.websocket_enabled:\n        # if the server is stopped, we want to cancel any ongoing\n        # websocket tasks, to allow the server to exit promptly\n        @self.listener(\"before_server_stop\")\n        def cancel_websocket_tasks(app, loop):\n            for task in self.websocket_tasks:\n                task.cancel()\n\n    self.websocket_enabled = enable",
                "def exception(self, *exceptions):\n    \"\"\"Decorate a function to be registered as a handler for exceptions\n\n    :param exceptions: exceptions\n    :return: decorated function\n    \"\"\"\n\n    def response(handler):\n        for exception in exceptions:\n            if isinstance(exception, (tuple, list)):\n                for e in exception:\n                    self.error_handler.add(e, handler)\n            else:\n                self.error_handler.add(exception, handler)\n        return handler\n\n    return response",
                "def register_middleware(self, middleware, attach_to=\"request\"):\n    \"\"\"\n    Register an application level middleware that will be attached\n    to all the API URLs registered under this application.\n\n    This method is internally invoked by the :func:`middleware`\n    decorator provided at the app level.\n\n    :param middleware: Callback method to be attached to the\n        middleware\n    :param attach_to: The state at which the middleware needs to be\n        invoked in the lifecycle of an *HTTP Request*.\n        **request** - Invoke before the request is processed\n        **response** - Invoke before the response is returned back\n    :return: decorated method\n    \"\"\"\n    if attach_to == \"request\":\n        if middleware not in self.request_middleware:\n            self.request_middleware.append(middleware)\n    if attach_to == \"response\":\n        if middleware not in self.response_middleware:\n            self.response_middleware.appendleft(middleware)\n    return middleware",
                "def register_named_middleware(\n    self, middleware, route_names, attach_to=\"request\"\n):\n    if attach_to == \"request\":\n        for _rn in route_names:\n            if _rn not in self.named_request_middleware:\n                self.named_request_middleware[_rn] = deque()\n            if middleware not in self.named_request_middleware[_rn]:\n                self.named_request_middleware[_rn].append(middleware)\n    if attach_to == \"response\":\n        for _rn in route_names:\n            if _rn not in self.named_response_middleware:\n                self.named_response_middleware[_rn] = deque()\n            if middleware not in self.named_response_middleware[_rn]:\n                self.named_response_middleware[_rn].append(middleware)",
                "def middleware(self, middleware_or_request):\n    \"\"\"\n    Decorate and register middleware to be called before a request.\n    Can either be called as *@app.middleware* or\n    *@app.middleware('request')*\n\n    :param: middleware_or_request: Optional parameter to use for\n        identifying which type of middleware is being registered.\n    \"\"\"\n    # Detect which way this was called, @middleware or @middleware('AT')\n    if callable(middleware_or_request):\n        return self.register_middleware(middleware_or_request)\n\n    else:\n        return partial(\n            self.register_middleware, attach_to=middleware_or_request\n        )",
                "def static(\n    self,\n    uri,\n    file_or_directory,\n    pattern=r\"/?.+\",\n    use_modified_since=True,\n    use_content_range=False,\n    stream_large_files=False,\n    name=\"static\",\n    host=None,\n    strict_slashes=None,\n    content_type=None,\n):\n    \"\"\"\n    Register a root to serve files from. The input can either be a\n    file or a directory. This method will enable an easy and simple way\n    to setup the :class:`Route` necessary to serve the static files.\n\n    :param uri: URL path to be used for serving static content\n    :param file_or_directory: Path for the Static file/directory with\n        static files\n    :param pattern: Regex Pattern identifying the valid static files\n    :param use_modified_since: If true, send file modified time, and return\n        not modified if the browser's matches the server's\n    :param use_content_range: If true, process header for range requests\n        and sends the file part that is requested\n    :param stream_large_files: If true, use the\n        :func:`StreamingHTTPResponse.file_stream` handler rather\n        than the :func:`HTTPResponse.file` handler to send the file.\n        If this is an integer, this represents the threshold size to\n        switch to :func:`StreamingHTTPResponse.file_stream`\n    :param name: user defined name used for url_for\n    :param host: Host IP or FQDN for the service to use\n    :param strict_slashes: Instruct :class:`Sanic` to check if the request\n        URLs need to terminate with a */*\n    :param content_type: user defined content type for header\n    :return: None\n    \"\"\"\n    static_register(\n        self,\n        uri,\n        file_or_directory,\n        pattern,\n        use_modified_since,\n        use_content_range,\n        stream_large_files,\n        name,\n        host,\n        strict_slashes,\n        content_type,\n    )",
                "def blueprint(self, blueprint, **options):\n    \"\"\"Register a blueprint on the application.\n\n    :param blueprint: Blueprint object or (list, tuple) thereof\n    :param options: option dictionary with blueprint defaults\n    :return: Nothing\n    \"\"\"\n    if isinstance(blueprint, (list, tuple, BlueprintGroup)):\n        for item in blueprint:\n            self.blueprint(item, **options)\n        return\n    if blueprint.name in self.blueprints:\n        assert self.blueprints[blueprint.name] is blueprint, (\n            'A blueprint with the name \"%s\" is already registered.  '\n            \"Blueprint names must be unique.\" % (blueprint.name,)\n        )\n    else:\n        self.blueprints[blueprint.name] = blueprint\n        self._blueprint_order.append(blueprint)\n    blueprint.register(self, options)",
                "def register_blueprint(self, *args, **kwargs):\n    \"\"\"\n    Proxy method provided for invoking the :func:`blueprint` method\n\n    .. note::\n        To be deprecated in 1.0. Use :func:`blueprint` instead.\n\n    :param args: Blueprint object or (list, tuple) thereof\n    :param kwargs: option dictionary with blueprint defaults\n    :return: None\n    \"\"\"\n\n    if self.debug:\n        warnings.simplefilter(\"default\")\n    warnings.warn(\n        \"Use of register_blueprint will be deprecated in \"\n        \"version 1.0.  Please use the blueprint method\"\n        \" instead\",\n        DeprecationWarning,\n    )\n    return self.blueprint(*args, **kwargs)",
                "def url_for(self, view_name: str, **kwargs):\n    r\"\"\"Build a URL based on a view name and the values provided.\n\n    In order to build a URL, all request parameters must be supplied as\n    keyword arguments, and each parameter must pass the test for the\n    specified parameter type. If these conditions are not met, a\n    `URLBuildError` will be thrown.\n\n    Keyword arguments that are not request parameters will be included in\n    the output URL's query string.\n\n    :param view_name: string referencing the view name\n    :param \\**kwargs: keys and values that are used to build request\n        parameters and query string arguments.\n\n    :return: the built URL\n\n    Raises:\n        URLBuildError\n    \"\"\"\n    # find the route by the supplied view name\n    kw: Dict[str, str] = {}\n    # special static files url_for\n    if view_name == \"static\":\n        kw.update(name=kwargs.pop(\"name\", \"static\"))\n    elif view_name.endswith(\".static\"):  # blueprint.static\n        kwargs.pop(\"name\", None)\n        kw.update(name=view_name)\n\n    uri, route = self.router.find_route_by_view_name(view_name, **kw)\n    if not (uri and route):\n        raise URLBuildError(\n            f\"Endpoint with name `{view_name}` was not found\"\n        )\n\n    # If the route has host defined, split that off\n    # TODO: Retain netloc and path separately in Route objects\n    host = uri.find(\"/\")\n    if host > 0:\n        host, uri = uri[:host], uri[host:]\n    else:\n        host = None\n\n    if view_name == \"static\" or view_name.endswith(\".static\"):\n        filename = kwargs.pop(\"filename\", None)\n        # it's static folder\n        if \"<file_uri:\" in uri:\n            folder_ = uri.split(\"<file_uri:\", 1)[0]\n            if folder_.endswith(\"/\"):\n                folder_ = folder_[:-1]\n\n            if filename.startswith(\"/\"):\n                filename = filename[1:]\n\n            uri = f\"{folder_}/{filename}\"\n\n    if uri != \"/\" and uri.endswith(\"/\"):\n        uri = uri[:-1]\n\n    out = uri\n\n    # find all the parameters we will need to build in the URL\n    matched_params = re.findall(self.router.parameter_pattern, uri)\n\n    # _method is only a placeholder now, don't know how to support it\n    kwargs.pop(\"_method\", None)\n    anchor = kwargs.pop(\"_anchor\", \"\")\n    # _external need SERVER_NAME in config or pass _server arg\n    external = kwargs.pop(\"_external\", False)\n    scheme = kwargs.pop(\"_scheme\", \"\")\n    if scheme and not external:\n        raise ValueError(\"When specifying _scheme, _external must be True\")\n\n    netloc = kwargs.pop(\"_server\", None)\n    if netloc is None and external:\n        netloc = host or self.config.get(\"SERVER_NAME\", \"\")\n\n    if external:\n        if not scheme:\n            if \":\" in netloc[:8]:\n                scheme = netloc[:8].split(\":\", 1)[0]\n            else:\n                scheme = \"http\"\n\n        if \"://\" in netloc[:8]:\n            netloc = netloc.split(\"://\", 1)[-1]\n\n    for match in matched_params:\n        name, _type, pattern = self.router.parse_parameter_string(match)\n        # we only want to match against each individual parameter\n        specific_pattern = f\"^{pattern}$\"\n        supplied_param = None\n\n        if name in kwargs:\n            supplied_param = kwargs.get(name)\n            del kwargs[name]\n        else:\n            raise URLBuildError(\n                f\"Required parameter `{name}` was not passed to url_for\"\n            )\n\n        supplied_param = str(supplied_param)\n        # determine if the parameter supplied by the caller passes the test\n        # in the URL\n        passes_pattern = re.match(specific_pattern, supplied_param)\n\n        if not passes_pattern:\n            if _type != str:\n                type_name = _type.__name__\n\n                msg = (\n                    f'Value \"{supplied_param}\" '\n                    f\"for parameter `{name}` does not \"\n                    f\"match pattern for type `{type_name}`: {pattern}\"\n                )\n            else:\n                msg = (\n                    f'Value \"{supplied_param}\" for parameter `{name}` '\n                    f\"does not satisfy pattern {pattern}\"\n                )\n            raise URLBuildError(msg)\n\n        # replace the parameter in the URL with the supplied value\n        replacement_regex = f\"(<{name}.*?>)\"\n\n        out = re.sub(replacement_regex, supplied_param, out)\n\n    # parse the remainder of the keyword arguments into a querystring\n    query_string = urlencode(kwargs, doseq=True) if kwargs else \"\"\n    # scheme://netloc/path;parameters?query#fragment\n    out = urlunparse((scheme, netloc, out, \"\", query_string, anchor))\n\n    return out",
                "def converted_response_type(self, response):\n    \"\"\"\n    No implementation provided.\n    \"\"\"\n    pass",
                "async def handle_request(self, request, write_callback, stream_callback):\n    \"\"\"Take a request from the HTTP Server and return a response object\n    to be sent back The HTTP Server only expects a response object, so\n    exception handling must be done here\n\n    :param request: HTTP Request object\n    :param write_callback: Synchronous response function to be\n        called with the response as the only argument\n    :param stream_callback: Coroutine that handles streaming a\n        StreamingHTTPResponse if produced by the handler.\n\n    :return: Nothing\n    \"\"\"\n    # Define `response` var here to remove warnings about\n    # allocation before assignment below.\n    response = None\n    cancelled = False\n    name = None\n    try:\n        # Fetch handler from router\n        handler, args, kwargs, uri, name = self.router.get(request)\n\n        # -------------------------------------------- #\n        # Request Middleware\n        # -------------------------------------------- #\n        response = await self._run_request_middleware(\n            request, request_name=name\n        )\n        # No middleware results\n        if not response:\n            # -------------------------------------------- #\n            # Execute Handler\n            # -------------------------------------------- #\n\n            request.uri_template = uri\n            if handler is None:\n                raise ServerError(\n                    (\n                        \"'None' was returned while requesting a \"\n                        \"handler from the router\"\n                    )\n                )\n            else:\n                if not getattr(handler, \"__blueprintname__\", False):\n                    request.endpoint = self._build_endpoint_name(\n                        handler.__name__\n                    )\n                else:\n                    request.endpoint = self._build_endpoint_name(\n                        getattr(handler, \"__blueprintname__\", \"\"),\n                        handler.__name__,\n                    )\n\n            # Run response handler\n            response = handler(request, *args, **kwargs)\n            if isawaitable(response):\n                response = await response\n    except CancelledError:\n        # If response handler times out, the server handles the error\n        # and cancels the handle_request job.\n        # In this case, the transport is already closed and we cannot\n        # issue a response.\n        response = None\n        cancelled = True\n    except Exception as e:\n        # -------------------------------------------- #\n        # Response Generation Failed\n        # -------------------------------------------- #\n\n        try:\n            response = self.error_handler.response(request, e)\n            if isawaitable(response):\n                response = await response\n        except Exception as e:\n            if isinstance(e, SanicException):\n                response = self.error_handler.default(\n                    request=request, exception=e\n                )\n            elif self.debug:\n                response = HTTPResponse(\n                    f\"Error while \"\n                    f\"handling error: {e}\\nStack: {format_exc()}\",\n                    status=500,\n                )\n            else:\n                response = HTTPResponse(\n                    \"An error occurred while handling an error\", status=500\n                )\n    finally:\n        # -------------------------------------------- #\n        # Response Middleware\n        # -------------------------------------------- #\n        # Don't run response middleware if response is None\n        if response is not None:\n            try:\n                response = await self._run_response_middleware(\n                    request, response, request_name=name\n                )\n            except CancelledError:\n                # Response middleware can timeout too, as above.\n                response = None\n                cancelled = True\n            except BaseException:\n                error_logger.exception(\n                    \"Exception occurred in one of response \"\n                    \"middleware handlers\"\n                )\n        if cancelled:\n            raise CancelledError()\n\n    # pass the response to the correct callback\n    if write_callback is None or isinstance(\n        response, StreamingHTTPResponse\n    ):\n        if stream_callback:\n            await stream_callback(response)\n        else:\n            # Should only end here IF it is an ASGI websocket.\n            # TODO:\n            # - Add exception handling\n            pass\n    else:\n        write_callback(response)",
                "@property\ndef test_client(self):\n    return SanicTestClient(self)",
                "@property\ndef asgi_client(self):\n    return SanicASGITestClient(self)",
                "def run(\n    self,\n    host: Optional[str] = None,\n    port: Optional[int] = None,\n    debug: bool = False,\n    ssl: Union[dict, SSLContext, None] = None,\n    sock: Optional[socket] = None,\n    workers: int = 1,\n    protocol: Type[Protocol] = None,\n    backlog: int = 100,\n    stop_event: Any = None,\n    register_sys_signals: bool = True,\n    access_log: Optional[bool] = None,\n    **kwargs: Any,\n) -> None:\n    \"\"\"Run the HTTP Server and listen until keyboard interrupt or term\n    signal. On termination, drain connections before closing.\n\n    :param host: Address to host on\n    :type host: str\n    :param port: Port to host on\n    :type port: int\n    :param debug: Enables debug output (slows server)\n    :type debug: bool\n    :param ssl: SSLContext, or location of certificate and key\n                for SSL encryption of worker(s)\n    :type ssl: SSLContext or dict\n    :param sock: Socket for the server to accept connections from\n    :type sock: socket\n    :param workers: Number of processes received before it is respected\n    :type workers: int\n    :param protocol: Subclass of asyncio Protocol class\n    :type protocol: type[Protocol]\n    :param backlog: a number of unaccepted connections that the system\n                    will allow before refusing new connections\n    :type backlog: int\n    :param stop_event: event to be triggered\n                       before stopping the app - deprecated\n    :type stop_event: None\n    :param register_sys_signals: Register SIG* events\n    :type register_sys_signals: bool\n    :param access_log: Enables writing access logs (slows server)\n    :type access_log: bool\n    :return: Nothing\n    \"\"\"\n    if \"loop\" in kwargs:\n        raise TypeError(\n            \"loop is not a valid argument. To use an existing loop, \"\n            \"change to create_server().\\nSee more: \"\n            \"https://sanic.readthedocs.io/en/latest/sanic/deploying.html\"\n            \"#asynchronous-support\"\n        )\n\n    # Default auto_reload to false\n    auto_reload = False\n    # If debug is set, default it to true (unless on windows)\n    if debug and os.name == \"posix\":\n        auto_reload = True\n    # Allow for overriding either of the defaults\n    auto_reload = kwargs.get(\"auto_reload\", auto_reload)\n\n    if sock is None:\n        host, port = host or \"127.0.0.1\", port or 8000\n\n    if protocol is None:\n        protocol = (\n            WebSocketProtocol if self.websocket_enabled else HttpProtocol\n        )\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter(\"default\")\n        warnings.warn(\n            \"stop_event will be removed from future versions.\",\n            DeprecationWarning,\n        )\n    # if access_log is passed explicitly change config.ACCESS_LOG\n    if access_log is not None:\n        self.config.ACCESS_LOG = access_log\n\n    server_settings = self._helper(\n        host=host,\n        port=port,\n        debug=debug,\n        ssl=ssl,\n        sock=sock,\n        workers=workers,\n        protocol=protocol,\n        backlog=backlog,\n        register_sys_signals=register_sys_signals,\n        auto_reload=auto_reload,\n    )\n\n    try:\n        self.is_running = True\n        self.is_stopping = False\n        if workers > 1 and os.name != \"posix\":\n            logger.warn(\n                f\"Multiprocessing is currently not supported on {os.name},\"\n                \" using workers=1 instead\"\n            )\n            workers = 1\n        if workers == 1:\n            if auto_reload and os.name != \"posix\":\n                # This condition must be removed after implementing\n                # auto reloader for other operating systems.\n                raise NotImplementedError\n\n            if (\n                auto_reload\n                and os.environ.get(\"SANIC_SERVER_RUNNING\") != \"true\"\n            ):\n                reloader_helpers.watchdog(2)\n            else:\n                serve(**server_settings)\n        else:\n            serve_multiple(server_settings, workers)\n    except BaseException:\n        error_logger.exception(\n            \"Experienced exception while trying to serve\"\n        )\n        raise\n    finally:\n        self.is_running = False\n    logger.info(\"Server Stopped\")",
                "def stop(self):\n    \"\"\"This kills the Sanic\"\"\"\n    if not self.is_stopping:\n        self.is_stopping = True\n        get_event_loop().stop()",
                "async def create_server(\n    self,\n    host: Optional[str] = None,\n    port: Optional[int] = None,\n    debug: bool = False,\n    ssl: Union[dict, SSLContext, None] = None,\n    sock: Optional[socket] = None,\n    protocol: Type[Protocol] = None,\n    backlog: int = 100,\n    stop_event: Any = None,\n    access_log: Optional[bool] = None,\n    return_asyncio_server=False,\n    asyncio_server_kwargs=None,\n) -> Optional[AsyncioServer]:\n    \"\"\"\n    Asynchronous version of :func:`run`.\n\n    This method will take care of the operations necessary to invoke\n    the *before_start* events via :func:`trigger_events` method invocation\n    before starting the *sanic* app in Async mode.\n\n    .. note::\n        This does not support multiprocessing and is not the preferred\n        way to run a :class:`Sanic` application.\n\n    :param host: Address to host on\n    :type host: str\n    :param port: Port to host on\n    :type port: int\n    :param debug: Enables debug output (slows server)\n    :type debug: bool\n    :param ssl: SSLContext, or location of certificate and key\n                for SSL encryption of worker(s)\n    :type ssl: SSLContext or dict\n    :param sock: Socket for the server to accept connections from\n    :type sock: socket\n    :param protocol: Subclass of asyncio Protocol class\n    :type protocol: type[Protocol]\n    :param backlog: a number of unaccepted connections that the system\n                    will allow before refusing new connections\n    :type backlog: int\n    :param stop_event: event to be triggered\n                       before stopping the app - deprecated\n    :type stop_event: None\n    :param access_log: Enables writing access logs (slows server)\n    :type access_log: bool\n    :param return_asyncio_server: flag that defines whether there's a need\n                                  to return asyncio.Server or\n                                  start it serving right away\n    :type return_asyncio_server: bool\n    :param asyncio_server_kwargs: key-value arguments for\n                                  asyncio/uvloop create_server method\n    :type asyncio_server_kwargs: dict\n    :return: AsyncioServer if return_asyncio_server is true, else Nothing\n    \"\"\"\n\n    if sock is None:\n        host, port = host or \"127.0.0.1\", port or 8000\n\n    if protocol is None:\n        protocol = (\n            WebSocketProtocol if self.websocket_enabled else HttpProtocol\n        )\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter(\"default\")\n        warnings.warn(\n            \"stop_event will be removed from future versions.\",\n            DeprecationWarning,\n        )\n    # if access_log is passed explicitly change config.ACCESS_LOG\n    if access_log is not None:\n        self.config.ACCESS_LOG = access_log\n\n    server_settings = self._helper(\n        host=host,\n        port=port,\n        debug=debug,\n        ssl=ssl,\n        sock=sock,\n        loop=get_event_loop(),\n        protocol=protocol,\n        backlog=backlog,\n        run_async=return_asyncio_server,\n    )\n\n    # Trigger before_start events\n    await self.trigger_events(\n        server_settings.get(\"before_start\", []),\n        server_settings.get(\"loop\"),\n    )\n\n    return await serve(\n        asyncio_server_kwargs=asyncio_server_kwargs, **server_settings\n    )",
                "async def trigger_events(self, events, loop):\n    \"\"\"Trigger events (functions or async)\n    :param events: one or more sync or async functions to execute\n    :param loop: event loop\n    \"\"\"\n    for event in events:\n        result = event(loop)\n        if isawaitable(result):\n            await result",
                "async def _run_request_middleware(self, request, request_name=None):\n    # The if improves speed.  I don't know why\n    named_middleware = self.named_request_middleware.get(\n        request_name, deque()\n    )\n    applicable_middleware = self.request_middleware + named_middleware\n    if applicable_middleware:\n        for middleware in applicable_middleware:\n            response = middleware(request)\n            if isawaitable(response):\n                response = await response\n            if response:\n                return response\n    return None",
                "async def _run_response_middleware(\n    self, request, response, request_name=None\n):\n    named_middleware = self.named_response_middleware.get(\n        request_name, deque()\n    )\n    applicable_middleware = self.response_middleware + named_middleware\n    if applicable_middleware:\n        for middleware in applicable_middleware:\n            _response = middleware(request, response)\n            if isawaitable(_response):\n                _response = await _response\n            if _response:\n                response = _response\n                break\n    return response",
                "def _helper(\n    self,\n    host=None,\n    port=None,\n    debug=False,\n    ssl=None,\n    sock=None,\n    workers=1,\n    loop=None,\n    protocol=HttpProtocol,\n    backlog=100,\n    stop_event=None,\n    register_sys_signals=True,\n    run_async=False,\n    auto_reload=False,\n):\n    \"\"\"Helper function used by `run` and `create_server`.\"\"\"\n    if isinstance(ssl, dict):\n        # try common aliaseses\n        cert = ssl.get(\"cert\") or ssl.get(\"certificate\")\n        key = ssl.get(\"key\") or ssl.get(\"keyfile\")\n        if cert is None or key is None:\n            raise ValueError(\"SSLContext or certificate and key required.\")\n        context = create_default_context(purpose=Purpose.CLIENT_AUTH)\n        context.load_cert_chain(cert, keyfile=key)\n        ssl = context\n    if stop_event is not None:\n        if debug:\n            warnings.simplefilter(\"default\")\n        warnings.warn(\n            \"stop_event will be removed from future versions.\",\n            DeprecationWarning,\n        )\n    if self.config.PROXIES_COUNT and self.config.PROXIES_COUNT < 0:\n        raise ValueError(\n            \"PROXIES_COUNT cannot be negative. \"\n            \"https://sanic.readthedocs.io/en/latest/sanic/config.html\"\n            \"#proxy-configuration\"\n        )\n\n    self.error_handler.debug = debug\n    self.debug = debug\n\n    server_settings = {\n        \"protocol\": protocol,\n        \"host\": host,\n        \"port\": port,\n        \"sock\": sock,\n        \"ssl\": ssl,\n        \"app\": self,\n        \"signal\": Signal(),\n        \"loop\": loop,\n        \"register_sys_signals\": register_sys_signals,\n        \"backlog\": backlog,\n    }\n\n    # -------------------------------------------- #\n    # Register start/stop events\n    # -------------------------------------------- #\n\n    for event_name, settings_name, reverse in (\n        (\"before_server_start\", \"before_start\", False),\n        (\"after_server_start\", \"after_start\", False),\n        (\"before_server_stop\", \"before_stop\", True),\n        (\"after_server_stop\", \"after_stop\", True),\n    ):\n        listeners = self.listeners[event_name].copy()\n        if reverse:\n            listeners.reverse()\n        # Prepend sanic to the arguments when listeners are triggered\n        listeners = [partial(listener, self) for listener in listeners]\n        server_settings[settings_name] = listeners\n\n    if self.configure_logging and debug:\n        logger.setLevel(logging.DEBUG)\n\n    if (\n        self.config.LOGO\n        and os.environ.get(\"SANIC_SERVER_RUNNING\") != \"true\"\n    ):\n        logger.debug(\n            self.config.LOGO\n            if isinstance(self.config.LOGO, str)\n            else BASE_LOGO\n        )\n\n    if run_async:\n        server_settings[\"run_async\"] = True\n\n    # Serve\n    if host and port and os.environ.get(\"SANIC_SERVER_RUNNING\") != \"true\":\n        proto = \"http\"\n        if ssl is not None:\n            proto = \"https\"\n        logger.info(f\"Goin' Fast @ {proto}://{host}:{port}\")\n\n    return server_settings",
                "def _build_endpoint_name(self, *parts):\n    parts = [self.name, *parts]\n    return \".\".join(parts)",
                "async def __call__(self, scope, receive, send):\n    \"\"\"To be ASGI compliant, our instance must be a callable that accepts\n    three arguments: scope, receive, send. See the ASGI reference for more\n    details: https://asgi.readthedocs.io/en/latest/\"\"\"\n    self.asgi = True\n    asgi_app = await ASGIApp.create(self, scope, receive, send)\n    await asgi_app()",
                "def decorator(listener):\n    self.listeners[event].append(listener)\n    return listener",
                "def response(handler):\n    if isinstance(handler, tuple):\n        # if a handler fn is already wrapped in a route, the handler\n        # variable will be a tuple of (existing routes, handler fn)\n        routes, handler = handler\n    else:\n        routes = []\n    args = list(signature(handler).parameters.keys())\n\n    if not args:\n        handler_name = handler.__name__\n\n        raise ValueError(\n            f\"Required parameter `request` missing \"\n            f\"in the {handler_name}() route?\"\n        )\n\n    if stream:\n        handler.is_stream = stream\n\n    routes.extend(\n        self.router.add(\n            uri=uri,\n            methods=methods,\n            handler=handler,\n            host=host,\n            strict_slashes=strict_slashes,\n            version=version,\n            name=name,\n        )\n    )\n    return routes, handler",
                "def response(handler):\n    if isinstance(handler, tuple):\n        # if a handler fn is already wrapped in a route, the handler\n        # variable will be a tuple of (existing routes, handler fn)\n        routes, handler = handler\n    else:\n        routes = []\n\n    async def websocket_handler(request, *args, **kwargs):\n        request.app = self\n        if not getattr(handler, \"__blueprintname__\", False):\n            request.endpoint = handler.__name__\n        else:\n            request.endpoint = (\n                getattr(handler, \"__blueprintname__\", \"\")\n                + handler.__name__\n            )\n\n            pass\n\n        if self.asgi:\n            ws = request.transport.get_websocket_connection()\n        else:\n            protocol = request.transport.get_protocol()\n            protocol.app = self\n\n            ws = await protocol.websocket_handshake(\n                request, subprotocols\n            )\n\n        # schedule the application handler\n        # its future is kept in self.websocket_tasks in case it\n        # needs to be cancelled due to the server being stopped\n        fut = ensure_future(handler(request, ws, *args, **kwargs))\n        self.websocket_tasks.add(fut)\n        try:\n            await fut\n        except (CancelledError, ConnectionClosed):\n            pass\n        finally:\n            self.websocket_tasks.remove(fut)\n        await ws.close()\n\n    routes.extend(\n        self.router.add(\n            uri=uri,\n            handler=websocket_handler,\n            methods=frozenset({\"GET\"}),\n            host=host,\n            strict_slashes=strict_slashes,\n            name=name,\n        )\n    )\n    return routes, handler",
                "def response(handler):\n    for exception in exceptions:\n        if isinstance(exception, (tuple, list)):\n            for e in exception:\n                self.error_handler.add(e, handler)\n        else:\n            self.error_handler.add(exception, handler)\n    return handler",
                "async def websocket_handler(request, *args, **kwargs):\n    request.app = self\n    if not getattr(handler, \"__blueprintname__\", False):\n        request.endpoint = handler.__name__\n    else:\n        request.endpoint = (\n            getattr(handler, \"__blueprintname__\", \"\")\n            + handler.__name__\n        )\n\n        pass\n\n    if self.asgi:\n        ws = request.transport.get_websocket_connection()\n    else:\n        protocol = request.transport.get_protocol()\n        protocol.app = self\n\n        ws = await protocol.websocket_handshake(\n            request, subprotocols\n        )\n\n    # schedule the application handler\n    # its future is kept in self.websocket_tasks in case it\n    # needs to be cancelled due to the server being stopped\n    fut = ensure_future(handler(request, ws, *args, **kwargs))\n    self.websocket_tasks.add(fut)\n    try:\n        await fut\n    except (CancelledError, ConnectionClosed):\n        pass\n    finally:\n        self.websocket_tasks.remove(fut)\n    await ws.close()",
                "@self.listener(\"before_server_stop\")\ndef cancel_websocket_tasks(app, loop):\n    for task in self.websocket_tasks:\n        task.cancel()",
                "@self.listener(\"before_server_start\")\ndef run(app, loop):\n    if callable(task):\n        try:\n            loop.create_task(task(self))\n        except TypeError:\n            loop.create_task(task())\n    else:\n        loop.create_task(task)"
            ],
            "inscope_function_signatures": [
                "__init__(self, name=None, router=None, error_handler=None, load_env=True, request_class=None, strict_slashes=False, log_config=None, configure_logging=True)",
                "loop(self)",
                "add_task(self, task)",
                "listener(self, event)",
                "register_listener(self, listener, event)",
                "route(self, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, stream=False, version=None, name=None)",
                "get(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                "post(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                "put(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                "head(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                "options(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                "patch(self, uri, host=None, strict_slashes=None, stream=False, version=None, name=None)",
                "delete(self, uri, host=None, strict_slashes=None, version=None, name=None)",
                "add_route(self, handler, uri, methods=frozenset({'GET'}), host=None, strict_slashes=None, version=None, name=None, stream=False)",
                "websocket(self, uri, host=None, strict_slashes=None, subprotocols=None, name=None)",
                "add_websocket_route(self, handler, uri, host=None, strict_slashes=None, subprotocols=None, name=None)",
                "enable_websocket(self, enable=True)",
                "exception(self, *exceptions)",
                "register_middleware(self, middleware, attach_to='request')",
                "register_named_middleware(self, middleware, route_names, attach_to='request')",
                "middleware(self, middleware_or_request)",
                "static(self, uri, file_or_directory, pattern='/?.+', use_modified_since=True, use_content_range=False, stream_large_files=False, name='static', host=None, strict_slashes=None, content_type=None)",
                "blueprint(self, blueprint, **options)",
                "register_blueprint(self, *args, **kwargs)",
                "url_for(self, view_name: str, **kwargs)",
                "converted_response_type(self, response)",
                "handle_request(self, request, write_callback, stream_callback)",
                "test_client(self)",
                "asgi_client(self)",
                "run(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, workers: int=1, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, register_sys_signals: bool=True, access_log: Optional[bool]=None, **kwargs: Any) -> None",
                "stop(self)",
                "create_server(self, host: Optional[str]=None, port: Optional[int]=None, debug: bool=False, ssl: Union[dict, SSLContext, None]=None, sock: Optional[socket]=None, protocol: Type[Protocol]=None, backlog: int=100, stop_event: Any=None, access_log: Optional[bool]=None, return_asyncio_server=False, asyncio_server_kwargs=None) -> Optional[AsyncioServer]",
                "trigger_events(self, events, loop)",
                "_run_request_middleware(self, request, request_name=None)",
                "_run_response_middleware(self, request, response, request_name=None)",
                "_helper(self, host=None, port=None, debug=False, ssl=None, sock=None, workers=1, loop=None, protocol=HttpProtocol, backlog=100, stop_event=None, register_sys_signals=True, run_async=False, auto_reload=False)",
                "_build_endpoint_name(self, *parts)",
                "__call__(self, scope, receive, send)",
                "decorator(listener)",
                "response(handler)",
                "response(handler)",
                "response(handler)",
                "websocket_handler(request, *args, **kwargs)",
                "cancel_websocket_tasks(app, loop)",
                "run(app, loop)"
            ],
            "variables_in_file": {
                "name": [
                    896,
                    401,
                    539,
                    283,
                    934,
                    937,
                    943,
                    54,
                    313,
                    63,
                    580,
                    69,
                    325,
                    459,
                    724,
                    348,
                    861,
                    225,
                    866,
                    867,
                    868,
                    871,
                    885,
                    1013,
                    378,
                    253,
                    890
                ],
                "warnings.warn": [
                    1254,
                    1128,
                    1355,
                    55,
                    765
                ],
                "warnings": [
                    1253,
                    1254,
                    1127,
                    1128,
                    1354,
                    1355,
                    55,
                    764,
                    765
                ],
                "DeprecationWarning": [
                    769,
                    1256,
                    1130,
                    1357,
                    59
                ],
                "frame_records": [
                    62,
                    63
                ],
                "stack": [
                    62
                ],
                "getmodulename": [
                    63
                ],
                "configure_logging": [
                    66,
                    79
                ],
                "logging.config.dictConfig": [
                    67
                ],
                "logging.config": [
                    67
                ],
                "logging": [
                    1400,
                    67
                ],
                "log_config": [
                    67
                ],
                "LOGGING_CONFIG_DEFAULTS": [
                    67
                ],
                "self.name": [
                    1425,
                    69
                ],
                "self": [
                    513,
                    523,
                    529,
                    533,
                    1047,
                    1051,
                    573,
                    575,
                    69,
                    70,
                    71,
                    72,
                    73,
                    74,
                    75,
                    76,
                    589,
                    77,
                    78,
                    592,
                    79,
                    594,
                    80,
                    81,
                    82,
                    83,
                    84,
                    85,
                    86,
                    87,
                    88,
                    89,
                    90,
                    92,
                    611,
                    100,
                    613,
                    1123,
                    1134,
                    1136,
                    122,
                    635,
                    636,
                    124,
                    638,
                    126,
                    639,
                    129,
                    1150,
                    1151,
                    133,
                    647,
                    648,
                    649,
                    650,
                    653,
                    654,
                    655,
                    656,
                    147,
                    1179,
                    670,
                    1184,
                    161,
                    674,
                    1185,
                    192,
                    195,
                    717,
                    218,
                    1249,
                    739,
                    741,
                    742,
                    747,
                    748,
                    749,
                    1260,
                    1262,
                    247,
                    763,
                    1275,
                    771,
                    1296,
                    1299,
                    276,
                    1312,
                    802,
                    1315,
                    306,
                    319,
                    835,
                    1359,
                    848,
                    342,
                    1366,
                    1367,
                    861,
                    1375,
                    1392,
                    371,
                    1396,
                    1399,
                    1403,
                    1407,
                    1408,
                    395,
                    1425,
                    1436,
                    1437,
                    937,
                    942,
                    597,
                    961,
                    450,
                    452,
                    965,
                    987,
                    479,
                    992,
                    995,
                    487,
                    498,
                    1012,
                    509
                ],
                "self.asgi": [
                    1436,
                    100,
                    509,
                    70
                ],
                "self.router": [
                    802,
                    835,
                    71,
                    937,
                    533,
                    218,
                    861
                ],
                "router": [
                    71
                ],
                "Router": [
                    71
                ],
                "self.request_class": [
                    72
                ],
                "request_class": [
                    72
                ],
                "self.error_handler": [
                    992,
                    611,
                    613,
                    73,
                    1366,
                    987
                ],
                "error_handler": [
                    73
                ],
                "ErrorHandler": [
                    73
                ],
                "self.config": [
                    1408,
                    74,
                    1260,
                    1134,
                    1359,
                    848,
                    1403,
                    1407
                ],
                "Config": [
                    74
                ],
                "load_env": [
                    74
                ],
                "self.request_middleware": [
                    635,
                    1299,
                    75,
                    636
                ],
                "deque": [
                    1313,
                    648,
                    75,
                    76,
                    654,
                    1297
                ],
                "self.response_middleware": [
                    1315,
                    76,
                    638,
                    639
                ],
                "self.blueprints": [
                    741,
                    747,
                    77,
                    742
                ],
                "self._blueprint_order": [
                    748,
                    78
                ],
                "self.configure_logging": [
                    1399,
                    79
                ],
                "self.debug": [
                    80,
                    763,
                    1367,
                    995
                ],
                "self.sock": [
                    81
                ],
                "self.strict_slashes": [
                    450,
                    195,
                    487,
                    82,
                    573
                ],
                "strict_slashes": [
                    399,
                    280,
                    538,
                    310,
                    572,
                    573,
                    449,
                    194,
                    195,
                    323,
                    450,
                    578,
                    456,
                    82,
                    726,
                    346,
                    223,
                    486,
                    487,
                    375,
                    251
                ],
                "self.listeners": [
                    1392,
                    83,
                    147
                ],
                "defaultdict": [
                    83
                ],
                "list": [
                    609,
                    83,
                    204,
                    737
                ],
                "self.is_stopping": [
                    1184,
                    1185,
                    84,
                    1151
                ],
                "self.is_running": [
                    1179,
                    100,
                    85,
                    1150
                ],
                "self.is_request_stream": [
                    192,
                    86
                ],
                "self.websocket_enabled": [
                    1249,
                    1123,
                    589,
                    597,
                    87
                ],
                "self.websocket_tasks": [
                    88,
                    529,
                    594,
                    523
                ],
                "set": [
                    88,
                    432
                ],
                "self.named_request_middleware": [
                    647,
                    648,
                    649,
                    650,
                    1296,
                    89
                ],
                "self.named_response_middleware": [
                    1312,
                    653,
                    654,
                    655,
                    656,
                    90
                ],
                "self.go_fast": [
                    92
                ],
                "self.run": [
                    92
                ],
                "SanicException": [
                    991,
                    101,
                    127
                ],
                "get_event_loop": [
                    105,
                    1186,
                    1268
                ],
                "property": [
                    1049,
                    1045,
                    94
                ],
                "callable": [
                    120,
                    131,
                    669
                ],
                "task": [
                    131,
                    133,
                    135,
                    137,
                    594,
                    595,
                    120,
                    122,
                    124,
                    126
                ],
                "self.loop.create_task": [
                    122,
                    124,
                    126
                ],
                "self.loop": [
                    122,
                    124,
                    126
                ],
                "TypeError": [
                    123,
                    134,
                    1103
                ],
                "loop.create_task": [
                    137,
                    133,
                    135
                ],
                "loop": [
                    1377,
                    133,
                    135,
                    137,
                    1290
                ],
                "self.listener": [
                    592,
                    129,
                    161
                ],
                "append": [
                    656,
                    650,
                    147
                ],
                "event": [
                    161,
                    1290,
                    147,
                    1289
                ],
                "listener": [
                    1396,
                    161,
                    147,
                    148
                ],
                "decorator": [
                    150
                ],
                "frozenset": [
                    321,
                    408,
                    167,
                    536,
                    397,
                    308,
                    373,
                    278,
                    344,
                    249
                ],
                "uri.startswith": [
                    483,
                    188
                ],
                "uri": [
                    396,
                    277,
                    534,
                    802,
                    803,
                    937,
                    810,
                    812,
                    307,
                    819,
                    820,
                    951,
                    827,
                    188,
                    189,
                    829,
                    830,
                    320,
                    576,
                    832,
                    835,
                    453,
                    718,
                    343,
                    219,
                    483,
                    484,
                    372,
                    248
                ],
                "stream": [
                    439,
                    457,
                    214,
                    215,
                    376,
                    281,
                    311,
                    446,
                    191
                ],
                "isinstance": [
                    1408,
                    609,
                    737,
                    1028,
                    1343,
                    198,
                    490,
                    442,
                    991
                ],
                "handler": [
                    522,
                    542,
                    937,
                    431,
                    435,
                    952,
                    442,
                    443,
                    444,
                    960,
                    962,
                    581,
                    198,
                    966,
                    967,
                    201,
                    971,
                    204,
                    460,
                    461,
                    207,
                    215,
                    221,
                    611,
                    228,
                    613,
                    614,
                    490,
                    493,
                    499,
                    500,
                    503,
                    504
                ],
                "tuple": [
                    609,
                    490,
                    737,
                    198
                ],
                "routes": [
                    228,
                    201,
                    203,
                    493,
                    495,
                    532,
                    217,
                    542
                ],
                "args": [
                    771,
                    937,
                    522,
                    971,
                    204,
                    206
                ],
                "parameters.keys": [
                    204
                ],
                "parameters": [
                    204
                ],
                "signature": [
                    204
                ],
                "handler_name": [
                    211,
                    207
                ],
                "handler.__name__": [
                    962,
                    967,
                    207,
                    500,
                    504
                ],
                "ValueError": [
                    1360,
                    209,
                    844,
                    1348
                ],
                "handler.is_stream": [
                    215
                ],
                "routes.extend": [
                    217,
                    532
                ],
                "self.router.add": [
                    218,
                    533
                ],
                "methods": [
                    454,
                    432,
                    437,
                    443,
                    220
                ],
                "host": [
                    1416,
                    1420,
                    398,
                    279,
                    537,
                    810,
                    811,
                    812,
                    814,
                    309,
                    577,
                    322,
                    455,
                    848,
                    725,
                    345,
                    1371,
                    1245,
                    222,
                    1119,
                    1263,
                    1137,
                    374,
                    250
                ],
                "version": [
                    224,
                    324,
                    458,
                    400,
                    312,
                    377,
                    282,
                    347,
                    252
                ],
                "response": [
                    1029,
                    1032,
                    1039,
                    1302,
                    1303,
                    1304,
                    1305,
                    1306,
                    544,
                    932,
                    1318,
                    1322,
                    1324,
                    942,
                    946,
                    971,
                    972,
                    973,
                    979,
                    987,
                    988,
                    989,
                    992,
                    996,
                    230,
                    616,
                    1002,
                    1010,
                    1012,
                    1013,
                    1017
                ],
                "self.route": [
                    452,
                    395,
                    306,
                    371,
                    276,
                    342,
                    247,
                    319
                ],
                "hasattr": [
                    445,
                    438,
                    431
                ],
                "method": [
                    434,
                    435,
                    437
                ],
                "HTTP_METHODS": [
                    434
                ],
                "_handler": [
                    435,
                    436,
                    438,
                    444,
                    445
                ],
                "getattr": [
                    960,
                    966,
                    435,
                    499,
                    503
                ],
                "handler.view_class": [
                    435
                ],
                "method.lower": [
                    435
                ],
                "methods.add": [
                    437
                ],
                "CompositionView": [
                    442
                ],
                "handler.handlers.keys": [
                    443
                ],
                "handler.handlers": [
                    443,
                    444
                ],
                "handler.handlers.values": [
                    444
                ],
                "self.enable_websocket": [
                    479
                ],
                "request.app": [
                    498
                ],
                "request": [
                    512,
                    961,
                    993,
                    516,
                    965,
                    1318,
                    937,
                    522,
                    971,
                    943,
                    498,
                    500,
                    1013,
                    502,
                    951,
                    1302,
                    987,
                    510
                ],
                "request.endpoint": [
                    961,
                    500,
                    965,
                    502
                ],
                "ws": [
                    530,
                    522,
                    515,
                    510
                ],
                "request.transport.get_websocket_connection": [
                    510
                ],
                "request.transport": [
                    512,
                    510
                ],
                "protocol": [
                    512,
                    513,
                    1122,
                    515,
                    1121,
                    1248,
                    1269,
                    1143,
                    1370,
                    1247
                ],
                "request.transport.get_protocol": [
                    512
                ],
                "protocol.app": [
                    513
                ],
                "protocol.websocket_handshake": [
                    515
                ],
                "subprotocols": [
                    579,
                    516
                ],
                "fut": [
                    529,
                    522,
                    523,
                    525
                ],
                "ensure_future": [
                    522
                ],
                "kwargs": [
                    866,
                    771,
                    867,
                    868,
                    838,
                    839,
                    901,
                    841,
                    522,
                    842,
                    937,
                    971,
                    846,
                    1102,
                    817,
                    1116,
                    797,
                    799
                ],
                "self.websocket_tasks.add": [
                    523
                ],
                "CancelledError": [
                    1025,
                    974,
                    526,
                    1015
                ],
                "ConnectionClosed": [
                    526
                ],
                "self.websocket_tasks.remove": [
                    529
                ],
                "ws.close": [
                    530
                ],
                "websocket_handler": [
                    535
                ],
                "self.websocket": [
                    575
                ],
                "task.cancel": [
                    595
                ],
                "enable": [
                    597
                ],
                "exception": [
                    608,
                    609,
                    610,
                    613
                ],
                "exceptions": [
                    608
                ],
                "e": [
                    993,
                    610,
                    611,
                    998,
                    987,
                    991
                ],
                "self.error_handler.add": [
                    611,
                    613
                ],
                "attach_to": [
                    634,
                    651,
                    637,
                    645
                ],
                "middleware": [
                    640,
                    1317,
                    1318,
                    649,
                    650,
                    655,
                    656,
                    1301,
                    1302,
                    635,
                    636,
                    638,
                    639
                ],
                "self.request_middleware.append": [
                    636
                ],
                "self.response_middleware.appendleft": [
                    639
                ],
                "_rn": [
                    646,
                    647,
                    648,
                    649,
                    650,
                    652,
                    653,
                    654,
                    655,
                    656
                ],
                "route_names": [
                    652,
                    646
                ],
                "middleware_or_request": [
                    674,
                    669,
                    670
                ],
                "self.register_middleware": [
                    674,
                    670
                ],
                "partial": [
                    673,
                    1396
                ],
                "static_register": [
                    716
                ],
                "file_or_directory": [
                    719
                ],
                "pattern": [
                    720,
                    886,
                    891,
                    861,
                    863
                ],
                "use_modified_since": [
                    721
                ],
                "use_content_range": [
                    722
                ],
                "stream_large_files": [
                    723
                ],
                "content_type": [
                    727
                ],
                "blueprint": [
                    737,
                    738,
                    741,
                    742,
                    744,
                    747,
                    748,
                    749
                ],
                "BlueprintGroup": [
                    737
                ],
                "item": [
                    738,
                    739
                ],
                "self.blueprint": [
                    771,
                    739
                ],
                "options": [
                    739,
                    749
                ],
                "blueprint.name": [
                    744,
                    747,
                    741,
                    742
                ],
                "self._blueprint_order.append": [
                    748
                ],
                "blueprint.register": [
                    749
                ],
                "warnings.simplefilter": [
                    1354,
                    764,
                    1253,
                    1127
                ],
                "str": [
                    1408,
                    1059,
                    773,
                    1190,
                    874,
                    880,
                    794
                ],
                "kw": [
                    800,
                    794,
                    802,
                    797
                ],
                "Dict": [
                    794
                ],
                "view_name": [
                    800,
                    802,
                    805,
                    816,
                    796,
                    798
                ],
                "kw.update": [
                    800,
                    797
                ],
                "kwargs.pop": [
                    838,
                    839,
                    841,
                    842,
                    846,
                    817,
                    797,
                    799
                ],
                "view_name.endswith": [
                    816,
                    798
                ],
                "route": [
                    802,
                    803
                ],
                "self.router.find_route_by_view_name": [
                    802
                ],
                "URLBuildError": [
                    804,
                    893,
                    870
                ],
                "uri.find": [
                    810
                ],
                "filename": [
                    824,
                    817,
                    827,
                    825
                ],
                "folder_": [
                    827,
                    820,
                    821,
                    822
                ],
                "uri.split": [
                    820
                ],
                "folder_.endswith": [
                    821
                ],
                "filename.startswith": [
                    824
                ],
                "uri.endswith": [
                    829
                ],
                "out": [
                    832,
                    905,
                    898,
                    903
                ],
                "matched_params": [
                    835,
                    860
                ],
                "re.findall": [
                    835
                ],
                "re": [
                    898,
                    835,
                    877
                ],
                "self.router.parameter_pattern": [
                    835
                ],
                "anchor": [
                    903,
                    839
                ],
                "external": [
                    841,
                    850,
                    843,
                    847
                ],
                "scheme": [
                    903,
                    842,
                    843,
                    851,
                    853,
                    855
                ],
                "netloc": [
                    903,
                    846,
                    847,
                    848,
                    852,
                    853,
                    857,
                    858
                ],
                "self.config.get": [
                    848
                ],
                "split": [
                    853
                ],
                "netloc.split": [
                    858
                ],
                "match": [
                    860,
                    861
                ],
                "_type": [
                    880,
                    881,
                    861
                ],
                "self.router.parse_parameter_string": [
                    861
                ],
                "specific_pattern": [
                    877,
                    863
                ],
                "supplied_param": [
                    864,
                    898,
                    867,
                    874,
                    877,
                    884,
                    890
                ],
                "kwargs.get": [
                    867,
                    1116
                ],
                "passes_pattern": [
                    877,
                    879
                ],
                "re.match": [
                    877
                ],
                "type_name": [
                    881,
                    886
                ],
                "_type.__name__": [
                    881
                ],
                "msg": [
                    889,
                    883,
                    893
                ],
                "replacement_regex": [
                    896,
                    898
                ],
                "re.sub": [
                    898
                ],
                "query_string": [
                    901,
                    903
                ],
                "urlencode": [
                    901
                ],
                "urlunparse": [
                    903
                ],
                "cancelled": [
                    1024,
                    1018,
                    980,
                    933
                ],
                "self.router.get": [
                    937
                ],
                "self._run_request_middleware": [
                    942
                ],
                "request.uri_template": [
                    951
                ],
                "ServerError": [
                    953
                ],
                "self._build_endpoint_name": [
                    961,
                    965
                ],
                "isawaitable": [
                    1319,
                    1291,
                    972,
                    1303,
                    988
                ],
                "Exception": [
                    981,
                    990
                ],
                "self.error_handler.response": [
                    987
                ],
                "self.error_handler.default": [
                    992
                ],
                "HTTPResponse": [
                    1002,
                    996
                ],
                "format_exc": [
                    998
                ],
                "self._run_response_middleware": [
                    1012
                ],
                "BaseException": [
                    1019,
                    1173
                ],
                "error_logger.exception": [
                    1020,
                    1174
                ],
                "error_logger": [
                    1020,
                    1174
                ],
                "write_callback": [
                    1028,
                    1039
                ],
                "StreamingHTTPResponse": [
                    1029
                ],
                "stream_callback": [
                    1032,
                    1031
                ],
                "SanicTestClient": [
                    1047
                ],
                "SanicASGITestClient": [
                    1051
                ],
                "Optional": [
                    1059,
                    1060,
                    1190,
                    1063,
                    1191,
                    1194,
                    1069,
                    1198,
                    1201
                ],
                "int": [
                    1060,
                    1191,
                    1064,
                    1066,
                    1196
                ],
                "bool": [
                    1061,
                    1192,
                    1068,
                    1069,
                    1198
                ],
                "Union": [
                    1193,
                    1062
                ],
                "dict": [
                    1193,
                    1062,
                    1343
                ],
                "SSLContext": [
                    1193,
                    1062
                ],
                "socket": [
                    1194,
                    1063
                ],
                "Type": [
                    1065,
                    1195
                ],
                "Protocol": [
                    1065,
                    1195
                ],
                "Any": [
                    1067,
                    1197,
                    1070
                ],
                "auto_reload": [
                    1146,
                    1159,
                    1165,
                    1111,
                    1114,
                    1116
                ],
                "debug": [
                    1252,
                    1126,
                    1353,
                    1265,
                    1139,
                    1366,
                    1367,
                    1113,
                    1399
                ],
                "os.name": [
                    1152,
                    1113,
                    1154,
                    1159
                ],
                "os": [
                    1152,
                    1154,
                    1159,
                    1416,
                    1166,
                    1113,
                    1404
                ],
                "sock": [
                    1267,
                    1141,
                    1244,
                    1373,
                    1118
                ],
                "port": [
                    1416,
                    1420,
                    1264,
                    1138,
                    1372,
                    1245,
                    1119
                ],
                "WebSocketProtocol": [
                    1249,
                    1123
                ],
                "HttpProtocol": [
                    1249,
                    1123,
                    1335
                ],
                "stop_event": [
                    1352,
                    1251,
                    1125
                ],
                "access_log": [
                    1259,
                    1260,
                    1133,
                    1134
                ],
                "self.config.ACCESS_LOG": [
                    1260,
                    1134
                ],
                "server_settings": [
                    1281,
                    1413,
                    1262,
                    1422,
                    1136,
                    1170,
                    1172,
                    1397,
                    1369,
                    1276,
                    1277
                ],
                "self._helper": [
                    1136,
                    1262
                ],
                "ssl": [
                    1345,
                    1346,
                    1351,
                    1418,
                    1266,
                    1140,
                    1374,
                    1343
                ],
                "workers": [
                    1152,
                    1157,
                    1158,
                    1172,
                    1142
                ],
                "backlog": [
                    1144,
                    1379,
                    1270
                ],
                "register_sys_signals": [
                    1145,
                    1378
                ],
                "logger.warn": [
                    1153
                ],
                "logger": [
                    1153,
                    1420,
                    1400,
                    1180,
                    1406
                ],
                "NotImplementedError": [
                    1162
                ],
                "os.environ.get": [
                    1416,
                    1404,
                    1166
                ],
                "os.environ": [
                    1416,
                    1404,
                    1166
                ],
                "reloader_helpers.watchdog": [
                    1168
                ],
                "reloader_helpers": [
                    1168
                ],
                "serve": [
                    1280,
                    1170
                ],
                "serve_multiple": [
                    1172
                ],
                "logger.info": [
                    1420,
                    1180
                ],
                "stop": [
                    1186
                ],
                "return_asyncio_server": [
                    1271
                ],
                "self.trigger_events": [
                    1275
                ],
                "server_settings.get": [
                    1276,
                    1277
                ],
                "asyncio_server_kwargs": [
                    1281
                ],
                "AsyncioServer": [
                    1201
                ],
                "events": [
                    1289
                ],
                "result": [
                    1290,
                    1291,
                    1292
                ],
                "named_middleware": [
                    1296,
                    1315,
                    1312,
                    1299
                ],
                "self.named_request_middleware.get": [
                    1296
                ],
                "request_name": [
                    1297,
                    1313
                ],
                "applicable_middleware": [
                    1315,
                    1316,
                    1317,
                    1299,
                    1300,
                    1301
                ],
                "self.named_response_middleware.get": [
                    1312
                ],
                "_response": [
                    1318,
                    1319,
                    1320,
                    1321,
                    1322
                ],
                "cert": [
                    1345,
                    1347,
                    1350
                ],
                "ssl.get": [
                    1345,
                    1346
                ],
                "key": [
                    1346,
                    1347,
                    1350
                ],
                "context": [
                    1349,
                    1350,
                    1351
                ],
                "create_default_context": [
                    1349
                ],
                "Purpose.CLIENT_AUTH": [
                    1349
                ],
                "Purpose": [
                    1349
                ],
                "context.load_cert_chain": [
                    1350
                ],
                "self.config.PROXIES_COUNT": [
                    1359
                ],
                "self.error_handler.debug": [
                    1366
                ],
                "Signal": [
                    1376
                ],
                "event_name": [
                    1392,
                    1386
                ],
                "settings_name": [
                    1386,
                    1397
                ],
                "reverse": [
                    1393,
                    1386
                ],
                "listeners": [
                    1392,
                    1394,
                    1396,
                    1397
                ],
                "copy": [
                    1392
                ],
                "listeners.reverse": [
                    1394
                ],
                "logger.setLevel": [
                    1400
                ],
                "logging.DEBUG": [
                    1400
                ],
                "self.config.LOGO": [
                    1408,
                    1403,
                    1407
                ],
                "logger.debug": [
                    1406
                ],
                "BASE_LOGO": [
                    1409
                ],
                "run_async": [
                    1412
                ],
                "proto": [
                    1417,
                    1419,
                    1420
                ],
                "parts": [
                    1425,
                    1426
                ],
                "join": [
                    1426
                ],
                "asgi_app": [
                    1437,
                    1438
                ],
                "ASGIApp.create": [
                    1437
                ],
                "ASGIApp": [
                    1437
                ],
                "scope": [
                    1437
                ],
                "receive": [
                    1437
                ],
                "send": [
                    1437
                ]
            },
            "filtered_variables_in_file": {
                "name": [
                    896,
                    401,
                    539,
                    283,
                    934,
                    937,
                    943,
                    54,
                    313,
                    63,
                    580,
                    69,
                    325,
                    459,
                    724,
                    348,
                    861,
                    225,
                    866,
                    867,
                    868,
                    871,
                    885,
                    1013,
                    378,
                    253,
                    890
                ],
                "warnings.warn": [
                    1254,
                    1128,
                    1355,
                    55,
                    765
                ],
                "warnings": [
                    1253,
                    1254,
                    1127,
                    1128,
                    1354,
                    1355,
                    55,
                    764,
                    765
                ],
                "frame_records": [
                    62,
                    63
                ],
                "stack": [
                    62
                ],
                "getmodulename": [
                    63
                ],
                "configure_logging": [
                    66,
                    79
                ],
                "logging.config.dictConfig": [
                    67
                ],
                "logging.config": [
                    67
                ],
                "logging": [
                    1400,
                    67
                ],
                "log_config": [
                    67
                ],
                "LOGGING_CONFIG_DEFAULTS": [
                    67
                ],
                "self.name": [
                    1425,
                    69
                ],
                "self": [
                    513,
                    523,
                    529,
                    533,
                    1047,
                    1051,
                    573,
                    575,
                    69,
                    70,
                    71,
                    72,
                    73,
                    74,
                    75,
                    76,
                    589,
                    77,
                    78,
                    592,
                    79,
                    594,
                    80,
                    81,
                    82,
                    83,
                    84,
                    85,
                    86,
                    87,
                    88,
                    89,
                    90,
                    92,
                    611,
                    100,
                    613,
                    1123,
                    1134,
                    1136,
                    122,
                    635,
                    636,
                    124,
                    638,
                    126,
                    639,
                    129,
                    1150,
                    1151,
                    133,
                    647,
                    648,
                    649,
                    650,
                    653,
                    654,
                    655,
                    656,
                    147,
                    1179,
                    670,
                    1184,
                    161,
                    674,
                    1185,
                    192,
                    195,
                    717,
                    218,
                    1249,
                    739,
                    741,
                    742,
                    747,
                    748,
                    749,
                    1260,
                    1262,
                    247,
                    763,
                    1275,
                    771,
                    1296,
                    1299,
                    276,
                    1312,
                    802,
                    1315,
                    306,
                    319,
                    835,
                    1359,
                    848,
                    342,
                    1366,
                    1367,
                    861,
                    1375,
                    1392,
                    371,
                    1396,
                    1399,
                    1403,
                    1407,
                    1408,
                    395,
                    1425,
                    1436,
                    1437,
                    937,
                    942,
                    597,
                    961,
                    450,
                    452,
                    965,
                    987,
                    479,
                    992,
                    995,
                    487,
                    498,
                    1012,
                    509
                ],
                "self.asgi": [
                    1436,
                    100,
                    509,
                    70
                ],
                "self.router": [
                    802,
                    835,
                    71,
                    937,
                    533,
                    218,
                    861
                ],
                "router": [
                    71
                ],
                "Router": [
                    71
                ],
                "self.request_class": [
                    72
                ],
                "request_class": [
                    72
                ],
                "self.error_handler": [
                    992,
                    611,
                    613,
                    73,
                    1366,
                    987
                ],
                "error_handler": [
                    73
                ],
                "ErrorHandler": [
                    73
                ],
                "self.config": [
                    1408,
                    74,
                    1260,
                    1134,
                    1359,
                    848,
                    1403,
                    1407
                ],
                "Config": [
                    74
                ],
                "load_env": [
                    74
                ],
                "self.request_middleware": [
                    635,
                    1299,
                    75,
                    636
                ],
                "deque": [
                    1313,
                    648,
                    75,
                    76,
                    654,
                    1297
                ],
                "self.response_middleware": [
                    1315,
                    76,
                    638,
                    639
                ],
                "self.blueprints": [
                    741,
                    747,
                    77,
                    742
                ],
                "self._blueprint_order": [
                    748,
                    78
                ],
                "self.configure_logging": [
                    1399,
                    79
                ],
                "self.debug": [
                    80,
                    763,
                    1367,
                    995
                ],
                "self.sock": [
                    81
                ],
                "self.strict_slashes": [
                    450,
                    195,
                    487,
                    82,
                    573
                ],
                "strict_slashes": [
                    399,
                    280,
                    538,
                    310,
                    572,
                    573,
                    449,
                    194,
                    195,
                    323,
                    450,
                    578,
                    456,
                    82,
                    726,
                    346,
                    223,
                    486,
                    487,
                    375,
                    251
                ],
                "self.listeners": [
                    1392,
                    83,
                    147
                ],
                "defaultdict": [
                    83
                ],
                "self.is_stopping": [
                    1184,
                    1185,
                    84,
                    1151
                ],
                "self.is_running": [
                    1179,
                    100,
                    85,
                    1150
                ],
                "self.is_request_stream": [
                    192,
                    86
                ],
                "self.websocket_enabled": [
                    1249,
                    1123,
                    589,
                    597,
                    87
                ],
                "self.websocket_tasks": [
                    88,
                    529,
                    594,
                    523
                ],
                "self.named_request_middleware": [
                    647,
                    648,
                    649,
                    650,
                    1296,
                    89
                ],
                "self.named_response_middleware": [
                    1312,
                    653,
                    654,
                    655,
                    656,
                    90
                ],
                "self.go_fast": [
                    92
                ],
                "self.run": [
                    92
                ],
                "SanicException": [
                    991,
                    101,
                    127
                ],
                "get_event_loop": [
                    105,
                    1186,
                    1268
                ],
                "task": [
                    131,
                    133,
                    135,
                    137,
                    594,
                    595,
                    120,
                    122,
                    124,
                    126
                ],
                "self.loop.create_task": [
                    122,
                    124,
                    126
                ],
                "self.loop": [
                    122,
                    124,
                    126
                ],
                "loop.create_task": [
                    137,
                    133,
                    135
                ],
                "loop": [
                    1377,
                    133,
                    135,
                    137,
                    1290
                ],
                "self.listener": [
                    592,
                    129,
                    161
                ],
                "append": [
                    656,
                    650,
                    147
                ],
                "event": [
                    161,
                    1290,
                    147,
                    1289
                ],
                "listener": [
                    1396,
                    161,
                    147,
                    148
                ],
                "decorator": [
                    150
                ],
                "uri.startswith": [
                    483,
                    188
                ],
                "uri": [
                    396,
                    277,
                    534,
                    802,
                    803,
                    937,
                    810,
                    812,
                    307,
                    819,
                    820,
                    951,
                    827,
                    188,
                    189,
                    829,
                    830,
                    320,
                    576,
                    832,
                    835,
                    453,
                    718,
                    343,
                    219,
                    483,
                    484,
                    372,
                    248
                ],
                "stream": [
                    439,
                    457,
                    214,
                    215,
                    376,
                    281,
                    311,
                    446,
                    191
                ],
                "handler": [
                    522,
                    542,
                    937,
                    431,
                    435,
                    952,
                    442,
                    443,
                    444,
                    960,
                    962,
                    581,
                    198,
                    966,
                    967,
                    201,
                    971,
                    204,
                    460,
                    461,
                    207,
                    215,
                    221,
                    611,
                    228,
                    613,
                    614,
                    490,
                    493,
                    499,
                    500,
                    503,
                    504
                ],
                "routes": [
                    228,
                    201,
                    203,
                    493,
                    495,
                    532,
                    217,
                    542
                ],
                "args": [
                    771,
                    937,
                    522,
                    971,
                    204,
                    206
                ],
                "parameters.keys": [
                    204
                ],
                "parameters": [
                    204
                ],
                "signature": [
                    204
                ],
                "handler_name": [
                    211,
                    207
                ],
                "handler.__name__": [
                    962,
                    967,
                    207,
                    500,
                    504
                ],
                "handler.is_stream": [
                    215
                ],
                "routes.extend": [
                    217,
                    532
                ],
                "self.router.add": [
                    218,
                    533
                ],
                "methods": [
                    454,
                    432,
                    437,
                    443,
                    220
                ],
                "host": [
                    1416,
                    1420,
                    398,
                    279,
                    537,
                    810,
                    811,
                    812,
                    814,
                    309,
                    577,
                    322,
                    455,
                    848,
                    725,
                    345,
                    1371,
                    1245,
                    222,
                    1119,
                    1263,
                    1137,
                    374,
                    250
                ],
                "version": [
                    224,
                    324,
                    458,
                    400,
                    312,
                    377,
                    282,
                    347,
                    252
                ],
                "response": [
                    1029,
                    1032,
                    1039,
                    1302,
                    1303,
                    1304,
                    1305,
                    1306,
                    544,
                    932,
                    1318,
                    1322,
                    1324,
                    942,
                    946,
                    971,
                    972,
                    973,
                    979,
                    987,
                    988,
                    989,
                    992,
                    996,
                    230,
                    616,
                    1002,
                    1010,
                    1012,
                    1013,
                    1017
                ],
                "self.route": [
                    452,
                    395,
                    306,
                    371,
                    276,
                    342,
                    247,
                    319
                ],
                "method": [
                    434,
                    435,
                    437
                ],
                "HTTP_METHODS": [
                    434
                ],
                "_handler": [
                    435,
                    436,
                    438,
                    444,
                    445
                ],
                "handler.view_class": [
                    435
                ],
                "method.lower": [
                    435
                ],
                "methods.add": [
                    437
                ],
                "CompositionView": [
                    442
                ],
                "handler.handlers.keys": [
                    443
                ],
                "handler.handlers": [
                    443,
                    444
                ],
                "handler.handlers.values": [
                    444
                ],
                "self.enable_websocket": [
                    479
                ],
                "request.app": [
                    498
                ],
                "request": [
                    512,
                    961,
                    993,
                    516,
                    965,
                    1318,
                    937,
                    522,
                    971,
                    943,
                    498,
                    500,
                    1013,
                    502,
                    951,
                    1302,
                    987,
                    510
                ],
                "request.endpoint": [
                    961,
                    500,
                    965,
                    502
                ],
                "ws": [
                    530,
                    522,
                    515,
                    510
                ],
                "request.transport.get_websocket_connection": [
                    510
                ],
                "request.transport": [
                    512,
                    510
                ],
                "protocol": [
                    512,
                    513,
                    1122,
                    515,
                    1121,
                    1248,
                    1269,
                    1143,
                    1370,
                    1247
                ],
                "request.transport.get_protocol": [
                    512
                ],
                "protocol.app": [
                    513
                ],
                "protocol.websocket_handshake": [
                    515
                ],
                "subprotocols": [
                    579,
                    516
                ],
                "fut": [
                    529,
                    522,
                    523,
                    525
                ],
                "ensure_future": [
                    522
                ],
                "kwargs": [
                    866,
                    771,
                    867,
                    868,
                    838,
                    839,
                    901,
                    841,
                    522,
                    842,
                    937,
                    971,
                    846,
                    1102,
                    817,
                    1116,
                    797,
                    799
                ],
                "self.websocket_tasks.add": [
                    523
                ],
                "CancelledError": [
                    1025,
                    974,
                    526,
                    1015
                ],
                "ConnectionClosed": [
                    526
                ],
                "self.websocket_tasks.remove": [
                    529
                ],
                "ws.close": [
                    530
                ],
                "websocket_handler": [
                    535
                ],
                "self.websocket": [
                    575
                ],
                "task.cancel": [
                    595
                ],
                "enable": [
                    597
                ],
                "exception": [
                    608,
                    609,
                    610,
                    613
                ],
                "exceptions": [
                    608
                ],
                "e": [
                    993,
                    610,
                    611,
                    998,
                    987,
                    991
                ],
                "self.error_handler.add": [
                    611,
                    613
                ],
                "attach_to": [
                    634,
                    651,
                    637,
                    645
                ],
                "middleware": [
                    640,
                    1317,
                    1318,
                    649,
                    650,
                    655,
                    656,
                    1301,
                    1302,
                    635,
                    636,
                    638,
                    639
                ],
                "self.request_middleware.append": [
                    636
                ],
                "self.response_middleware.appendleft": [
                    639
                ],
                "_rn": [
                    646,
                    647,
                    648,
                    649,
                    650,
                    652,
                    653,
                    654,
                    655,
                    656
                ],
                "route_names": [
                    652,
                    646
                ],
                "middleware_or_request": [
                    674,
                    669,
                    670
                ],
                "self.register_middleware": [
                    674,
                    670
                ],
                "partial": [
                    673,
                    1396
                ],
                "static_register": [
                    716
                ],
                "file_or_directory": [
                    719
                ],
                "pattern": [
                    720,
                    886,
                    891,
                    861,
                    863
                ],
                "use_modified_since": [
                    721
                ],
                "use_content_range": [
                    722
                ],
                "stream_large_files": [
                    723
                ],
                "content_type": [
                    727
                ],
                "blueprint": [
                    737,
                    738,
                    741,
                    742,
                    744,
                    747,
                    748,
                    749
                ],
                "BlueprintGroup": [
                    737
                ],
                "item": [
                    738,
                    739
                ],
                "self.blueprint": [
                    771,
                    739
                ],
                "options": [
                    739,
                    749
                ],
                "blueprint.name": [
                    744,
                    747,
                    741,
                    742
                ],
                "self._blueprint_order.append": [
                    748
                ],
                "blueprint.register": [
                    749
                ],
                "warnings.simplefilter": [
                    1354,
                    764,
                    1253,
                    1127
                ],
                "kw": [
                    800,
                    794,
                    802,
                    797
                ],
                "Dict": [
                    794
                ],
                "view_name": [
                    800,
                    802,
                    805,
                    816,
                    796,
                    798
                ],
                "kw.update": [
                    800,
                    797
                ],
                "kwargs.pop": [
                    838,
                    839,
                    841,
                    842,
                    846,
                    817,
                    797,
                    799
                ],
                "view_name.endswith": [
                    816,
                    798
                ],
                "route": [
                    802,
                    803
                ],
                "self.router.find_route_by_view_name": [
                    802
                ],
                "URLBuildError": [
                    804,
                    893,
                    870
                ],
                "uri.find": [
                    810
                ],
                "filename": [
                    824,
                    817,
                    827,
                    825
                ],
                "folder_": [
                    827,
                    820,
                    821,
                    822
                ],
                "uri.split": [
                    820
                ],
                "folder_.endswith": [
                    821
                ],
                "filename.startswith": [
                    824
                ],
                "uri.endswith": [
                    829
                ],
                "out": [
                    832,
                    905,
                    898,
                    903
                ],
                "matched_params": [
                    835,
                    860
                ],
                "re.findall": [
                    835
                ],
                "re": [
                    898,
                    835,
                    877
                ],
                "self.router.parameter_pattern": [
                    835
                ],
                "anchor": [
                    903,
                    839
                ],
                "external": [
                    841,
                    850,
                    843,
                    847
                ],
                "scheme": [
                    903,
                    842,
                    843,
                    851,
                    853,
                    855
                ],
                "netloc": [
                    903,
                    846,
                    847,
                    848,
                    852,
                    853,
                    857,
                    858
                ],
                "self.config.get": [
                    848
                ],
                "split": [
                    853
                ],
                "netloc.split": [
                    858
                ],
                "match": [
                    860,
                    861
                ],
                "_type": [
                    880,
                    881,
                    861
                ],
                "self.router.parse_parameter_string": [
                    861
                ],
                "specific_pattern": [
                    877,
                    863
                ],
                "supplied_param": [
                    864,
                    898,
                    867,
                    874,
                    877,
                    884,
                    890
                ],
                "kwargs.get": [
                    867,
                    1116
                ],
                "passes_pattern": [
                    877,
                    879
                ],
                "re.match": [
                    877
                ],
                "type_name": [
                    881,
                    886
                ],
                "_type.__name__": [
                    881
                ],
                "msg": [
                    889,
                    883,
                    893
                ],
                "replacement_regex": [
                    896,
                    898
                ],
                "re.sub": [
                    898
                ],
                "query_string": [
                    901,
                    903
                ],
                "urlencode": [
                    901
                ],
                "urlunparse": [
                    903
                ],
                "cancelled": [
                    1024,
                    1018,
                    980,
                    933
                ],
                "self.router.get": [
                    937
                ],
                "self._run_request_middleware": [
                    942
                ],
                "request.uri_template": [
                    951
                ],
                "ServerError": [
                    953
                ],
                "self._build_endpoint_name": [
                    961,
                    965
                ],
                "isawaitable": [
                    1319,
                    1291,
                    972,
                    1303,
                    988
                ],
                "self.error_handler.response": [
                    987
                ],
                "self.error_handler.default": [
                    992
                ],
                "HTTPResponse": [
                    1002,
                    996
                ],
                "format_exc": [
                    998
                ],
                "self._run_response_middleware": [
                    1012
                ],
                "error_logger.exception": [
                    1020,
                    1174
                ],
                "error_logger": [
                    1020,
                    1174
                ],
                "write_callback": [
                    1028,
                    1039
                ],
                "StreamingHTTPResponse": [
                    1029
                ],
                "stream_callback": [
                    1032,
                    1031
                ],
                "SanicTestClient": [
                    1047
                ],
                "SanicASGITestClient": [
                    1051
                ],
                "Optional": [
                    1059,
                    1060,
                    1190,
                    1063,
                    1191,
                    1194,
                    1069,
                    1198,
                    1201
                ],
                "Union": [
                    1193,
                    1062
                ],
                "SSLContext": [
                    1193,
                    1062
                ],
                "socket": [
                    1194,
                    1063
                ],
                "Type": [
                    1065,
                    1195
                ],
                "Protocol": [
                    1065,
                    1195
                ],
                "Any": [
                    1067,
                    1197,
                    1070
                ],
                "auto_reload": [
                    1146,
                    1159,
                    1165,
                    1111,
                    1114,
                    1116
                ],
                "debug": [
                    1252,
                    1126,
                    1353,
                    1265,
                    1139,
                    1366,
                    1367,
                    1113,
                    1399
                ],
                "os.name": [
                    1152,
                    1113,
                    1154,
                    1159
                ],
                "os": [
                    1152,
                    1154,
                    1159,
                    1416,
                    1166,
                    1113,
                    1404
                ],
                "sock": [
                    1267,
                    1141,
                    1244,
                    1373,
                    1118
                ],
                "port": [
                    1416,
                    1420,
                    1264,
                    1138,
                    1372,
                    1245,
                    1119
                ],
                "WebSocketProtocol": [
                    1249,
                    1123
                ],
                "HttpProtocol": [
                    1249,
                    1123,
                    1335
                ],
                "stop_event": [
                    1352,
                    1251,
                    1125
                ],
                "access_log": [
                    1259,
                    1260,
                    1133,
                    1134
                ],
                "self.config.ACCESS_LOG": [
                    1260,
                    1134
                ],
                "server_settings": [
                    1281,
                    1413,
                    1262,
                    1422,
                    1136,
                    1170,
                    1172,
                    1397,
                    1369,
                    1276,
                    1277
                ],
                "self._helper": [
                    1136,
                    1262
                ],
                "ssl": [
                    1345,
                    1346,
                    1351,
                    1418,
                    1266,
                    1140,
                    1374,
                    1343
                ],
                "workers": [
                    1152,
                    1157,
                    1158,
                    1172,
                    1142
                ],
                "backlog": [
                    1144,
                    1379,
                    1270
                ],
                "register_sys_signals": [
                    1145,
                    1378
                ],
                "logger.warn": [
                    1153
                ],
                "logger": [
                    1153,
                    1420,
                    1400,
                    1180,
                    1406
                ],
                "os.environ.get": [
                    1416,
                    1404,
                    1166
                ],
                "os.environ": [
                    1416,
                    1404,
                    1166
                ],
                "reloader_helpers.watchdog": [
                    1168
                ],
                "reloader_helpers": [
                    1168
                ],
                "serve": [
                    1280,
                    1170
                ],
                "serve_multiple": [
                    1172
                ],
                "logger.info": [
                    1420,
                    1180
                ],
                "stop": [
                    1186
                ],
                "return_asyncio_server": [
                    1271
                ],
                "self.trigger_events": [
                    1275
                ],
                "server_settings.get": [
                    1276,
                    1277
                ],
                "asyncio_server_kwargs": [
                    1281
                ],
                "AsyncioServer": [
                    1201
                ],
                "events": [
                    1289
                ],
                "result": [
                    1290,
                    1291,
                    1292
                ],
                "named_middleware": [
                    1296,
                    1315,
                    1312,
                    1299
                ],
                "self.named_request_middleware.get": [
                    1296
                ],
                "request_name": [
                    1297,
                    1313
                ],
                "applicable_middleware": [
                    1315,
                    1316,
                    1317,
                    1299,
                    1300,
                    1301
                ],
                "self.named_response_middleware.get": [
                    1312
                ],
                "_response": [
                    1318,
                    1319,
                    1320,
                    1321,
                    1322
                ],
                "cert": [
                    1345,
                    1347,
                    1350
                ],
                "ssl.get": [
                    1345,
                    1346
                ],
                "key": [
                    1346,
                    1347,
                    1350
                ],
                "context": [
                    1349,
                    1350,
                    1351
                ],
                "create_default_context": [
                    1349
                ],
                "Purpose.CLIENT_AUTH": [
                    1349
                ],
                "Purpose": [
                    1349
                ],
                "context.load_cert_chain": [
                    1350
                ],
                "self.config.PROXIES_COUNT": [
                    1359
                ],
                "self.error_handler.debug": [
                    1366
                ],
                "Signal": [
                    1376
                ],
                "event_name": [
                    1392,
                    1386
                ],
                "settings_name": [
                    1386,
                    1397
                ],
                "reverse": [
                    1393,
                    1386
                ],
                "listeners": [
                    1392,
                    1394,
                    1396,
                    1397
                ],
                "copy": [
                    1392
                ],
                "listeners.reverse": [
                    1394
                ],
                "logger.setLevel": [
                    1400
                ],
                "logging.DEBUG": [
                    1400
                ],
                "self.config.LOGO": [
                    1408,
                    1403,
                    1407
                ],
                "logger.debug": [
                    1406
                ],
                "BASE_LOGO": [
                    1409
                ],
                "run_async": [
                    1412
                ],
                "proto": [
                    1417,
                    1419,
                    1420
                ],
                "parts": [
                    1425,
                    1426
                ],
                "join": [
                    1426
                ],
                "asgi_app": [
                    1437,
                    1438
                ],
                "ASGIApp.create": [
                    1437
                ],
                "ASGIApp": [
                    1437
                ],
                "scope": [
                    1437
                ],
                "receive": [
                    1437
                ],
                "send": [
                    1437
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/Volumes/SSD2T/bgp_envs/repos/sanic_1/tests/test_blueprints.py",
                "test_function": "test_bp_middleware_order",
                "test_function_code": "def test_bp_middleware_order(app):\n    blueprint = Blueprint(\"test_bp_middleware_order\")\n    order = list()\n    @blueprint.middleware(\"request\")\n    def mw_1(request):\n        order.append(1)\n    @blueprint.middleware(\"request\")\n    def mw_2(request):\n        order.append(2)\n    @blueprint.middleware(\"request\")\n    def mw_3(request):\n        order.append(3)\n    @blueprint.middleware(\"response\")\n    def mw_4(request, response):\n        order.append(6)\n    @blueprint.middleware(\"response\")\n    def mw_5(request, response):\n        order.append(5)\n    @blueprint.middleware(\"response\")\n    def mw_6(request, response):\n        order.append(4)\n\n    @blueprint.route(\"/\")\n    def process_response(request):\n        return text(\"OK\")\n\n    app.blueprint(blueprint)\n    order.clear()\n    request, response = app.test_client.get(\"/\")\n\n    assert response.status == 200\n    assert order == [1, 2, 3, 4, 5, 6]",
                "test_error": "assert [1, 2, 3, 6, 5, 4] == [1, 2, 3, 4, 5, 6]   At index 3 diff: 6 != 4   Full diff:   - [1, 2, 3, 6, 5, 4]   ?           ^     ^   + [1, 2, 3, 4, 5, 6]   ?           ^     ^",
                "full_test_error": "app = <sanic.app.Sanic object at 0x10ba7b7f0>\n\n    def test_bp_middleware_order(app):\n        blueprint = Blueprint(\"test_bp_middleware_order\")\n        order = list()\n        @blueprint.middleware(\"request\")\n        def mw_1(request):\n            order.append(1)\n        @blueprint.middleware(\"request\")\n        def mw_2(request):\n            order.append(2)\n        @blueprint.middleware(\"request\")\n        def mw_3(request):\n            order.append(3)\n        @blueprint.middleware(\"response\")\n        def mw_4(request, response):\n            order.append(6)\n        @blueprint.middleware(\"response\")\n        def mw_5(request, response):\n            order.append(5)\n        @blueprint.middleware(\"response\")\n        def mw_6(request, response):\n            order.append(4)\n    \n        @blueprint.route(\"/\")\n        def process_response(request):\n            return text(\"OK\")\n    \n        app.blueprint(blueprint)\n        order.clear()\n        request, response = app.test_client.get(\"/\")\n    \n        assert response.status == 200\n>       assert order == [1, 2, 3, 4, 5, 6]\nE       assert [1, 2, 3, 6, 5, 4] == [1, 2, 3, 4, 5, 6]\nE         At index 3 diff: 6 != 4\nE         Full diff:\nE         - [1, 2, 3, 6, 5, 4]\nE         ?           ^     ^\nE         + [1, 2, 3, 4, 5, 6]\nE         ?           ^     ^\n\ntests/test_blueprints.py:304: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": []
            }
        ]
    }
}