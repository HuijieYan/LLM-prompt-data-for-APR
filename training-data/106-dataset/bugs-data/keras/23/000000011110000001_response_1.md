```python
from tensorflow.keras.layers import InputLayer, Input
from tensorflow.keras import Model, Sequential
from tensorflow.python.keras.engine.network import get_source_inputs
from tensorflow.keras import Layer

def add(self, layer):
    if not isinstance(layer, Layer):
        raise TypeError('The added layer must be an instance of class Layer. Found: ' + str(layer))

    self.built = False
    if not self._layers:
        if isinstance(layer, InputLayer):
            set_inputs = True
            self.outputs = [layer.output]
            self.inputs = get_source_inputs(self.outputs[0])
            self.built = True
        elif hasattr(layer, 'output'):
            # For layers with a computed output shape, set them as built
            set_inputs = True
            self.outputs = [layer.output]
            output_shape = layer.compute_output_shape(layer.input_shape)
            if output_shape is None:
                raise ValueError('The layer ' + layer.name + ' has unknown computed output shape.')
            self.build(input_shape=output_shape)
        else:
            self._layers.append(layer)
    else:
        output_tensor = layer(self.outputs[0])
        if isinstance(output_tensor, list):
            raise TypeError('All layers in a Sequential model should have a single output tensor.')
        self.outputs = [output_tensor]

    if self.inputs:
        self.build()
    elif not set_inputs:
        self._layers.append(layer)
```