Corrected function:

```python
def get_pending_tasks(self, state):
    if len(self.tasks) < state.num_pending_tasks():
        return [task for task in self.tasks if task.status in [PENDING, RUNNING]]
    else:
        return state.get_pending_tasks()
```

Explanation:
The original function has a few issues:
1. It is using the `six.moves.filter` function incorrectly. The correct usage should be to provide a function as the first argument and the iterable as the second argument. 
2. The original function also references `PENDING` and `RUNNING` without specifying where they come from, which could cause NameError.

To fix the function, the list comprehension should be used to filter the tasks based on their status, and the correct function should be returned based on the condition.