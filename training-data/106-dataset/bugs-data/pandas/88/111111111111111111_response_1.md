The error in the `pivot_table` function is likely occurring due to incorrect handling of multi-index columns. The function is not properly checking for multi-index columns and is mistakenly treating the output as a `Series` object instead of a `DataFrame` when columns are passed as a tuple for creating a multi-index column.

In the provided test cases, the error message indicates that there is an AttributeError when trying to access the 'columns' attribute on a Series object. This suggests that the function assumes a Series object is returned instead of a DataFrame when handling multi-index columns.

To fix the bug, the `pivot_table` function needs to properly handle the case when multi-index columns are supplied. This includes checking the output for its type and handling it appropriately.

Here's the corrected code for the `pivot_table` function with multi-index columns:

```python
def pivot_table(data, values=None, index=None, columns=None, aggfunc='mean', fill_value=None, margins=False, dropna=True, margins_name='All', observed=False) -> 'DataFrame':
    # ... (previous function code) ...

    # Check for multi-index columns
    if isinstance(columns, tuple):
        table = pivot_table(
            data, values=values, index=index, columns=pd.MultiIndex.from_tuples([columns]), fill_value=fill_value,
            aggfunc=aggfunc, margins=margins, dropna=dropna, margins_name=margins_name, observed=observed
        )

        if not dropna:
            table = table.reindex(pd.MultiIndex.from_product(table.index.levels), fill_value=fill_value)

        return table

    # Rest of the function code for handling single index columns
    # ...
```

In this correction, a check for multi-index columns is added at the beginning of the function. If the `columns` parameter is a tuple, the function calls itself recursively with the multi-index columns converted to a `MultiIndex` object. Then it reindexes the table if `dropna` is set to `False`. This way, the function can handle multi-index columns correctly and return a DataFrame instead of a Series for multi-index column cases.