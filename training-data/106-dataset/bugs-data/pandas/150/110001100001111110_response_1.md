```python
import numpy as np
from pandas.api.types import is_object_dtype, is_float_dtype, is_complex_dtype, is_datetime64_any_dtype, needs_i8_conversion, is_dtype_equal

def array_equivalent(left, right, strict_nan=False):

    if not strict_nan:
        return np.array_equal(left, right)

    if left.shape != right.shape:
        return False

    if is_object_dtype(left) or is_object_dtype(right):
        for left_value, right_value in zip(left.ravel(), right.ravel()):
            if left_value is np.nan and right_value is not np.nan:
                return False
            elif isinstance(left_value, float) and np.isnan(left_value):
                if not (isinstance(right_value, float) and np.isnan(right_value)):
                    return False
            elif left_value != right_value:
                return False
        return True

    if is_float_dtype(left) or is_complex_dtype(left):
        if not (np.prod(left.shape) and np.prod(right.shape)):
            return True
        return ((left == right) | (np.isnan(left) & np.isnan(right))).all()

    if is_datetime64_any_dtype(left) or is_datetime64_any_dtype(right):
        return False

    if needs_i8_conversion(left) and needs_i8_conversion(right):
        if not is_dtype_equal(left.dtype, right.dtype):
            return False
        left = left.view("i8")
        right = right.view("i8")

    if left.dtype.type is np.void or right.dtype.type is np.void:
        if left.dtype != right.dtype:
            return False

    return np.array_equal(left, right)
```