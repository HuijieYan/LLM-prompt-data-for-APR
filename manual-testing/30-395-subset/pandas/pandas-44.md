# prompt

You need to fix a python buggy code snippets.

The buggy source code is following, and you should follow all specifications in comment if there exists comment:



The test source code is following:



The test error on command line is following:



The GitHub raised issue description for this bug is:



Your role:
- Repair the program with a replacement that requires minimal changes to the source code.
- Ensure that the replacement allows the program to pass a failed test without affecting other successful tests.
- Make sure the fixed patch can be easily applied to the original project.
- Provide a complete code snippet as your response, representing a fully functional function.
- There should be only one code snippet provided which is the fixed method or function.
- Your response should be in Markdown format. The python markdown code snippet format is ```python ... ```.


# Chain of thought prompt

You need to fix a python buggy code snippets.

The buggy source code is following, and you should follow all specifications in comment if there exists comment:



The test source code is following:



The test error on command line is following:



The GitHub raised issue description for this bug is:



You should provide answer with following steps:
1. Understand test and relationship between test code and error message
2. Find a possible error location inside buggy function
3. Reasoning why the bug appears
4. Suggest possible minimal fix method
5. Provide complete fix code for buggy function
