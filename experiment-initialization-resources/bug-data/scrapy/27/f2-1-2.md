# Error stack trace

```json
[
    [
        "self = <tests.test_downloadermiddleware_redirect.RedirectMiddlewareTest testMethod=test_request_meta_handling>\n\n    def test_request_meta_handling(self):\n        url = 'http://www.example.com/301'\n        url2 = 'http://www.example.com/redirected'\n        def _test_passthrough(req):\n            rsp = Response(url, headers={'Location': url2}, status=301, request=req)\n            r = self.mw.process_response(req, rsp, self.spider)\n            self.assertIs(r, rsp)\n>       _test_passthrough(Request(url, meta={'handle_httpstatus_list':\n                                                           [404, 301, 302]}))\n\n/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_27/tests/test_downloadermiddleware_redirect.py:149: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_27/tests/test_downloadermiddleware_redirect.py:147: in _test_passthrough\n    r = self.mw.process_response(req, rsp, self.spider)\n/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_27/scrapy/downloadermiddlewares/redirect.py:75: in process_response\n    redirected_url = urljoin(request.url, response.headers['location'])\n/usr/local/lib/python3.8/urllib/parse.py:522: in urljoin\n    base, url, _coerce_result = _coerce_args(base, url)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nargs = ('http://www.example.com/301', b'http://www.example.com/redirected')\nstr_input = True, arg = b'http://www.example.com/redirected'\n\n    def _coerce_args(*args):\n        # Invokes decode if necessary to create str args\n        # and returns the coerced inputs along with\n        # an appropriate result coercion function\n        #   - noop for str inputs\n        #   - encoding function otherwise\n        str_input = isinstance(args[0], str)\n        for arg in args[1:]:\n            # We special-case the empty string to support the\n            # \"scheme=''\" default argument to some functions\n            if arg and isinstance(arg, str) != str_input:\n>               raise TypeError(\"Cannot mix str and non-str arguments\")",
        "\n/usr/local/lib/python3.8/urllib/parse.py:124: TypeError"
    ]
]
```
