{
    "scrapy:28": {
        "/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_28/scrapy/dupefilters.py": {
            "buggy_functions": [
                {
                    "function_name": "__init__",
                    "function_code": "def __init__(self, path=None, debug=False):\n    self.file = None\n    self.fingerprints = set()\n    self.logdupes = True\n    self.debug = debug\n    self.logger = logging.getLogger(__name__)\n    if path:\n        self.file = open(os.path.join(path, 'requests.seen'), 'a+')\n        self.fingerprints.update(x.rstrip() for x in self.file)\n",
                    "decorators": [],
                    "docstring": null,
                    "start_line": 31,
                    "end_line": 39,
                    "variables": {
                        "self.file": [
                            32,
                            38,
                            39
                        ],
                        "self": [
                            32,
                            33,
                            34,
                            35,
                            36,
                            38,
                            39
                        ],
                        "self.fingerprints": [
                            33,
                            39
                        ],
                        "set": [
                            33
                        ],
                        "self.logdupes": [
                            34
                        ],
                        "self.debug": [
                            35
                        ],
                        "debug": [
                            35
                        ],
                        "self.logger": [
                            36
                        ],
                        "logging.getLogger": [
                            36
                        ],
                        "logging": [
                            36
                        ],
                        "__name__": [
                            36
                        ],
                        "path": [
                            37,
                            38
                        ],
                        "open": [
                            38
                        ],
                        "os.path.join": [
                            38
                        ],
                        "os.path": [
                            38
                        ],
                        "os": [
                            38
                        ],
                        "self.fingerprints.update": [
                            39
                        ],
                        "x.rstrip": [
                            39
                        ],
                        "x": [
                            39
                        ]
                    },
                    "filtered_variables": {
                        "self.file": [
                            32,
                            38,
                            39
                        ],
                        "self": [
                            32,
                            33,
                            34,
                            35,
                            36,
                            38,
                            39
                        ],
                        "self.fingerprints": [
                            33,
                            39
                        ],
                        "self.logdupes": [
                            34
                        ],
                        "self.debug": [
                            35
                        ],
                        "debug": [
                            35
                        ],
                        "self.logger": [
                            36
                        ],
                        "logging.getLogger": [
                            36
                        ],
                        "logging": [
                            36
                        ],
                        "path": [
                            37,
                            38
                        ],
                        "os.path.join": [
                            38
                        ],
                        "os.path": [
                            38
                        ],
                        "os": [
                            38
                        ],
                        "self.fingerprints.update": [
                            39
                        ],
                        "x.rstrip": [
                            39
                        ],
                        "x": [
                            39
                        ]
                    },
                    "diff_line_number": 38,
                    "class_data": {
                        "signature": "class RFPDupeFilter(BaseDupeFilter)",
                        "docstring": "Request Fingerprint duplicates filter",
                        "constructor_docstring": null,
                        "functions": [
                            "def __init__(self, path=None, debug=False):\n    self.file = None\n    self.fingerprints = set()\n    self.logdupes = True\n    self.debug = debug\n    self.logger = logging.getLogger(__name__)\n    if path:\n        self.file = open(os.path.join(path, 'requests.seen'), 'a+')\n        self.fingerprints.update((x.rstrip() for x in self.file))",
                            "@classmethod\ndef from_settings(cls, settings):\n    debug = settings.getbool('DUPEFILTER_DEBUG')\n    return cls(job_dir(settings), debug)",
                            "def request_seen(self, request):\n    fp = self.request_fingerprint(request)\n    if fp in self.fingerprints:\n        return True\n    self.fingerprints.add(fp)\n    if self.file:\n        self.file.write(fp + os.linesep)",
                            "def request_fingerprint(self, request):\n    return request_fingerprint(request)",
                            "def close(self, reason):\n    if self.file:\n        self.file.close()",
                            "def log(self, request, spider):\n    if self.debug:\n        msg = 'Filtered duplicate request: %(request)s'\n        self.logger.debug(msg, {'request': request}, extra={'spider': spider})\n    elif self.logdupes:\n        msg = 'Filtered duplicate request: %(request)s - no more duplicates will be shown (see DUPEFILTER_DEBUG to show all duplicates)'\n        self.logger.debug(msg, {'request': request}, extra={'spider': spider})\n        self.logdupes = False\n    spider.crawler.stats.inc_value('dupefilter/filtered', spider=spider)"
                        ],
                        "constructor_variables": [
                            "self.file = None",
                            "self.fingerprints = set()",
                            "self.logdupes = True",
                            "self.debug = debug",
                            "self.logger = logging.getLogger(__name__)",
                            "self.file = open(os.path.join(path, 'requests.seen'), 'a+')"
                        ],
                        "class_level_variables": [],
                        "class_decorators": [],
                        "function_signatures": [
                            "__init__(self, path=None, debug=False)",
                            "from_settings(cls, settings)",
                            "request_seen(self, request)",
                            "request_fingerprint(self, request)",
                            "close(self, reason)",
                            "log(self, request, spider)"
                        ],
                        "class_level_variable_names": [],
                        "constructor_variable_names": [
                            "logdupes",
                            "fingerprints",
                            "file",
                            "logger",
                            "debug"
                        ]
                    },
                    "used_imports": [
                        "import os",
                        "import logging"
                    ],
                    "variable_values": [
                        [
                            {
                                "self.file": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7fdfae0d1910>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.logdupes": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpqxjezogb'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "self.file": {
                                    "variable_value": "<_io.TextIOWrapper name='/tmp/tmpqxjezogb/requests.seen' mode='a+' encoding='UTF-8'>",
                                    "variable_type": "TextIOWrapper",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7fdfae0d1910>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "set()",
                                    "variable_type": "set",
                                    "variable_shape": "0"
                                },
                                "self.logdupes": {
                                    "variable_value": "True",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "<Logger scrapy.dupefilters (WARNING)>",
                                    "variable_type": "Logger",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpqxjezogb'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "self.file": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7fdfae0d1160>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.logdupes": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpqxjezogb'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "self.file": {
                                    "variable_value": "<_io.TextIOWrapper name='/tmp/tmpqxjezogb/requests.seen' mode='a+' encoding='UTF-8'>",
                                    "variable_type": "TextIOWrapper",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7fdfae0d1160>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "set()",
                                    "variable_type": "set",
                                    "variable_shape": "0"
                                },
                                "self.logdupes": {
                                    "variable_value": "True",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "<Logger scrapy.dupefilters (WARNING)>",
                                    "variable_type": "Logger",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpqxjezogb'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ],
                    "angelic_variable_values": [
                        [
                            {
                                "self.file": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7f40fefd0940>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.logdupes": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpste9_77b'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.file.seek": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "self.file": {
                                    "variable_value": "<_io.TextIOWrapper name='/tmp/tmpste9_77b/requests.seen' mode='a+' encoding='UTF-8'>",
                                    "variable_type": "TextIOWrapper",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7f40fefd0940>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "set()",
                                    "variable_type": "set",
                                    "variable_shape": "0"
                                },
                                "self.logdupes": {
                                    "variable_value": "True",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "<Logger scrapy.dupefilters (WARNING)>",
                                    "variable_type": "Logger",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpste9_77b'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.file.seek": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ],
                        [
                            {
                                "self.file": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7f40fefd0130>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.logdupes": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpste9_77b'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.file.seek": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            },
                            {
                                "self.file": {
                                    "variable_value": "<_io.TextIOWrapper name='/tmp/tmpste9_77b/requests.seen' mode='a+' encoding='UTF-8'>",
                                    "variable_type": "TextIOWrapper",
                                    "variable_shape": null
                                },
                                "self": {
                                    "variable_value": "<scrapy.dupefilters.RFPDupeFilter object at 0x7f40fefd0130>",
                                    "variable_type": "RFPDupeFilter",
                                    "variable_shape": null
                                },
                                "self.fingerprints": {
                                    "variable_value": "{'b003a1c91cbb9b390cc40d7bd5abe8f9675ed618'}",
                                    "variable_type": "set",
                                    "variable_shape": "1"
                                },
                                "self.logdupes": {
                                    "variable_value": "True",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "debug": {
                                    "variable_value": "False",
                                    "variable_type": "bool",
                                    "variable_shape": null
                                },
                                "self.logger": {
                                    "variable_value": "<Logger scrapy.dupefilters (WARNING)>",
                                    "variable_type": "Logger",
                                    "variable_shape": null
                                },
                                "logging.getLogger": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "logging": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "path": {
                                    "variable_value": "'/tmp/tmpste9_77b'",
                                    "variable_type": "str",
                                    "variable_shape": "16"
                                },
                                "os.path.join": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os.path": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "os": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "self.file.seek": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "self.fingerprints.update": {
                                    "variable_value": "None",
                                    "variable_type": "NoneType",
                                    "variable_shape": null
                                },
                                "x.rstrip": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                },
                                "x": {
                                    "variable_value": null,
                                    "variable_type": "None",
                                    "variable_shape": null
                                }
                            }
                        ]
                    ]
                }
            ],
            "inscope_functions": [
                "@classmethod\ndef from_settings(cls, settings):\n    return cls()",
                "def request_seen(self, request):\n    return False",
                "def open(self):  # can return deferred\n    pass",
                "def close(self, reason):  # can return a deferred\n    pass",
                "def log(self, request, spider):  # log that a request has been filtered\n    pass",
                "def __init__(self, path=None, debug=False):\n    self.file = None\n    self.fingerprints = set()\n    self.logdupes = True\n    self.debug = debug\n    self.logger = logging.getLogger(__name__)\n    if path:\n        self.file = open(os.path.join(path, 'requests.seen'), 'a+')\n        self.fingerprints.update(x.rstrip() for x in self.file)",
                "@classmethod\ndef from_settings(cls, settings):\n    debug = settings.getbool('DUPEFILTER_DEBUG')\n    return cls(job_dir(settings), debug)",
                "def request_seen(self, request):\n    fp = self.request_fingerprint(request)\n    if fp in self.fingerprints:\n        return True\n    self.fingerprints.add(fp)\n    if self.file:\n        self.file.write(fp + os.linesep)",
                "def request_fingerprint(self, request):\n    return request_fingerprint(request)",
                "def close(self, reason):\n    if self.file:\n        self.file.close()",
                "def log(self, request, spider):\n    if self.debug:\n        msg = \"Filtered duplicate request: %(request)s\"\n        self.logger.debug(msg, {'request': request}, extra={'spider': spider})\n    elif self.logdupes:\n        msg = (\"Filtered duplicate request: %(request)s\"\n               \" - no more duplicates will be shown\"\n               \" (see DUPEFILTER_DEBUG to show all duplicates)\")\n        self.logger.debug(msg, {'request': request}, extra={'spider': spider})\n        self.logdupes = False\n\n    spider.crawler.stats.inc_value('dupefilter/filtered', spider=spider)"
            ],
            "inscope_function_signatures": [
                "from_settings(cls, settings)",
                "request_seen(self, request)",
                "open(self)",
                "close(self, reason)",
                "log(self, request, spider)",
                "__init__(self, path=None, debug=False)",
                "from_settings(cls, settings)",
                "request_seen(self, request)",
                "request_fingerprint(self, request)",
                "close(self, reason)",
                "log(self, request, spider)"
            ],
            "variables_in_file": {
                "object": [
                    9
                ],
                "cls": [
                    44,
                    13
                ],
                "classmethod": [
                    41,
                    11
                ],
                "BaseDupeFilter": [
                    28
                ],
                "self.file": [
                    32,
                    38,
                    39,
                    51,
                    52,
                    58,
                    59
                ],
                "self": [
                    32,
                    33,
                    34,
                    35,
                    36,
                    38,
                    39,
                    47,
                    48,
                    50,
                    51,
                    52,
                    58,
                    59,
                    62,
                    64,
                    65,
                    69,
                    70
                ],
                "self.fingerprints": [
                    48,
                    33,
                    50,
                    39
                ],
                "set": [
                    33
                ],
                "self.logdupes": [
                    65,
                    34,
                    70
                ],
                "self.debug": [
                    35,
                    62
                ],
                "debug": [
                    43,
                    35,
                    44
                ],
                "self.logger": [
                    64,
                    36,
                    69
                ],
                "logging.getLogger": [
                    36
                ],
                "logging": [
                    36
                ],
                "__name__": [
                    36
                ],
                "path": [
                    37,
                    38
                ],
                "open": [
                    38
                ],
                "os.path.join": [
                    38
                ],
                "os.path": [
                    38
                ],
                "os": [
                    52,
                    38
                ],
                "self.fingerprints.update": [
                    39
                ],
                "x.rstrip": [
                    39
                ],
                "x": [
                    39
                ],
                "settings.getbool": [
                    43
                ],
                "settings": [
                    43,
                    44
                ],
                "job_dir": [
                    44
                ],
                "fp": [
                    48,
                    50,
                    52,
                    47
                ],
                "self.request_fingerprint": [
                    47
                ],
                "request": [
                    64,
                    69,
                    55,
                    47
                ],
                "self.fingerprints.add": [
                    50
                ],
                "self.file.write": [
                    52
                ],
                "os.linesep": [
                    52
                ],
                "request_fingerprint": [
                    55
                ],
                "self.file.close": [
                    59
                ],
                "msg": [
                    64,
                    66,
                    69,
                    63
                ],
                "self.logger.debug": [
                    64,
                    69
                ],
                "spider": [
                    64,
                    72,
                    69
                ],
                "spider.crawler.stats.inc_value": [
                    72
                ],
                "spider.crawler.stats": [
                    72
                ],
                "spider.crawler": [
                    72
                ]
            },
            "filtered_variables_in_file": {
                "cls": [
                    44,
                    13
                ],
                "BaseDupeFilter": [
                    28
                ],
                "self.file": [
                    32,
                    38,
                    39,
                    51,
                    52,
                    58,
                    59
                ],
                "self": [
                    32,
                    33,
                    34,
                    35,
                    36,
                    38,
                    39,
                    47,
                    48,
                    50,
                    51,
                    52,
                    58,
                    59,
                    62,
                    64,
                    65,
                    69,
                    70
                ],
                "self.fingerprints": [
                    48,
                    33,
                    50,
                    39
                ],
                "self.logdupes": [
                    65,
                    34,
                    70
                ],
                "self.debug": [
                    35,
                    62
                ],
                "debug": [
                    43,
                    35,
                    44
                ],
                "self.logger": [
                    64,
                    36,
                    69
                ],
                "logging.getLogger": [
                    36
                ],
                "logging": [
                    36
                ],
                "path": [
                    37,
                    38
                ],
                "os.path.join": [
                    38
                ],
                "os.path": [
                    38
                ],
                "os": [
                    52,
                    38
                ],
                "self.fingerprints.update": [
                    39
                ],
                "x.rstrip": [
                    39
                ],
                "x": [
                    39
                ],
                "settings.getbool": [
                    43
                ],
                "settings": [
                    43,
                    44
                ],
                "job_dir": [
                    44
                ],
                "fp": [
                    48,
                    50,
                    52,
                    47
                ],
                "self.request_fingerprint": [
                    47
                ],
                "request": [
                    64,
                    69,
                    55,
                    47
                ],
                "self.fingerprints.add": [
                    50
                ],
                "self.file.write": [
                    52
                ],
                "os.linesep": [
                    52
                ],
                "request_fingerprint": [
                    55
                ],
                "self.file.close": [
                    59
                ],
                "msg": [
                    64,
                    66,
                    69,
                    63
                ],
                "self.logger.debug": [
                    64,
                    69
                ],
                "spider": [
                    64,
                    72,
                    69
                ],
                "spider.crawler.stats.inc_value": [
                    72
                ],
                "spider.crawler.stats": [
                    72
                ],
                "spider.crawler": [
                    72
                ]
            }
        },
        "test_data": [
            {
                "test_path": "/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_28/tests/test_dupefilters.py",
                "test_function": "test_dupefilter_path",
                "test_function_code": "    def test_dupefilter_path(self):\n        r1 = Request('http://scrapytest.org/1')\n        r2 = Request('http://scrapytest.org/2')\n\n        path = tempfile.mkdtemp()\n        try:\n            df = RFPDupeFilter(path)\n            df.open()\n            assert not df.request_seen(r1)\n            assert df.request_seen(r1)\n            df.close('finished')\n\n            df2 = RFPDupeFilter(path)\n            df2.open()\n            assert df2.request_seen(r1)\n            assert not df2.request_seen(r2)\n            assert df2.request_seen(r2)\n            df2.close('finished')\n        finally:\n            shutil.rmtree(path)",
                "test_error": "AssertionError",
                "full_test_error": "self = <tests.test_dupefilters.RFPDupeFilterTest testMethod=test_dupefilter_path>\n\n    def test_dupefilter_path(self):\n        r1 = Request('http://scrapytest.org/1')\n        r2 = Request('http://scrapytest.org/2')\n    \n        path = tempfile.mkdtemp()\n        try:\n            df = RFPDupeFilter(path)\n            df.open()\n            assert not df.request_seen(r1)\n            assert df.request_seen(r1)\n            df.close('finished')\n    \n            df2 = RFPDupeFilter(path)\n            df2.open()\n>           assert df2.request_seen(r1)\nE           AssertionError\n\n/home/ubuntu/Desktop/bgp_envs_local/repos/scrapy_28/tests/test_dupefilters.py:43: AssertionError",
                "traceback": null,
                "test_error_location": null,
                "test_function_decorators": []
            }
        ]
    }
}