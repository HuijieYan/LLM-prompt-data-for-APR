# Error stack trace

```json
[
    [
        "self = <tests.test_utils.TestCache object at 0x7f5f4f5fc9d0>\nshelve = {'tests.test_utils.<function TestCache.fn.<locals>.fn ': {'etag': '-1', 'value': 'old-value'}}\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f414290>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_when_etag_changed(self, shelve, fn, key):\n        shelve.update({key: {'etag': '-1', 'value': 'old-value'}})\n>       assert fn() == 'test'\n\ntests/test_utils.py:181: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-4>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f414050>, args = ()\nkwargs = {}, cache_path = '/tmp/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ],
    [
        "self = <tests.test_utils.TestCache object at 0x7f5f4f39e190>\nshelve = {'tests.test_utils.<function TestCache.fn.<locals>.fn ': {'etag': '0', 'value': 'new-value'}}\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f414b00>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_with_filled_cache(self, shelve, fn, key):\n        cache_value = {key: {'etag': '0', 'value': 'new-value'}}\n        shelve.update(cache_value)\n>       assert fn() == 'new-value'\n\ntests/test_utils.py:176: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-6>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f4148c0>, args = ()\nkwargs = {}, cache_path = '/tmp/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ],
    [
        "self = <tests.test_utils.TestCache object at 0x7f5f4f56e590>, shelve = {}\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f414830>\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn '\n\n    def test_with_blank_cache(self, shelve, fn, key):\n        assert shelve == {}\n>       assert fn() == 'test'\n\ntests/test_utils.py:170: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n<decorator-gen-8>:2: in fn\n    ???\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nfn = <function TestCache.fn.<locals>.fn at 0x7f5f4f414170>, args = ()\nkwargs = {}, cache_path = '/tmp/.thefuck-cache'\nkey = 'tests.test_utils.<function TestCache.fn.<locals>.fn ', etag = '0'\n\n    @decorator\n    def _cache(fn, *args, **kwargs):\n        if cache.disabled:\n            return fn(*args, **kwargs)\n    \n        cache_path = os.path.join(tempfile.gettempdir(), '.thefuck-cache')\n        key = '{}.{}'.format(fn.__module__, repr(fn).split('at')[0])\n    \n        etag = '.'.join(_get_mtime(name) for name in depends_on)\n    \n>       with shelve.open(cache_path) as db:",
        "\nthefuck/utils.py:183: AttributeError"
    ]
]
```
