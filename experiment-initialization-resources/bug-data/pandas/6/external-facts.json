{
    "pandas:6": {
        "github_issue_title": [
            "BUG: ValueError: Given date string not likely a datetime when grouping by PeriodIndex level\n"
        ],
        "github_issue_description": [
            " I have checked that this issue has not already been reported.\n I have confirmed this bug exists on the latest version of pandas.\n (optional) I have confirmed this bug exists on the master branch of pandas.\nCode Sample, a copy-pastable example\nIn [10]: t = pd.Series([1], index=pd.PeriodIndex(['2000'], name=\"A\", freq=\"D\"))\n\nIn [11]: t.groupby(level=\"A\").size()\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/indexes/period.py in get_loc(self, key, method, tolerance)\n    593         try:\n--> 594             return self._engine.get_loc(key)\n    595         except KeyError:\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/index.pyx in pandas._libs.index.IndexEngine.get_loc()\n\npandas/_libs/index_class_helper.pxi in pandas._libs.index.Int64Engine._check_type()\n\nKeyError: 'A'\n\nDuring handling of the above exception, another exception occurred:\n\nValueError                                Traceback (most recent call last)\n<ipython-input-11-ca2eac2f77ff> in <module>\n----> 1 t.groupby(\"A\").size()\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/series.py in groupby(self, by, axis, level, as_index, sort, group_keys, squeeze, observed)\n   1685             group_keys=group_keys,\n   1686             squeeze=squeeze,\n-> 1687             observed=observed,\n   1688         )\n   1689\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/groupby/groupby.py in __init__(self, obj, keys, axis, level, grouper, exclusions, selection, as_index, sort, group_keys, squeeze, observed, mutated)\n    407                 sort=sort,\n    408                 observed=observed,\n--> 409                 mutated=self.mutated,\n    410             )\n    411\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/groupby/grouper.py in get_grouper(obj, key, axis, level, sort, observed, mutated, validate)\n    588\n    589         elif is_in_axis(gpr):  # df.groupby('name')\n--> 590             if gpr in obj:\n    591                 if validate:\n    592                     obj._check_label_or_level_ambiguity(gpr, axis=axis)\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/generic.py in __contains__(self, key)\n   1848     def __contains__(self, key) -> bool_t:\n   1849         \"\"\"True if the key is in the info axis\"\"\"\n-> 1850         return key in self._info_axis\n   1851\n   1852     @property\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/indexes/period.py in __contains__(self, key)\n    384         else:\n    385             try:\n--> 386                 self.get_loc(key)\n    387                 return True\n    388             except (TypeError, KeyError):\n\n~/Envs/dask-dev/lib/python3.7/site-packages/pandas/core/indexes/period.py in get_loc(self, key, method, tolerance)\n    598\n    599             try:\n--> 600                 asdt, parsed, reso = parse_time_string(key, self.freq)\n    601                 key = asdt\n    602             except TypeError:\n\npandas/_libs/tslibs/parsing.pyx in pandas._libs.tslibs.parsing.parse_time_string()\n\npandas/_libs/tslibs/parsing.pyx in pandas._libs.tslibs.parsing.parse_datetime_string_with_reso()\n\nValueError: Given date string not likely a datetime.\nProblem description\nWith a regular Index, we see the following\n\nIn [13]: s = pd.Series([1], index=pd.Index(['a'], name='A'))\n\nIn [14]: s.groupby(level=\"A\").size()\nOut[14]:\nA\na    1\ndtype: int64\nThis seems to only affect PeriodIndex. DatetimeIndex works fine.\n\nExpected Output\nA\n2000-01-01    1\nFreq: D, dtype: int64\n"
        ]
    }
}